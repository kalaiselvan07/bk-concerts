time=2025-10-30T21:00:19.802+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T21:00:19.803+05:30 level=INFO msg="[main] program started"
time=2025-10-30T21:00:19.804+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T21:00:19.804+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T21:00:19.804+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T21:00:19.804+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T21:00:23.043+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T21:00:23.049+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T21:00:23.055+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T21:00:23.055+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T21:00:23.055+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T21:00:23.363+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T21:00:23.363+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T21:00:23.666+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T21:00:23.666+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T21:00:24.140+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T21:00:24.140+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T21:00:24.587+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T21:00:24.587+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T21:00:25.707+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T21:00:25.713+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T21:00:26.113+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T21:00:26.123+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T21:00:26.631+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T21:00:26.635+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T21:00:26.635+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T21:00:26.635+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T21:00:26.635+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T21:00:26.635+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T21:00:26.635+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T21:00:26.635+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T21:00:26.635+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T21:00:26.636+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T21:00:26.636+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T21:00:38.341+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:00:38.341+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:00:38.342+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:00:38.342+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:00:38.343+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:00:39.433+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T21:00:39.447+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:00:39.448+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:00:39.449+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:00:39.449+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:00:39.450+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:00:39.772+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T21:00:43.881+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:00:43.882+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:00:43.882+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:00:43.882+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:00:45.698+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 0 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:00:45.710+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:01:06.292+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:01:06.293+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T21:01:06.622+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-10-30T21:01:08.712+05:30 level=WARN msg="[get-seat-uc] Transactional lock failed for 14c7770d-c354-4df9-85e1-9c1757a8acbc: Seat not found."
time=2025-10-30T21:01:50.516+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:01:50.517+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:01:50.517+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:01:50.518+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:01:50.519+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:01:50.519+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:01:50.519+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:01:50.521+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:01:50.521+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:01:50.848+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:01:50.856+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:01:50.860+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:01:50.861+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:01:51.250+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:01:54.003+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:01:54.021+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:01:54.030+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:01:54.033+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:01:54.216+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:01:54.219+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:01:54.220+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:01:54.221+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:01:54.418+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:01:54.611+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:02:37.366+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:02:37.366+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T21:02:37.737+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 1adb1847-8b9e-48c1-9c90-17fa66efee4a"
time=2025-10-30T21:02:39.205+05:30 level=INFO msg="[get-seat-uc] Seat 1adb1847-8b9e-48c1-9c90-17fa66efee4a successfully locked for update. Current Available: 194"
time=2025-10-30T21:02:39.205+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 1adb1847-8b9e-48c1-9c90-17fa66efee4a. New count: 193"
time=2025-10-30T21:02:40.092+05:30 level=INFO msg="[update-seat-uc] Seat 1adb1847-8b9e-48c1-9c90-17fa66efee4a availability updated to 193 within transaction."
time=2025-10-30T21:02:40.092+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T21:02:40.093+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 5456bd0f-1900-452c-9975-c686051f29ab for Name: adsfas"
time=2025-10-30T21:02:40.924+05:30 level=INFO msg="[create-participant-uc] Participant 5456bd0f-1900-452c-9975-c686051f29ab inserted successfully within transaction."
time=2025-10-30T21:02:42.400+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 4572e33c-68a6-49eb-852a-1404bea3313d"
time=2025-10-30T21:02:42.411+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: blackticketentertainments.ge@gmail.com"
time=2025-10-30T21:02:43.341+05:30 level=INFO msg="[auth] ‚úÖ Email sent to blackticketentertainments.ge@gmail.com via Resend."
time=2025-10-30T21:02:43.341+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 4572e33c-68a6-49eb-852a-1404bea3313d"
time=2025-10-30T21:02:47.195+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:02:47.197+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:02:47.198+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:02:47.198+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:02:48.717+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:02:48.718+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:02:53.076+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:02:53.076+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:02:53.076+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:02:53.076+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:02:53.076+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:02:54.436+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:02:54.442+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:02:54.442+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:02:54.444+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:02:54.444+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:02:54.445+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:02:55.523+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:04:12.747+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T21:04:12.752+05:30 level=INFO msg="[main] program started"
time=2025-10-30T21:04:12.752+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T21:04:12.753+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T21:04:12.753+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T21:04:12.754+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T21:04:17.642+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T21:04:17.645+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T21:04:17.645+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T21:04:17.645+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T21:04:17.645+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T21:04:17.985+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T21:04:17.989+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T21:04:18.375+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T21:04:18.386+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T21:04:18.807+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T21:04:18.807+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T21:04:19.133+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T21:04:19.133+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T21:04:19.521+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T21:04:19.525+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T21:04:19.948+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T21:04:19.949+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T21:04:21.980+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T21:04:21.982+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T21:04:21.982+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T21:04:21.983+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T21:04:21.983+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T21:04:21.983+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T21:04:21.984+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T21:04:21.984+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T21:04:21.985+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T21:04:21.985+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T21:04:21.985+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T21:04:38.049+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:04:38.049+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:04:38.051+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:04:38.051+05:30 level=INFO msg="[booking-controller] Verification requested: 4572e33c-68a6-49eb-852a-1404bea3313d ‚Üí approve"
time=2025-10-30T21:04:38.052+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 4572e33c-68a6-49eb-852a-1404bea3313d"
time=2025-10-30T21:04:45.125+05:30 level=INFO msg="[approve-booking-uc] Booking 4572e33c-68a6-49eb-852a-1404bea3313d marked APPROVED."
time=2025-10-30T21:04:45.127+05:30 level=INFO msg="[approve-booking-uc] PDF generated successfully for 4572e33c-68a6-49eb-852a-1404bea3313d"
time=2025-10-30T21:04:47.332+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-10-30T21:04:47.333+05:30 level=INFO msg="[approve-booking-uc] Approval email with PDF sent to kalaiselvan7834@gmail.com"
time=2025-10-30T21:04:48.883+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:04:48.883+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:04:48.883+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:04:48.885+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:04:48.885+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:04:49.324+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T21:04:50.099+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:04:50.099+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-30T21:04:50.099+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:04:50.100+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-30T21:04:50.101+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-30T21:04:53.711+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 1 total bookings for admin."
time=2025-10-30T21:05:43.187+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:05:43.190+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:05:43.190+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:05:43.190+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:05:43.190+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:05:43.191+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:05:43.192+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:05:43.191+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:05:43.193+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:05:43.596+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:05:43.601+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:05:43.601+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:05:43.602+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:05:44.505+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:05:47.078+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:05:47.090+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:05:47.094+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:05:47.095+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:05:47.438+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:05:47.794+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:05:47.796+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:05:47.797+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:05:47.797+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:05:48.191+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:05:49.027+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:05:49.028+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:05:49.028+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:05:49.029+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:05:50.560+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:05:50.561+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:06:40.347+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:06:40.347+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T21:06:40.736+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 9bf79acc-5df2-4f63-a2ec-94523823af91"
time=2025-10-30T21:06:41.556+05:30 level=INFO msg="[get-seat-uc] Seat 9bf79acc-5df2-4f63-a2ec-94523823af91 successfully locked for update. Current Available: 200"
time=2025-10-30T21:06:41.557+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 9bf79acc-5df2-4f63-a2ec-94523823af91. New count: 199"
time=2025-10-30T21:06:42.419+05:30 level=INFO msg="[update-seat-uc] Seat 9bf79acc-5df2-4f63-a2ec-94523823af91 availability updated to 199 within transaction."
time=2025-10-30T21:06:42.420+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T21:06:42.420+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: ea546216-8b0a-4c81-a5aa-08cb8b77327e for Name: selvan"
time=2025-10-30T21:06:43.304+05:30 level=INFO msg="[create-participant-uc] Participant ea546216-8b0a-4c81-a5aa-08cb8b77327e inserted successfully within transaction."
time=2025-10-30T21:06:45.821+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: a9ea5539-0c33-4333-a3b4-9be09eeaf7da"
time=2025-10-30T21:06:45.826+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: blackticketentertainments.ge@gmail.com"
time=2025-10-30T21:06:47.642+05:30 level=INFO msg="[auth] ‚úÖ Email sent to blackticketentertainments.ge@gmail.com via Resend."
time=2025-10-30T21:06:47.648+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: a9ea5539-0c33-4333-a3b4-9be09eeaf7da"
time=2025-10-30T21:11:07.046+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T21:11:07.048+05:30 level=INFO msg="[main] program started"
time=2025-10-30T21:11:07.048+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T21:11:07.048+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T21:11:07.048+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T21:11:07.049+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T21:11:07.163+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T21:11:07.163+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T21:11:07.163+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T21:11:07.163+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T21:11:07.163+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T21:11:07.164+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T21:11:07.164+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T21:11:07.164+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T21:11:07.165+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T21:11:07.165+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T21:11:07.165+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T21:11:07.166+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T21:11:07.166+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T21:11:07.166+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T21:11:07.166+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T21:11:07.166+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T21:11:07.166+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T21:11:07.166+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T21:11:07.166+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T21:11:07.167+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T21:11:07.167+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T21:11:07.167+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T21:11:07.167+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T21:11:07.167+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T21:11:07.167+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T21:11:07.167+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T21:11:07.167+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T21:11:07.167+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T21:12:53.775+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:12:53.776+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:12:53.776+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:12:53.776+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:12:53.776+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:12:53.781+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:12:53.783+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:12:53.783+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:12:53.784+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:12:53.784+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:12:53.784+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:12:53.785+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:12:57.754+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:12:57.755+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:12:57.756+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:12:57.756+05:30 level=INFO msg="[booking-controller] Verification requested: 81155491-05ed-45cc-9d84-9d9d16336a8f ‚Üí approve"
time=2025-10-30T21:12:57.757+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 81155491-05ed-45cc-9d84-9d9d16336a8f"
time=2025-10-30T21:12:57.772+05:30 level=INFO msg="[approve-booking-uc] Booking 81155491-05ed-45cc-9d84-9d9d16336a8f marked APPROVED."
time=2025-10-30T21:12:57.778+05:30 level=INFO msg="[approve-booking-uc] PDF generated successfully for 81155491-05ed-45cc-9d84-9d9d16336a8f"
time=2025-10-30T21:12:59.621+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-10-30T21:12:59.622+05:30 level=INFO msg="[approve-booking-uc] Approval email with PDF sent to kalaiselvan7834@gmail.com"
time=2025-10-30T21:13:02.613+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:13:02.613+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:13:02.614+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:13:02.614+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:13:02.614+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:13:02.616+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T21:13:10.636+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:10.637+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:10.637+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:13:10.637+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:10.637+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:13:10.639+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:13:10.642+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:13:10.642+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:13:10.644+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:13:10.648+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:13:10.650+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:10.651+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:13:10.651+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:13:10.654+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:13:11.009+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:13:11.013+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:11.014+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:13:11.014+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:13:11.015+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:13:11.081+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:13:11.086+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:11.086+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:13:11.088+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:13:11.089+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:13:11.796+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:11.797+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:13:11.797+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:13:11.798+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:13:11.806+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:11.808+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:13:11.806+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:11.806+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:11.808+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:13:11.809+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:13:11.810+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:13:11.811+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:13:11.811+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:13:11.811+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:13:11.815+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:13:11.816+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:13:11.818+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:11.818+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:13:11.819+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:13:11.819+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:11.819+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:13:11.819+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:13:11.819+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:13:11.820+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:13:21.663+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:21.664+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:13:21.665+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:13:21.665+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:13:21.677+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:13:21.678+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:13:48.581+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:48.583+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T21:13:48.585+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 69a0b445-c3d5-4e23-bad1-e8f92f064bcf"
time=2025-10-30T21:13:48.589+05:30 level=INFO msg="[get-seat-uc] Seat 69a0b445-c3d5-4e23-bad1-e8f92f064bcf successfully locked for update. Current Available: 100"
time=2025-10-30T21:13:48.590+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 69a0b445-c3d5-4e23-bad1-e8f92f064bcf. New count: 99"
time=2025-10-30T21:13:48.596+05:30 level=INFO msg="[update-seat-uc] Seat 69a0b445-c3d5-4e23-bad1-e8f92f064bcf availability updated to 99 within transaction."
time=2025-10-30T21:13:48.597+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T21:13:48.598+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 45142f04-a8fb-4ca1-ad4e-fe7668bfaba6 for Name: Kalai"
time=2025-10-30T21:13:48.602+05:30 level=INFO msg="[create-participant-uc] Participant 45142f04-a8fb-4ca1-ad4e-fe7668bfaba6 inserted successfully within transaction."
time=2025-10-30T21:13:48.620+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:13:48.621+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-30T21:13:49.263+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T21:13:49.264+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:13:58.492+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:13:58.494+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:13:58.495+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:13:58.495+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:13:58.501+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 2 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:13:58.501+05:30 level=INFO msg="[booking] Successfully retrieved 2 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:17:49.767+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:17:49.768+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:17:49.768+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:17:49.768+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:17:49.769+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:17:49.769+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:17:49.769+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:17:49.770+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:17:49.770+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:17:49.771+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:17:49.771+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:17:49.771+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:17:49.774+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:17:49.775+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:17:49.776+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:17:49.777+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:17:49.778+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:17:49.778+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:17:49.778+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:17:49.778+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:17:49.779+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:17:49.779+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:17:49.779+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:17:49.780+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:17:51.285+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:17:51.286+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:17:51.287+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:17:51.288+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:17:51.292+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 2 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:17:51.293+05:30 level=INFO msg="[booking] Successfully retrieved 2 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:17:55.417+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:17:55.417+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-30T21:17:55.417+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:17:55.418+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-30T21:17:55.419+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-30T21:17:55.421+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 2 total bookings for admin."
time=2025-10-30T21:18:00.698+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:18:00.699+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:00.699+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:00.702+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:00.702+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:02.805+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:18:02.805+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:18:02.806+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:18:02.807+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:18:02.807+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:18:02.809+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:18:05.221+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:18:05.222+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-30T21:18:05.223+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:18:05.223+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-30T21:18:05.226+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-30T21:18:05.229+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 2 total bookings for admin."
time=2025-10-30T21:18:06.440+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:18:06.441+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:18:06.442+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:18:06.442+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:18:06.442+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:18:06.446+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:18:14.073+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:18:14.073+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:14.073+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:14.075+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:14.075+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:24.006+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:18:24.006+05:30 level=INFO msg="[update-booking-receipt-uc] üöÄ Starting receipt re-upload for booking 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:24.008+05:30 level=INFO msg="[update-booking-receipt-uc] üßæ Transaction started for booking 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:24.011+05:30 level=INFO msg="[update-booking-receipt-uc] ‚úÖ DB updated and committed for booking 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:24.012+05:30 level=INFO msg="[update-booking-receipt-uc] üéØ Receipt re-upload completed for booking 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:18:24.012+05:30 level=INFO msg="[booking] Receipt updated successfully for booking 6f2c9edc-774a-4356-b5f1-c444c8499755."
time=2025-10-30T21:18:25.362+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T21:18:25.362+05:30 level=INFO msg="[update-booking-receipt-uc] ‚úâÔ∏è Admin notified of re-upload for booking 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:25:32.811+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T21:25:32.813+05:30 level=INFO msg="[main] program started"
time=2025-10-30T21:25:32.814+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T21:25:32.814+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T21:25:32.815+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T21:25:32.815+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T21:25:32.991+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T21:25:32.991+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T21:25:32.991+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T21:25:32.992+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T21:25:32.992+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T21:25:32.995+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T21:25:32.995+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T21:25:32.996+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T21:25:32.997+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T21:25:32.998+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T21:25:32.999+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T21:25:33.001+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T21:25:33.001+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T21:25:33.003+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T21:25:33.003+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T21:25:33.005+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T21:25:33.006+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T21:25:33.008+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T21:25:33.008+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T21:25:33.009+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T21:25:33.010+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T21:25:33.010+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T21:25:33.011+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T21:25:33.013+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T21:25:33.013+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T21:25:33.014+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T21:25:33.015+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T21:25:33.015+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T21:26:05.042+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:26:05.042+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:26:05.043+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:26:05.043+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:26:05.043+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:26:05.046+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:26:05.049+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:26:05.049+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:26:05.050+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:26:05.050+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:26:05.051+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:26:05.051+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:26:10.273+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:26:10.273+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:26:10.273+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:26:10.273+05:30 level=INFO msg="[booking-controller] Verification requested: 6f2c9edc-774a-4356-b5f1-c444c8499755 ‚Üí approve"
time=2025-10-30T21:26:10.274+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:26:10.279+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: column s.concert_id does not exist"
time=2025-10-30T21:26:10.280+05:30 level=ERROR msg="[booking-controller] Approval failed for 6f2c9edc-774a-4356-b5f1-c444c8499755: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:26:14.424+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:26:14.424+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:26:14.424+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:26:14.424+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:26:14.424+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:26:14.425+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:26:14.427+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:26:14.427+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:26:14.427+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:26:14.427+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:26:14.427+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:26:14.429+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:26:19.283+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:26:19.283+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:26:19.283+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:26:19.284+05:30 level=INFO msg="[booking-controller] Verification requested: 6f2c9edc-774a-4356-b5f1-c444c8499755 ‚Üí reject"
time=2025-10-30T21:26:19.284+05:30 level=INFO msg="[reject-booking-uc] Starting rejection for booking: 6f2c9edc-774a-4356-b5f1-c444c8499755"
time=2025-10-30T21:26:19.286+05:30 level=INFO msg="[reject-booking-uc] Booking 6f2c9edc-774a-4356-b5f1-c444c8499755 successfully marked as REJECTED."
time=2025-10-30T21:26:19.287+05:30 level=INFO msg="[auth] Sending booking verification email (Status: REJECTED) to kalaiselvan7834@gmail.com"
time=2025-10-30T21:26:20.370+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-10-30T21:26:20.370+05:30 level=INFO msg="[reject-booking-uc] Rejection email sent to kalaiselvan7834@gmail.com."
time=2025-10-30T21:26:22.599+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:26:22.599+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:26:22.600+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:26:22.601+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:26:22.602+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:26:22.605+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T21:26:46.698+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-10-30T21:26:46.701+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:26:46.702+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-10-30T21:26:46.703+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-10-30T21:26:46.713+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-10-30T21:26:46.713+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-10-30T21:26:46.714+05:30 level=INFO msg="[auth] Generated OTP code: 395666"
time=2025-10-30T21:26:46.725+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-10-30T21:31:46+05:30"
time=2025-10-30T21:26:46.725+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-10-30T21:26:47.202+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-10-30T21:26:47.203+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-10-30T21:26:47.203+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-10-30T21:27:07.107+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-10-30T21:27:07.107+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-10-30T21:27:07.108+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-10-30T21:27:07.111+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-10-30T21:27:07.112+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-10-30T21:27:07.117+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-10-30T21:27:07.121+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-10-30T21:27:07.123+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-10-30T21:27:07.123+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-10-30T21:27:07.124+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-10-30T21:27:09.171+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:27:09.172+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:27:09.172+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:27:09.172+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:27:09.173+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:27:09.173+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:27:09.176+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:27:09.177+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:27:09.177+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:27:09.183+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:27:09.190+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:27:09.192+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:27:09.193+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:27:09.194+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:27:09.195+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:27:09.196+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:27:09.200+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:27:09.199+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:27:09.203+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:27:09.535+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:27:09.538+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:27:09.538+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:27:09.538+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:27:09.539+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:27:28.543+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:27:28.547+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T21:27:28.552+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 6d909559-7054-47dc-8bd1-e8b566a82bbb"
time=2025-10-30T21:27:28.555+05:30 level=INFO msg="[get-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb successfully locked for update. Current Available: 100"
time=2025-10-30T21:27:28.557+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 6d909559-7054-47dc-8bd1-e8b566a82bbb. New count: 99"
time=2025-10-30T21:27:28.562+05:30 level=INFO msg="[update-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb availability updated to 99 within transaction."
time=2025-10-30T21:27:28.562+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T21:27:28.565+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: e592b845-154d-4eb5-bf0a-7feb8cd9f67f for Name: Kalai"
time=2025-10-30T21:27:28.569+05:30 level=INFO msg="[create-participant-uc] Participant e592b845-154d-4eb5-bf0a-7feb8cd9f67f inserted successfully within transaction."
time=2025-10-30T21:27:28.583+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 38f04f5a-11fb-4941-8c03-42c57fc32258"
time=2025-10-30T21:27:28.584+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-30T21:27:29.214+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T21:27:29.215+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 38f04f5a-11fb-4941-8c03-42c57fc32258"
time=2025-10-30T21:27:32.271+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:27:32.271+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:27:32.272+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:27:32.272+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:27:32.277+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 3 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:27:32.277+05:30 level=INFO msg="[booking] Successfully retrieved 3 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:27:35.461+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:27:35.461+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-30T21:27:35.462+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:27:35.462+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-30T21:27:35.462+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-30T21:27:35.465+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 3 total bookings for admin."
time=2025-10-30T21:27:37.411+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:27:37.412+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:27:37.413+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:27:37.414+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:27:37.416+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:27:37.422+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:27:41.188+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:27:41.189+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:27:41.191+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:27:41.192+05:30 level=INFO msg="[booking-controller] Verification requested: 38f04f5a-11fb-4941-8c03-42c57fc32258 ‚Üí approve"
time=2025-10-30T21:27:41.193+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 38f04f5a-11fb-4941-8c03-42c57fc32258"
time=2025-10-30T21:27:41.204+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: column s.concert_id does not exist"
time=2025-10-30T21:27:41.209+05:30 level=ERROR msg="[booking-controller] Approval failed for 38f04f5a-11fb-4941-8c03-42c57fc32258: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:44:13.839+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:44:13.839+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:44:13.840+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:44:13.839+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:44:13.841+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:44:13.841+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:44:13.842+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:44:13.843+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:44:13.843+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:44:13.847+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:44:13.849+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:44:14.086+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:44:27.031+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T21:44:27.033+05:30 level=INFO msg="[main] program started"
time=2025-10-30T21:44:27.033+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T21:44:27.033+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T21:44:27.033+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T21:44:27.033+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T21:44:27.207+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T21:44:27.207+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T21:44:27.207+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T21:44:27.207+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T21:44:27.207+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T21:44:27.209+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T21:44:27.209+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T21:44:27.209+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T21:44:27.209+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T21:44:27.209+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T21:44:27.210+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T21:44:27.210+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T21:44:27.210+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T21:44:27.210+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T21:44:27.210+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T21:44:27.210+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T21:44:27.211+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T21:44:27.211+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T21:44:27.211+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T21:44:27.211+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T21:44:27.212+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T21:44:27.212+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T21:44:27.213+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T21:44:27.213+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T21:44:27.213+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T21:44:27.213+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T21:44:27.213+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T21:44:27.214+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T21:45:38.045+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:45:38.045+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:45:38.046+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:45:38.048+05:30 level=INFO msg="[booking-controller] Verification requested: 38f04f5a-11fb-4941-8c03-42c57fc32258 ‚Üí approve"
time=2025-10-30T21:45:38.049+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 38f04f5a-11fb-4941-8c03-42c57fc32258"
time=2025-10-30T21:45:38.063+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: column \"concert_name\" does not exist"
time=2025-10-30T21:45:38.068+05:30 level=ERROR msg="[booking-controller] Approval failed for 38f04f5a-11fb-4941-8c03-42c57fc32258: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:45:43.873+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:45:43.873+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:45:43.873+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:45:43.873+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:45:43.873+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:45:43.875+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:45:43.877+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:45:43.877+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:45:43.877+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:45:43.877+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:45:43.877+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:45:43.879+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:45:46.166+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:45:46.167+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:45:46.167+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:45:46.167+05:30 level=INFO msg="[booking-controller] Verification requested: 38f04f5a-11fb-4941-8c03-42c57fc32258 ‚Üí approve"
time=2025-10-30T21:45:46.168+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 38f04f5a-11fb-4941-8c03-42c57fc32258"
time=2025-10-30T21:45:46.174+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: column \"concert_name\" does not exist"
time=2025-10-30T21:45:46.178+05:30 level=ERROR msg="[booking-controller] Approval failed for 38f04f5a-11fb-4941-8c03-42c57fc32258: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:45:58.436+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:45:58.436+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:45:58.437+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:45:58.437+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:45:58.437+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:45:58.438+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:45:58.442+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:45:58.442+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:45:58.442+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:45:58.443+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:45:58.443+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:45:58.444+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:46:01.432+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:46:01.432+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:46:01.432+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:46:01.432+05:30 level=INFO msg="[booking-controller] Verification requested: 38f04f5a-11fb-4941-8c03-42c57fc32258 ‚Üí approve"
time=2025-10-30T21:46:01.433+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 38f04f5a-11fb-4941-8c03-42c57fc32258"
time=2025-10-30T21:46:01.437+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: column \"concert_name\" does not exist"
time=2025-10-30T21:46:01.440+05:30 level=ERROR msg="[booking-controller] Approval failed for 38f04f5a-11fb-4941-8c03-42c57fc32258: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:47:25.431+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:47:25.435+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T21:47:25.438+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 69a0b445-c3d5-4e23-bad1-e8f92f064bcf"
time=2025-10-30T21:47:25.448+05:30 level=INFO msg="[get-seat-uc] Seat 69a0b445-c3d5-4e23-bad1-e8f92f064bcf successfully locked for update. Current Available: 99"
time=2025-10-30T21:47:25.449+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 69a0b445-c3d5-4e23-bad1-e8f92f064bcf. New count: 98"
time=2025-10-30T21:47:25.454+05:30 level=INFO msg="[update-seat-uc] Seat 69a0b445-c3d5-4e23-bad1-e8f92f064bcf availability updated to 98 within transaction."
time=2025-10-30T21:47:25.456+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T21:47:25.456+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 05f2ca34-68f7-44a5-8151-c1b0faf885c7 for Name: newone"
time=2025-10-30T21:47:25.464+05:30 level=INFO msg="[create-participant-uc] Participant 05f2ca34-68f7-44a5-8151-c1b0faf885c7 inserted successfully within transaction."
time=2025-10-30T21:47:25.483+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:47:25.485+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-30T21:47:27.603+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:47:27.603+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:47:27.605+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:47:27.606+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:47:27.609+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 4 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:47:27.610+05:30 level=INFO msg="[booking] Successfully retrieved 4 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:47:31.084+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T21:47:31.086+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:47:31.767+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:47:31.785+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:47:31.792+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:47:31.822+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:47:31.836+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:47:37.019+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:47:37.019+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:47:37.019+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:47:37.020+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:47:37.020+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:47:37.022+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-10-30T21:47:37.025+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:47:37.025+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:47:37.025+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:47:37.026+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:47:37.026+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:47:37.027+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-10-30T21:47:45.893+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:47:45.894+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:47:45.895+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:47:45.895+05:30 level=INFO msg="[booking-controller] Verification requested: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80 ‚Üí approve"
time=2025-10-30T21:47:45.896+05:30 level=INFO msg="[approve-booking-uc] Approving booking: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:47:45.901+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: column \"concert_name\" does not exist"
time=2025-10-30T21:47:45.905+05:30 level=ERROR msg="[booking-controller] Approval failed for dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:47:50.863+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:47:50.863+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:47:50.864+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:47:50.865+05:30 level=INFO msg="[booking-controller] Verification requested: 38f04f5a-11fb-4941-8c03-42c57fc32258 ‚Üí approve"
time=2025-10-30T21:47:50.866+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 38f04f5a-11fb-4941-8c03-42c57fc32258"
time=2025-10-30T21:47:50.870+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: column \"concert_name\" does not exist"
time=2025-10-30T21:47:50.875+05:30 level=ERROR msg="[booking-controller] Approval failed for 38f04f5a-11fb-4941-8c03-42c57fc32258: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:49:28.073+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T21:49:28.076+05:30 level=INFO msg="[main] program started"
time=2025-10-30T21:49:28.077+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T21:49:28.078+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T21:49:28.078+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T21:49:28.078+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T21:49:28.364+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T21:49:28.364+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T21:49:28.364+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T21:49:28.364+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T21:49:28.364+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T21:49:28.366+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T21:49:28.366+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T21:49:28.366+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T21:49:28.366+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T21:49:28.366+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T21:49:28.366+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T21:49:28.367+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T21:49:28.367+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T21:49:28.367+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T21:49:28.367+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T21:49:28.368+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T21:49:28.368+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T21:49:28.369+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T21:49:28.370+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T21:49:28.370+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T21:49:28.370+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T21:49:28.370+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T21:49:28.371+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T21:49:28.372+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T21:49:28.372+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T21:49:28.372+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T21:49:28.373+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T21:49:28.374+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T21:50:19.782+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:50:19.782+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:50:19.783+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:50:19.784+05:30 level=INFO msg="[booking-controller] Verification requested: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80 ‚Üí approve"
time=2025-10-30T21:50:19.785+05:30 level=INFO msg="[approve-booking-uc] Approving booking: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:50:19.805+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: invalid input syntax for type uuid: \"\""
time=2025-10-30T21:50:19.809+05:30 level=ERROR msg="[booking-controller] Approval failed for dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:50:24.049+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:50:24.049+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:50:24.050+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:50:24.050+05:30 level=INFO msg="[booking-controller] Verification requested: 38f04f5a-11fb-4941-8c03-42c57fc32258 ‚Üí approve"
time=2025-10-30T21:50:24.050+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 38f04f5a-11fb-4941-8c03-42c57fc32258"
time=2025-10-30T21:50:24.052+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: invalid input syntax for type uuid: \"\""
time=2025-10-30T21:50:24.052+05:30 level=ERROR msg="[booking-controller] Approval failed for 38f04f5a-11fb-4941-8c03-42c57fc32258: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:50:26.627+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:50:26.628+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:50:26.628+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:50:26.628+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:50:26.628+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:50:26.632+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-10-30T21:50:26.638+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:50:26.639+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:50:26.639+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:50:26.640+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:50:26.640+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:50:26.642+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-10-30T21:50:29.116+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:50:29.117+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:50:29.117+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:50:29.118+05:30 level=INFO msg="[booking-controller] Verification requested: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80 ‚Üí approve"
time=2025-10-30T21:50:29.120+05:30 level=INFO msg="[approve-booking-uc] Approving booking: dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80"
time=2025-10-30T21:50:29.129+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: invalid input syntax for type uuid: \"\""
time=2025-10-30T21:50:29.133+05:30 level=ERROR msg="[booking-controller] Approval failed for dda91cd8-ff6f-4e53-a6ee-5a9e321c1e80: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:52:23.525+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:52:23.526+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:52:23.526+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:52:23.528+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:52:23.528+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:52:23.529+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:52:23.529+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:52:23.528+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:52:23.530+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:52:23.530+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:52:23.533+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:52:23.533+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:52:23.533+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:52:23.534+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:52:23.537+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:52:23.538+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:52:23.538+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:52:23.539+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:52:23.801+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:52:23.847+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:52:23.850+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:52:23.850+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:52:23.850+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:52:23.851+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:52:25.750+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:52:25.750+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:52:25.751+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:52:25.752+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:52:25.765+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 0 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:52:25.766+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:52:47.841+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:52:47.844+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T21:52:47.846+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-10-30T21:52:47.850+05:30 level=INFO msg="[get-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc successfully locked for update. Current Available: 99"
time=2025-10-30T21:52:47.851+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 14c7770d-c354-4df9-85e1-9c1757a8acbc. New count: 98"
time=2025-10-30T21:52:47.855+05:30 level=INFO msg="[update-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc availability updated to 98 within transaction."
time=2025-10-30T21:52:47.856+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T21:52:47.856+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: d3931a50-2ac5-4e58-975a-ab8cd92a9be4 for Name: Kalai"
time=2025-10-30T21:52:47.861+05:30 level=INFO msg="[create-participant-uc] Participant d3931a50-2ac5-4e58-975a-ab8cd92a9be4 inserted successfully within transaction."
time=2025-10-30T21:52:47.886+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: e7c58a8b-0fee-46ba-acf6-7948c4e1b700"
time=2025-10-30T21:52:47.887+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-30T21:52:50.385+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T21:52:50.385+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: e7c58a8b-0fee-46ba-acf6-7948c4e1b700"
time=2025-10-30T21:52:53.574+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:52:53.574+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:52:53.574+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:52:53.574+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:52:53.575+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:52:53.576+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:52:53.580+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:52:53.580+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:52:53.580+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:52:53.580+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:52:53.581+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:52:53.582+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:52:54.639+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:52:54.639+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-30T21:52:54.640+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:52:54.641+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-30T21:52:54.642+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-30T21:52:54.646+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 1 total bookings for admin."
time=2025-10-30T21:52:55.913+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:52:55.913+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:52:55.914+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:52:55.915+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:52:55.915+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:52:55.917+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:52:56.814+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:52:56.815+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-30T21:52:56.815+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:52:56.817+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-30T21:52:56.817+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-30T21:52:56.821+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 1 total bookings for admin."
time=2025-10-30T21:52:57.698+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:52:57.700+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:52:57.700+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:52:57.703+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:52:57.704+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:52:57.708+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:53:01.269+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:53:01.270+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:53:01.273+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:53:01.276+05:30 level=INFO msg="[booking-controller] Verification requested: e7c58a8b-0fee-46ba-acf6-7948c4e1b700 ‚Üí approve"
time=2025-10-30T21:53:01.276+05:30 level=INFO msg="[approve-booking-uc] Approving booking: e7c58a8b-0fee-46ba-acf6-7948c4e1b700"
time=2025-10-30T21:53:01.284+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: invalid input syntax for type uuid: \"\""
time=2025-10-30T21:53:01.289+05:30 level=ERROR msg="[booking-controller] Approval failed for e7c58a8b-0fee-46ba-acf6-7948c4e1b700: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:55:54.557+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T21:55:54.559+05:30 level=INFO msg="[main] program started"
time=2025-10-30T21:55:54.559+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T21:55:54.559+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T21:55:54.559+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T21:55:54.559+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T21:55:54.749+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T21:55:54.749+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T21:55:54.749+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T21:55:54.750+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T21:55:54.751+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T21:55:54.752+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T21:55:54.752+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T21:55:54.753+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T21:55:54.754+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T21:55:54.755+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T21:55:54.755+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T21:55:54.756+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T21:55:54.757+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T21:55:54.758+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T21:55:54.758+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T21:55:54.759+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T21:55:54.759+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T21:55:54.760+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T21:55:54.761+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T21:55:54.761+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T21:55:54.761+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T21:55:54.762+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T21:55:54.762+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T21:55:54.764+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T21:55:54.764+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T21:55:54.765+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T21:55:54.765+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T21:55:54.766+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T21:56:04.977+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:56:04.978+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:56:04.979+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:56:04.980+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:56:04.980+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:56:04.991+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:56:05.001+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:56:05.001+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T21:56:05.002+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:56:05.003+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T21:56:05.009+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T21:56:05.015+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T21:56:06.767+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T21:56:06.767+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T21:56:06.768+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T21:56:06.768+05:30 level=INFO msg="[booking-controller] Verification requested: e7c58a8b-0fee-46ba-acf6-7948c4e1b700 ‚Üí approve"
time=2025-10-30T21:56:06.768+05:30 level=INFO msg="[approve-booking-uc] Approving booking: e7c58a8b-0fee-46ba-acf6-7948c4e1b700"
time=2025-10-30T21:56:06.772+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: sql: no rows in result set"
time=2025-10-30T21:56:06.778+05:30 level=ERROR msg="[booking-controller] Approval failed for e7c58a8b-0fee-46ba-acf6-7948c4e1b700: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T21:59:02.722+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T21:59:02.725+05:30 level=INFO msg="[main] program started"
time=2025-10-30T21:59:02.725+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T21:59:02.725+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T21:59:02.725+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T21:59:02.725+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T21:59:02.866+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T21:59:02.866+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T21:59:02.866+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T21:59:02.866+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T21:59:02.866+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T21:59:02.868+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T21:59:02.868+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T21:59:02.868+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T21:59:02.868+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T21:59:02.868+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T21:59:02.869+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T21:59:02.869+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T21:59:02.869+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T21:59:02.870+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T21:59:02.870+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T21:59:02.871+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T21:59:02.871+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T21:59:02.871+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T21:59:02.871+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T21:59:02.871+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T21:59:02.872+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T21:59:02.872+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T21:59:02.873+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T21:59:02.873+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T21:59:02.873+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T21:59:02.873+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T21:59:02.873+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T21:59:02.874+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T21:59:22.151+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:22.151+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:22.151+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:22.152+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:59:22.151+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:59:22.152+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:59:22.152+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:59:22.153+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:59:22.153+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:59:22.158+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:59:22.169+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:22.173+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T21:59:22.173+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T21:59:22.177+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T21:59:22.470+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:59:22.472+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:22.472+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T21:59:22.472+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T21:59:22.473+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T21:59:22.509+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:59:22.514+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:22.514+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T21:59:22.515+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T21:59:22.517+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T21:59:23.142+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:23.142+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:59:23.143+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:59:23.145+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:59:23.156+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 0 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:59:23.157+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T21:59:42.428+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:42.430+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T21:59:42.431+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 6d909559-7054-47dc-8bd1-e8b566a82bbb"
time=2025-10-30T21:59:42.439+05:30 level=INFO msg="[get-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb successfully locked for update. Current Available: 99"
time=2025-10-30T21:59:42.441+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 6d909559-7054-47dc-8bd1-e8b566a82bbb. New count: 98"
time=2025-10-30T21:59:42.447+05:30 level=INFO msg="[update-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb availability updated to 98 within transaction."
time=2025-10-30T21:59:42.447+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T21:59:42.448+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: db57a541-4c12-4def-9c4b-5ad66e09f0a3 for Name: Kalai"
time=2025-10-30T21:59:42.454+05:30 level=INFO msg="[create-participant-uc] Participant db57a541-4c12-4def-9c4b-5ad66e09f0a3 inserted successfully within transaction."
time=2025-10-30T21:59:42.487+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 85a043f0-063c-43b0-8c92-9c4251d0e645"
time=2025-10-30T21:59:42.489+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-30T21:59:44.604+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T21:59:44.605+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 85a043f0-063c-43b0-8c92-9c4251d0e645"
time=2025-10-30T21:59:45.614+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T21:59:45.615+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:59:45.615+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T21:59:45.616+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T21:59:45.619+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T21:59:45.619+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T22:00:04.367+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:00:04.368+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:00:04.368+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:00:04.368+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:00:04.368+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:00:04.369+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:00:04.370+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:00:04.370+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:00:04.371+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:00:04.371+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:00:04.371+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:00:04.373+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:00:05.486+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:00:05.486+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-30T22:00:05.489+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:00:05.493+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-30T22:00:05.494+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-30T22:00:05.497+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 1 total bookings for admin."
time=2025-10-30T22:00:06.803+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:00:06.806+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:00:06.807+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:00:06.809+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:00:06.809+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:00:06.811+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:00:08.876+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:00:08.878+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:00:08.879+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:00:08.880+05:30 level=INFO msg="[booking-controller] Verification requested: 85a043f0-063c-43b0-8c92-9c4251d0e645 ‚Üí approve"
time=2025-10-30T22:00:08.880+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 85a043f0-063c-43b0-8c92-9c4251d0e645"
time=2025-10-30T22:00:08.887+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: sql: no rows in result set"
time=2025-10-30T22:00:08.893+05:30 level=ERROR msg="[booking-controller] Approval failed for 85a043f0-063c-43b0-8c92-9c4251d0e645: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:08:30.211+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T22:08:30.212+05:30 level=INFO msg="[main] program started"
time=2025-10-30T22:08:30.212+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T22:08:30.212+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T22:08:30.212+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T22:08:30.213+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T22:08:30.424+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T22:08:30.424+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T22:08:30.425+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T22:08:30.425+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T22:08:30.425+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T22:08:30.426+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T22:08:30.427+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T22:08:30.428+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T22:08:30.428+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T22:08:30.429+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T22:08:30.429+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T22:08:30.430+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T22:08:30.431+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T22:08:30.432+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T22:08:30.432+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T22:08:30.433+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T22:08:30.433+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T22:08:30.435+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T22:08:30.435+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T22:08:30.436+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T22:08:30.436+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T22:08:30.437+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T22:08:30.437+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T22:08:30.438+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T22:08:30.439+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T22:08:30.439+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T22:08:30.440+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T22:08:30.440+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T22:08:40.007+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:08:40.007+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:08:40.008+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:08:40.007+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:08:40.008+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:08:40.009+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:08:40.009+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:08:40.009+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:08:40.008+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:08:40.013+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:08:40.020+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:08:40.020+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:08:40.021+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:08:40.026+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:08:40.387+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:08:40.393+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:08:40.393+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:08:40.393+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:08:40.394+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:08:40.482+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:08:40.486+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:08:40.486+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:08:40.486+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:08:40.487+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:08:42.226+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:08:42.227+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:08:42.228+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:08:42.229+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T22:08:42.237+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T22:08:42.238+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T22:08:47.399+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:08:47.400+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:08:47.401+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:08:47.402+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:08:47.402+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:08:47.404+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:08:47.408+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:08:47.409+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:08:47.410+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:08:47.410+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:08:47.410+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:08:47.412+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:08:49.234+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:08:49.234+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:08:49.234+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:08:49.235+05:30 level=INFO msg="[booking-controller] Verification requested: 85a043f0-063c-43b0-8c92-9c4251d0e645 ‚Üí approve"
time=2025-10-30T22:08:49.236+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 85a043f0-063c-43b0-8c92-9c4251d0e645"
time=2025-10-30T22:08:49.244+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: sql: no rows in result set"
time=2025-10-30T22:08:49.247+05:30 level=ERROR msg="[booking-controller] Approval failed for 85a043f0-063c-43b0-8c92-9c4251d0e645: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:10:16.652+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:16.653+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:10:16.655+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:10:16.655+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:10:16.656+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:10:16.664+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T22:10:16.676+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:16.680+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:10:16.681+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:10:16.683+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:10:16.687+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:10:16.689+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T22:10:18.025+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:18.026+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:10:18.029+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:10:18.031+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 0 concerts."
time=2025-10-30T22:10:18.042+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:18.043+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:10:18.045+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:10:18.048+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 0 concerts."
time=2025-10-30T22:10:22.980+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:10:22.980+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:10:22.980+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:10:22.980+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:10:22.980+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:10:22.980+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:10:22.980+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:10:22.981+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:10:22.981+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:10:22.982+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:10:22.982+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 0 concerts."
time=2025-10-30T22:10:22.983+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:10:22.983+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:10:22.984+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:10:22.984+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:10:22.985+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:10:22.987+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:10:22.988+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:10:22.985+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:10:22.987+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:10:22.989+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:10:22.990+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:10:22.991+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:10:22.995+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 0 concerts."
time=2025-10-30T22:10:24.215+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:10:24.215+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:10:24.215+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:10:24.216+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T22:10:24.227+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 0 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T22:10:24.227+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T22:10:29.665+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:29.669+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:10:29.667+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:29.669+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:10:29.670+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:10:29.669+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:10:29.673+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:10:29.677+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:10:29.680+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:29.682+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:10:29.687+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:10:29.685+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:29.688+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:10:29.688+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:10:29.688+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:10:29.694+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:10:44.063+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:10:44.063+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts. Required role: Admin. User role: admin"
time=2025-10-30T22:10:44.064+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:10:44.065+05:30 level=INFO msg="[create-concert-uc] Starting concert creation process."
time=2025-10-30T22:10:44.065+05:30 level=INFO msg="[create-concert-uc] Generated new ConcertID: ef281467-8127-4869-a1d8-f63df2fd748e for title: adfasf"
time=2025-10-30T22:10:44.065+05:30 level=INFO msg="[create-concert-uc] Marshaling 3 SeatIDs for storage."
time=2025-10-30T22:10:44.066+05:30 level=INFO msg="[create-concert-uc] Marshaling 2 PaymentIDs for storage."
time=2025-10-30T22:10:44.067+05:30 level=INFO msg="[create-concert-uc] Inserting new concert record into database for ID: ef281467-8127-4869-a1d8-f63df2fd748e"
time=2025-10-30T22:10:44.070+05:30 level=INFO msg="[create-concert-uc] Concert ef281467-8127-4869-a1d8-f63df2fd748e created successfully. Venue: adsfadfa"
time=2025-10-30T22:11:11.422+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:11:11.422+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:11:11.424+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:11:11.424+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:11:11.432+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:11:11.432+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:11:11.432+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:11:11.433+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:11:18.047+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:11:18.047+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:11:18.047+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:11:18.048+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:11:18.048+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:11:18.048+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:11:18.048+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:11:18.049+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:11:18.049+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:11:18.048+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:11:18.049+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:11:18.049+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:11:18.051+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:11:18.051+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:11:18.051+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:11:18.052+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:11:18.052+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:11:18.052+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:11:18.052+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:11:18.053+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:11:18.053+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:11:18.054+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:11:18.052+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:11:18.055+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:11:32.277+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:11:32.279+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T22:11:32.281+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 6d909559-7054-47dc-8bd1-e8b566a82bbb"
time=2025-10-30T22:11:32.285+05:30 level=INFO msg="[get-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb successfully locked for update. Current Available: 98"
time=2025-10-30T22:11:32.286+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 6d909559-7054-47dc-8bd1-e8b566a82bbb. New count: 97"
time=2025-10-30T22:11:32.292+05:30 level=INFO msg="[update-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb availability updated to 97 within transaction."
time=2025-10-30T22:11:32.292+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T22:11:32.294+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: b61dab4c-0b9f-4a13-b552-7a0e3bf990f8 for Name: aefdsfadsf"
time=2025-10-30T22:11:32.300+05:30 level=INFO msg="[create-participant-uc] Participant b61dab4c-0b9f-4a13-b552-7a0e3bf990f8 inserted successfully within transaction."
time=2025-10-30T22:11:32.331+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: b9231fe5-07c2-4192-a275-80d390eb2b99"
time=2025-10-30T22:11:32.332+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-30T22:11:33.815+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:11:33.815+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:11:33.816+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:11:33.817+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T22:11:33.821+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T22:11:33.822+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T22:11:34.303+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T22:11:34.305+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: b9231fe5-07c2-4192-a275-80d390eb2b99"
time=2025-10-30T22:11:37.556+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:11:37.557+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:11:37.557+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:11:37.558+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:11:37.558+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:11:37.560+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:11:37.565+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:11:37.565+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:11:37.565+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:11:37.565+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:11:37.566+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:11:37.570+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:11:39.632+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:11:39.633+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-30T22:11:39.634+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:11:39.635+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-30T22:11:39.636+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-30T22:11:39.639+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 1 total bookings for admin."
time=2025-10-30T22:11:40.410+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:11:40.411+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:11:40.411+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:11:40.412+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:11:40.413+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:11:40.415+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:11:42.614+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:11:42.614+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:11:42.616+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:11:42.617+05:30 level=INFO msg="[booking-controller] Verification requested: b9231fe5-07c2-4192-a275-80d390eb2b99 ‚Üí approve"
time=2025-10-30T22:11:42.618+05:30 level=INFO msg="[approve-booking-uc] Approving booking: b9231fe5-07c2-4192-a275-80d390eb2b99"
time=2025-10-30T22:11:42.625+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: sql: no rows in result set"
time=2025-10-30T22:11:42.631+05:30 level=ERROR msg="[booking-controller] Approval failed for b9231fe5-07c2-4192-a275-80d390eb2b99: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:20:33.507+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T22:20:33.509+05:30 level=INFO msg="[main] program started"
time=2025-10-30T22:20:33.509+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T22:20:33.509+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T22:20:33.509+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T22:20:33.509+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T22:20:33.647+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T22:20:33.647+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T22:20:33.648+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T22:20:33.648+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T22:20:33.648+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T22:20:33.649+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T22:20:33.649+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T22:20:33.649+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T22:20:33.649+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T22:20:33.649+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T22:20:33.649+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T22:20:33.650+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T22:20:33.650+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T22:20:33.651+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T22:20:33.651+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T22:20:33.651+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T22:20:33.651+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T22:20:33.651+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T22:20:33.651+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T22:20:33.651+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T22:20:33.652+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T22:20:33.652+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T22:20:33.652+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T22:20:33.652+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T22:20:33.652+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T22:20:33.652+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T22:20:33.652+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T22:20:33.652+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T22:20:45.602+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:20:45.602+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:20:45.602+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:20:45.602+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:20:45.603+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:20:45.608+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:20:45.611+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:20:45.612+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:20:45.612+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:20:45.612+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:20:45.613+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:20:45.614+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:20:48.347+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:20:48.349+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:20:48.349+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:20:48.350+05:30 level=INFO msg="[booking-controller] Verification requested: b9231fe5-07c2-4192-a275-80d390eb2b99 ‚Üí approve"
time=2025-10-30T22:20:48.351+05:30 level=INFO msg="[approve-booking-uc] Approving booking: b9231fe5-07c2-4192-a275-80d390eb2b99"
time=2025-10-30T22:20:48.362+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: invalid input syntax for type uuid: \"\""
time=2025-10-30T22:20:48.366+05:30 level=ERROR msg="[booking-controller] Approval failed for b9231fe5-07c2-4192-a275-80d390eb2b99: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:21:20.422+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:20.423+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:21:20.423+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:21:20.423+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:21:20.424+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:21:20.429+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T22:21:20.433+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:20.433+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:21:20.433+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:21:20.434+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:21:20.434+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:21:20.436+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T22:21:21.448+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:21.451+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:21:21.452+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:21:21.455+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 0 concerts."
time=2025-10-30T22:21:21.457+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:21.459+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:21:21.460+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:21:21.462+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 0 concerts."
time=2025-10-30T22:21:22.985+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:22.986+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:21:22.987+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:21:22.987+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:22.988+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:21:22.992+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:21:22.993+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:21:23.001+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:21:23.005+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:23.005+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:21:23.006+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:21:23.008+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:23.012+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:21:23.008+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:21:23.013+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:21:23.017+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:21:33.875+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:33.878+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts. Required role: Admin. User role: admin"
time=2025-10-30T22:21:33.879+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:21:33.879+05:30 level=INFO msg="[create-concert-uc] Starting concert creation process."
time=2025-10-30T22:21:33.879+05:30 level=INFO msg="[create-concert-uc] Generated new ConcertID: 7d666b8d-59f1-45a9-a701-151f340d0c9e for title: fadfsdf"
time=2025-10-30T22:21:33.879+05:30 level=INFO msg="[create-concert-uc] Marshaling 3 SeatIDs for storage."
time=2025-10-30T22:21:33.881+05:30 level=INFO msg="[create-concert-uc] Marshaling 3 PaymentIDs for storage."
time=2025-10-30T22:21:33.882+05:30 level=INFO msg="[create-concert-uc] Inserting new concert record into database for ID: 7d666b8d-59f1-45a9-a701-151f340d0c9e"
time=2025-10-30T22:21:33.893+05:30 level=INFO msg="[create-concert-uc] Concert 7d666b8d-59f1-45a9-a701-151f340d0c9e created successfully. Venue: adfads"
time=2025-10-30T22:21:37.290+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:37.290+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:21:37.290+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:21:37.291+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:21:37.292+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:21:37.293+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T22:21:37.299+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:21:37.300+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:21:37.301+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:21:37.301+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:21:37.302+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:21:37.304+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T22:21:47.138+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:21:47.139+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:21:47.139+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:21:47.139+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T22:21:47.141+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 0 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T22:21:47.141+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T22:22:04.038+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:22:04.043+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T22:22:04.046+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-10-30T22:22:04.049+05:30 level=INFO msg="[get-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc successfully locked for update. Current Available: 98"
time=2025-10-30T22:22:04.049+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 14c7770d-c354-4df9-85e1-9c1757a8acbc. New count: 97"
time=2025-10-30T22:22:04.053+05:30 level=INFO msg="[update-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc availability updated to 97 within transaction."
time=2025-10-30T22:22:04.054+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T22:22:04.055+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: ad1f8b1a-79d5-4ab4-88c0-c1542c6e2465 for Name: afdsf"
time=2025-10-30T22:22:04.061+05:30 level=INFO msg="[create-participant-uc] Participant ad1f8b1a-79d5-4ab4-88c0-c1542c6e2465 inserted successfully within transaction."
time=2025-10-30T22:22:04.086+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: f7709033-360c-48a2-8344-ed35fdab19a2"
time=2025-10-30T22:22:04.088+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-30T22:22:06.470+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:22:06.471+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:22:06.471+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:22:06.472+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T22:22:06.474+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T22:22:06.474+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T22:22:06.700+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T22:22:06.701+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: f7709033-360c-48a2-8344-ed35fdab19a2"
time=2025-10-30T22:22:10.396+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:22:10.396+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:22:10.396+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:22:10.398+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:22:10.404+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:22:10.405+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:22:10.405+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:22:10.406+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:22:11.080+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:22:11.081+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:22:11.081+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:22:11.082+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:22:11.082+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:22:11.085+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:22:11.088+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:22:11.088+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:22:11.088+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:22:11.089+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:22:11.090+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:22:11.094+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:22:13.801+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:22:13.801+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:22:13.801+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:22:13.801+05:30 level=INFO msg="[booking-controller] Verification requested: f7709033-360c-48a2-8344-ed35fdab19a2 ‚Üí approve"
time=2025-10-30T22:22:13.803+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f7709033-360c-48a2-8344-ed35fdab19a2"
time=2025-10-30T22:22:13.804+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: pq: invalid input syntax for type uuid: \"\""
time=2025-10-30T22:22:13.805+05:30 level=ERROR msg="[booking-controller] Approval failed for f7709033-360c-48a2-8344-ed35fdab19a2: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:24:48.582+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T22:24:48.584+05:30 level=INFO msg="[main] program started"
time=2025-10-30T22:24:48.584+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T22:24:48.584+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T22:24:48.584+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T22:24:48.584+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T22:24:48.763+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T22:24:48.763+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T22:24:48.764+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T22:24:48.764+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T22:24:48.764+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T22:24:48.764+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T22:24:48.765+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T22:24:48.765+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T22:24:48.765+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T22:24:48.765+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T22:24:48.765+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T22:24:48.766+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T22:24:48.766+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T22:24:48.766+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T22:24:48.766+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T22:24:48.766+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T22:24:48.766+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T22:24:48.767+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T22:24:48.767+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T22:24:57.019+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:24:57.019+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:24:57.019+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:24:57.019+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:24:57.019+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:24:57.023+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:24:57.024+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:24:57.023+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:24:57.024+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:24:57.026+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:24:57.028+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:24:57.031+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:24:57.031+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:24:57.033+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:24:57.033+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:24:57.034+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:24:57.034+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:24:57.034+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:24:57.035+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:24:57.351+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:24:57.354+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:24:57.354+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:24:57.354+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:24:57.355+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:25:02.908+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:25:02.908+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:25:02.909+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:25:02.909+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:25:02.910+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:25:02.915+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:25:02.919+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:25:02.919+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:25:02.920+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:25:02.920+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:25:02.920+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:25:02.922+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:25:06.562+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:25:06.563+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:25:06.564+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:25:06.565+05:30 level=INFO msg="[booking-controller] Verification requested: f7709033-360c-48a2-8344-ed35fdab19a2 ‚Üí approve"
time=2025-10-30T22:25:06.565+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f7709033-360c-48a2-8344-ed35fdab19a2"
time=2025-10-30T22:25:06.571+05:30 level=ERROR msg="[booking-controller] Approval failed for f7709033-360c-48a2-8344-ed35fdab19a2: invalid concert ID format: invalid UUID length: 0"
time=2025-10-30T22:32:33.256+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T22:32:33.258+05:30 level=INFO msg="[main] program started"
time=2025-10-30T22:32:33.258+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T22:32:33.258+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T22:32:33.258+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T22:32:33.258+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T22:32:33.375+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T22:32:33.375+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T22:32:33.375+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T22:32:33.376+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T22:32:33.376+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T22:32:33.377+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T22:32:33.377+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T22:32:33.377+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T22:32:33.378+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T22:32:33.378+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T22:32:33.378+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T22:32:33.379+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T22:32:33.379+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T22:32:33.380+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T22:32:33.380+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T22:32:33.382+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T22:32:33.382+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T22:32:33.382+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T22:32:33.382+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T22:32:33.383+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T22:32:33.383+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T22:32:33.384+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T22:32:33.384+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T22:32:33.384+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T22:32:33.385+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T22:32:33.385+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T22:32:33.386+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T22:32:33.387+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T22:33:07.676+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:33:07.677+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:33:07.678+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:33:07.686+05:30 level=INFO msg="[booking-controller] Verification requested: f7709033-360c-48a2-8344-ed35fdab19a2 ‚Üí approve"
time=2025-10-30T22:33:07.688+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f7709033-360c-48a2-8344-ed35fdab19a2"
time=2025-10-30T22:33:07.750+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f7709033-360c-48a2-8344-ed35fdab19a2"
time=2025-10-30T22:33:07.782+05:30 level=INFO msg="[approve-booking-uc] üéüÔ∏è Raw ConcertID (type: string): "
time=2025-10-30T22:33:07.801+05:30 level=ERROR msg="[approve-booking-uc] ‚ùå Invalid concert_id format: value=, type=string, error=invalid UUID length: 0"
time=2025-10-30T22:33:07.805+05:30 level=ERROR msg="[booking-controller] Approval failed for f7709033-360c-48a2-8344-ed35fdab19a2: invalid concert ID format: invalid UUID length: 0"
time=2025-10-30T22:36:10.734+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T22:36:10.736+05:30 level=INFO msg="[main] program started"
time=2025-10-30T22:36:10.736+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T22:36:10.737+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T22:36:10.737+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T22:36:10.737+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T22:36:11.053+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T22:36:11.053+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T22:36:11.053+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T22:36:11.053+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T22:36:11.053+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T22:36:11.054+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T22:36:11.054+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T22:36:11.054+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T22:36:11.054+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T22:36:11.055+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T22:36:11.055+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T22:36:11.055+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T22:36:11.055+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T22:36:11.055+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T22:36:11.055+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T22:36:11.056+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T22:36:11.056+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T22:36:11.056+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T22:36:11.056+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T22:36:11.056+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T22:36:11.056+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T22:36:11.057+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T22:36:11.057+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T22:36:11.057+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T22:36:11.057+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T22:36:11.057+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T22:36:11.057+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T22:36:11.057+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T22:36:26.116+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:36:26.119+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:36:26.120+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:36:26.121+05:30 level=INFO msg="[booking-controller] Verification requested: f7709033-360c-48a2-8344-ed35fdab19a2 ‚Üí approve"
time=2025-10-30T22:36:26.122+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f7709033-360c-48a2-8344-ed35fdab19a2"
time=2025-10-30T22:36:26.141+05:30 level=INFO msg="[approve-booking-uc] üéüÔ∏è Raw ConcertID (type: string): ef281467-8127-4869-a1d8-f63df2fd748e"
time=2025-10-30T22:36:26.155+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Parsed Concert UUID (type: uuid.UUID): ef281467-8127-4869-a1d8-f63df2fd748e"
time=2025-10-30T22:36:26.232+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: sql: no rows in result set"
time=2025-10-30T22:36:26.237+05:30 level=ERROR msg="[booking-controller] Approval failed for f7709033-360c-48a2-8344-ed35fdab19a2: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:39:57.961+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T22:39:57.962+05:30 level=INFO msg="[main] program started"
time=2025-10-30T22:39:57.962+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T22:39:57.962+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T22:39:57.963+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T22:39:57.963+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T22:39:58.200+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T22:39:58.200+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T22:39:58.200+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T22:39:58.200+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T22:39:58.200+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T22:39:58.202+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T22:39:58.202+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T22:39:58.202+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T22:39:58.202+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T22:39:58.202+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T22:39:58.202+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T22:39:58.203+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T22:39:58.203+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T22:39:58.203+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T22:39:58.203+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T22:39:58.203+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T22:39:58.203+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T22:39:58.203+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T22:39:58.203+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T22:39:58.204+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T22:39:58.204+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T22:39:58.204+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T22:39:58.204+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T22:39:58.204+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T22:39:58.204+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T22:39:58.204+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T22:39:58.204+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T22:39:58.204+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T22:40:12.267+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:40:12.281+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:40:12.287+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:40:12.300+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:40:12.380+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:40:12.394+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:40:12.443+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:40:12.481+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:40:12.519+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:40:12.528+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:40:12.562+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:40:12.621+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:40:14.708+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:40:14.710+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:40:14.718+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:40:14.719+05:30 level=INFO msg="[booking-controller] Verification requested: f7709033-360c-48a2-8344-ed35fdab19a2 ‚Üí approve"
time=2025-10-30T22:40:14.748+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f7709033-360c-48a2-8344-ed35fdab19a2"
time=2025-10-30T22:40:14.805+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: ef281467-8127-4869-a1d8-f63df2fd748e"
time=2025-10-30T22:40:14.821+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: ef281467-8127-4869-a1d8-f63df2fd748e"
time=2025-10-30T22:40:15.038+05:30 level=WARN msg="[get-concert-uc] Retrieval failed for ef281467-8127-4869-a1d8-f63df2fd748e: Not found in database."
time=2025-10-30T22:40:15.038+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Could not fetch concert details: concert with ID ef281467-8127-4869-a1d8-f63df2fd748e not found"
time=2025-10-30T22:40:15.039+05:30 level=ERROR msg="[booking-controller] Approval failed for f7709033-360c-48a2-8344-ed35fdab19a2: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:41:09.646+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:09.673+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:41:09.687+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:41:09.693+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 0 concerts."
time=2025-10-30T22:41:09.717+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:09.717+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:41:09.722+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:41:09.725+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 0 concerts."
time=2025-10-30T22:41:11.614+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:11.643+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:41:11.639+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:11.647+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:41:11.653+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:41:11.703+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:41:11.701+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:41:11.746+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:41:11.772+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:11.775+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:41:11.774+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:11.778+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:41:11.780+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:41:11.778+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:41:11.782+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:41:11.784+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:41:23.425+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:23.425+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts. Required role: Admin. User role: admin"
time=2025-10-30T22:41:23.427+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:41:23.427+05:30 level=INFO msg="[create-concert-uc] Starting concert creation process."
time=2025-10-30T22:41:23.428+05:30 level=INFO msg="[create-concert-uc] Generated new ConcertID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0 for title: adsa"
time=2025-10-30T22:41:23.434+05:30 level=INFO msg="[create-concert-uc] Marshaling 3 SeatIDs for storage."
time=2025-10-30T22:41:23.437+05:30 level=INFO msg="[create-concert-uc] Marshaling 3 PaymentIDs for storage."
time=2025-10-30T22:41:23.440+05:30 level=INFO msg="[create-concert-uc] Inserting new concert record into database for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T22:41:23.444+05:30 level=INFO msg="[create-concert-uc] Concert 459f268a-7396-4eb4-bcd3-bc4ecc3914c0 created successfully. Venue: fadfasdf"
time=2025-10-30T22:41:26.932+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:26.947+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:41:26.990+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:41:27.008+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:41:27.021+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:41:27.028+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:41:27.036+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:41:27.046+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:41:47.719+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:41:47.822+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:41:47.782+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:41:47.808+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:41:47.848+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:41:47.906+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:41:47.942+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:41:47.950+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:41:47.951+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:41:47.952+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:41:47.961+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:41:47.968+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:41:48.014+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:41:48.106+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T22:41:48.125+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T22:41:48.131+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T22:41:48.153+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:41:48.256+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T22:41:48.286+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T22:41:48.272+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:41:48.298+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T22:41:48.302+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T22:41:48.298+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T22:41:48.362+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T22:42:04.465+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:42:04.495+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-30T22:42:04.507+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 6d909559-7054-47dc-8bd1-e8b566a82bbb"
time=2025-10-30T22:42:04.511+05:30 level=INFO msg="[get-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb successfully locked for update. Current Available: 97"
time=2025-10-30T22:42:04.515+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 6d909559-7054-47dc-8bd1-e8b566a82bbb. New count: 96"
time=2025-10-30T22:42:04.518+05:30 level=INFO msg="[update-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb availability updated to 96 within transaction."
time=2025-10-30T22:42:04.520+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-30T22:42:04.523+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 3b7d297b-7393-4515-b7b7-af34dc44ab57 for Name: adsfa"
time=2025-10-30T22:42:04.524+05:30 level=INFO msg="[create-participant-uc] Participant 3b7d297b-7393-4515-b7b7-af34dc44ab57 inserted successfully within transaction."
time=2025-10-30T22:42:04.545+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-10-30T22:42:04.566+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-30T22:42:06.617+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T22:42:06.657+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:42:06.683+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-10-30T22:42:06.689+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-30T22:42:06.719+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for kalaiselvan7834@gmail.com."
time=2025-10-30T22:42:06.755+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for kalaiselvan7834@gmail.com."
time=2025-10-30T22:42:07.529+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-30T22:42:07.543+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-10-30T22:42:10.548+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:42:10.554+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:42:10.562+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:42:10.568+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:42:10.571+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:42:10.573+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:42:10.579+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:42:10.607+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:42:10.632+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:42:10.663+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:42:10.687+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:42:10.710+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:42:13.022+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:42:13.034+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:42:13.038+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:42:13.041+05:30 level=INFO msg="[booking-controller] Verification requested: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 ‚Üí approve"
time=2025-10-30T22:42:13.041+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-10-30T22:42:13.043+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T22:42:13.045+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T22:42:13.052+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T22:42:13.056+05:30 level=ERROR msg="[booking-controller] Approval failed for f07db260-9a9c-4f1e-94ff-80fe3e5b86a2: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:50:18.704+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T22:50:18.706+05:30 level=INFO msg="[main] program started"
time=2025-10-30T22:50:18.706+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T22:50:18.706+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T22:50:18.707+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T22:50:18.707+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T22:50:18.991+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T22:50:18.993+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T22:50:18.993+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T22:50:18.993+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T22:50:18.994+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T22:50:18.997+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T22:50:18.998+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T22:50:19.000+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T22:50:19.004+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T22:50:19.012+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T22:50:19.019+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T22:50:19.021+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T22:50:19.021+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T22:50:19.021+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T22:50:19.021+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T22:50:19.022+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T22:50:19.022+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T22:50:19.022+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T22:50:19.023+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T22:50:19.023+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T22:50:19.023+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T22:50:19.023+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T22:50:19.023+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T22:50:19.025+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T22:50:19.025+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T22:50:19.027+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T22:50:19.027+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T22:50:19.027+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T22:50:39.590+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:50:39.607+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:50:39.628+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:50:39.637+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:50:39.674+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:50:39.734+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:50:39.797+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:50:39.811+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T22:50:39.831+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:50:39.925+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T22:50:39.932+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T22:50:39.940+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T22:50:42.058+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T22:50:42.088+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T22:50:42.116+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T22:50:42.175+05:30 level=INFO msg="[booking-controller] Verification requested: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 ‚Üí approve"
time=2025-10-30T22:50:42.202+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-10-30T22:50:42.280+05:30 level=INFO msg="[approve-booking-uc] üéüÔ∏è ConcertID raw value (type: string): 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T22:50:42.307+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T22:50:42.448+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T22:50:44.284+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T22:50:44.299+05:30 level=INFO msg="[approve-booking-uc] üéµ Concert found: adsa @ 2025-10-30T22:41, fadfasdf"
time=2025-10-30T22:50:44.310+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è Failed to fetch payment details: pq: relation \"payment_details\" does not exist"
time=2025-10-30T22:50:44.318+05:30 level=ERROR msg="[approve-booking-uc] ‚ùå Failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T22:50:44.324+05:30 level=ERROR msg="[booking-controller] Approval failed for f07db260-9a9c-4f1e-94ff-80fe3e5b86a2: failed to update booking status: pq: current transaction is aborted, commands ignored until end of transaction block"
time=2025-10-30T23:05:33.566+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-30T23:05:33.567+05:30 level=INFO msg="[main] program started"
time=2025-10-30T23:05:33.567+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-30T23:05:33.568+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-30T23:05:33.568+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-30T23:05:33.568+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-30T23:05:33.674+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-30T23:05:33.675+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-30T23:05:33.675+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-30T23:05:33.676+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-30T23:05:33.676+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-30T23:05:33.676+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-30T23:05:33.676+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-30T23:05:33.676+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-30T23:05:33.676+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-30T23:05:33.676+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-30T23:05:33.677+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-30T23:05:33.677+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-30T23:05:33.677+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-30T23:05:33.677+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-30T23:05:33.677+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-30T23:05:33.678+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-30T23:05:33.678+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-30T23:05:33.678+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-30T23:05:33.678+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-30T23:05:33.678+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-30T23:05:33.678+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-30T23:05:33.678+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-30T23:05:33.679+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-30T23:05:33.679+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-30T23:05:33.679+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-30T23:05:33.679+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-30T23:05:33.679+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-30T23:05:33.679+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-30T23:05:46.813+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T23:05:46.826+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T23:05:46.830+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T23:05:46.923+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T23:05:46.930+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T23:05:46.998+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T23:05:47.078+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T23:05:47.094+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T23:05:47.134+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T23:05:47.221+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T23:05:47.253+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T23:05:47.260+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-30T23:05:58.172+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T23:05:58.172+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-30T23:05:58.174+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T23:05:58.175+05:30 level=INFO msg="[booking-controller] Verification requested: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 ‚Üí approve"
time=2025-10-30T23:05:58.177+05:30 level=INFO msg="[approve-booking-uc] Approving booking: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-10-30T23:05:58.178+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-10-30T23:05:58.179+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-10-30T23:05:58.689+05:30 level=INFO msg="[get-booking-uc] Booking f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 retrieved successfully. Status: VERIFYING."
time=2025-10-30T23:05:58.717+05:30 level=INFO msg="[approve-booking-uc] üéüÔ∏è ConcertID raw value (type: string): 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T23:05:58.722+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T23:05:58.723+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T23:05:58.725+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-30T23:05:58.728+05:30 level=INFO msg="[approve-booking-uc] üéµ Concert found: adsa @ 2025-10-30T22:41, fadfasdf"
time=2025-10-30T23:05:58.729+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-10-30T23:05:58.730+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-10-30T23:05:58.737+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-10-30T23:05:58.744+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 marked APPROVED."
time=2025-10-30T23:05:58.766+05:30 level=INFO msg="[approve-booking-uc] üìÑ PDF generated successfully for f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-10-30T23:06:01.342+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-10-30T23:06:01.350+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email with PDF sent to kalaiselvan7834@gmail.com"
time=2025-10-30T23:06:03.786+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-30T23:06:03.876+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-30T23:06:03.938+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-30T23:06:03.942+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-30T23:06:03.954+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-30T23:06:04.012+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-30T23:15:25.255+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T23:15:25.322+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T23:15:25.287+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T23:15:25.304+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T23:15:25.328+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T23:15:25.332+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T23:15:25.338+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T23:15:25.349+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T23:15:25.353+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T23:15:25.375+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T23:15:25.490+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T23:15:25.497+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T23:15:25.490+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-30T23:15:25.560+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-30T23:15:25.605+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-30T23:15:25.611+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T23:15:25.682+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-30T23:15:25.611+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-30T23:15:25.658+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-10-30T23:15:25.713+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-30T23:15:25.752+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-30T23:15:25.772+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-30T23:15:25.764+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-30T23:15:25.783+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-31T20:50:21.530+05:30 level=WARN msg="[auth] Invalid or expired JWT: token has invalid claims: token is expired"
time=2025-10-31T20:50:21.535+05:30 level=WARN msg="[auth] Invalid or expired JWT: token has invalid claims: token is expired"
time=2025-10-31T20:55:29.616+05:30 level=WARN msg="[auth] Invalid or expired JWT: token has invalid claims: token is expired"
time=2025-10-31T20:55:29.619+05:30 level=WARN msg="[auth] Invalid or expired JWT: token has invalid claims: token is expired"
time=2025-10-31T20:56:32.495+05:30 level=INFO msg="[auth] Login initiated for email: tom249310@gmail.com. Password provided: false"
time=2025-10-31T20:56:32.496+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: tom249310@gmail.com"
time=2025-10-31T20:56:32.499+05:30 level=INFO msg="[auth] Starting OTP process for email: tom249310@gmail.com"
time=2025-10-31T20:56:32.501+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-10-31T20:56:32.735+05:30 level=WARN msg="[user] Retrieval failed for tom249310@gmail.com: User not found."
time=2025-10-31T20:56:32.735+05:30 level=INFO msg="[auth] User tom249310@gmail.com not found. Attempting creation."
time=2025-10-31T20:56:32.735+05:30 level=INFO msg="[user] Attempting to create new user with email: tom249310@gmail.com and generated ID: b3454c6f-4267-46dc-873d-8579d5fd7e1a"
time=2025-10-31T20:56:32.741+05:30 level=INFO msg="[user] New user tom249310@gmail.com created successfully. Role: user"
time=2025-10-31T20:56:32.741+05:30 level=INFO msg="[auth] User tom249310@gmail.com created successfully with ID: b3454c6f-4267-46dc-873d-8579d5fd7e1a"
time=2025-10-31T20:56:32.741+05:30 level=INFO msg="[auth] Generated OTP code: 573089"
time=2025-10-31T20:56:32.746+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-10-31T21:01:32+05:30"
time=2025-10-31T20:56:32.747+05:30 level=INFO msg="[auth] Sending OTP email to tom249310@gmail.com"
time=2025-10-31T20:56:34.433+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-10-31T20:56:34.436+05:30 level=INFO msg="[auth] OTP dispatch triggered for tom249310@gmail.com."
time=2025-10-31T20:56:34.437+05:30 level=INFO msg="[auth] OTP generated and request initiated for tom249310@gmail.com. Awaiting verification."
time=2025-10-31T20:56:46.548+05:30 level=INFO msg="[auth] Attempting OTP verification for email: tom249310@gmail.com"
time=2025-10-31T20:56:46.548+05:30 level=INFO msg="[auth] Verification attempt for email: tom249310@gmail.com"
time=2025-10-31T20:56:46.550+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-10-31T20:56:46.555+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-10-31T20:56:46.557+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Proceeding to OTP validation."
time=2025-10-31T20:56:46.564+05:30 level=INFO msg="[auth] OTP code matched for tom249310@gmail.com. Checking expiry..."
time=2025-10-31T20:56:46.574+05:30 level=INFO msg="[auth] OTP cleaned up successfully for tom249310@gmail.com."
time=2025-10-31T20:56:46.579+05:30 level=INFO msg="[auth] Successfully generated JWT for user b3454c6f-4267-46dc-873d-8579d5fd7e1a (Role: user)."
time=2025-10-31T20:56:46.580+05:30 level=INFO msg="[auth] Verification successful for tom249310@gmail.com. JWT issued. Role: user."
time=2025-10-31T20:56:46.581+05:30 level=INFO msg="[auth] OTP verified successfully for tom249310@gmail.com. JWT issued. Role: user"
time=2025-10-31T20:56:52.728+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T20:56:52.730+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T20:56:52.729+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T20:56:52.730+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T20:56:52.733+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T20:56:52.735+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-31T20:56:52.748+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-31T20:56:52.749+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-31T20:56:52.750+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-31T20:56:52.764+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T20:56:52.778+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T20:56:52.783+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T20:56:52.786+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T20:56:52.794+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T20:56:53.082+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-31T20:56:53.086+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T20:56:53.086+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-31T20:56:53.087+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-31T20:56:53.087+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-31T20:56:53.123+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-31T20:56:53.136+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T20:56:53.136+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-31T20:56:53.136+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-31T20:56:53.140+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-31T20:57:15.226+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T20:57:15.234+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-31T20:57:15.255+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-10-31T20:57:15.262+05:30 level=INFO msg="[get-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc successfully locked for update. Current Available: 97"
time=2025-10-31T20:57:15.264+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 14c7770d-c354-4df9-85e1-9c1757a8acbc. New count: 96"
time=2025-10-31T20:57:15.270+05:30 level=INFO msg="[update-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc availability updated to 96 within transaction."
time=2025-10-31T20:57:15.275+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-31T20:57:15.276+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7 for Name: kalai"
time=2025-10-31T20:57:15.284+05:30 level=INFO msg="[create-participant-uc] Participant fe77d03d-b9e3-46f8-918b-d27dcdcd70d7 inserted successfully within transaction."
time=2025-10-31T20:57:15.301+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-10-31T20:57:15.308+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-31T20:57:16.118+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-31T20:57:16.118+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-10-31T20:57:18.105+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T20:57:18.106+05:30 level=INFO msg="[booking] Fetching booking history for user: tom249310@gmail.com"
time=2025-10-31T20:57:18.109+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: tom249310@gmail.com"
time=2025-10-31T20:57:18.109+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-31T20:57:18.115+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for tom249310@gmail.com."
time=2025-10-31T20:57:18.115+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for tom249310@gmail.com."
time=2025-10-31T21:06:18.683+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-10-31T21:06:18.684+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-10-31T21:06:18.684+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-10-31T21:06:18.684+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-10-31T21:06:18.687+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-10-31T21:06:18.688+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-10-31T21:06:18.688+05:30 level=INFO msg="[auth] Generated OTP code: 260067"
time=2025-10-31T21:06:18.689+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-10-31T21:11:18+05:30"
time=2025-10-31T21:06:18.692+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-10-31T21:06:20.504+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-31T21:06:20.505+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-10-31T21:06:20.505+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-10-31T21:06:38.529+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-10-31T21:06:38.529+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-10-31T21:06:38.530+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-10-31T21:06:38.531+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-10-31T21:06:38.532+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-10-31T21:06:38.533+05:30 level=WARN msg="[auth] Verification failed for selvanunofficial@gmail.com: OTP not found in DB or code mismatch."
time=2025-10-31T21:06:38.539+05:30 level=WARN msg="[auth] OTP verification failed for selvanunofficial@gmail.com: invalid OTP code"
time=2025-10-31T21:07:04.724+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-10-31T21:07:04.725+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-10-31T21:07:04.725+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-10-31T21:07:04.725+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-10-31T21:07:04.728+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-10-31T21:07:04.729+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-10-31T21:07:04.729+05:30 level=INFO msg="[auth] Generated OTP code: 913819"
time=2025-10-31T21:07:04.733+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-10-31T21:12:04+05:30"
time=2025-10-31T21:07:04.734+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-10-31T21:07:05.226+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-31T21:07:05.227+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-10-31T21:07:05.227+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-10-31T21:07:28.036+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-10-31T21:07:28.037+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-10-31T21:07:28.039+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-10-31T21:07:28.043+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-10-31T21:07:28.044+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-10-31T21:07:28.046+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-10-31T21:07:28.051+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-10-31T21:07:28.051+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-10-31T21:07:28.052+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-10-31T21:07:28.055+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-10-31T21:07:30.247+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:07:30.248+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:07:30.248+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:07:30.250+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:07:30.251+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:07:30.255+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:07:30.259+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:07:30.259+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:07:30.260+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:07:30.260+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:07:30.261+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:07:30.264+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:07:32.311+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:07:32.312+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T21:07:32.312+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T21:07:32.318+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T21:07:32.323+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:07:32.323+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T21:07:32.324+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T21:07:32.326+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T21:07:33.210+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:07:33.211+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:07:33.212+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:07:33.212+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:07:33.212+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:07:33.214+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:07:33.220+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:07:33.221+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:07:33.223+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:07:33.223+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:07:33.224+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:07:33.227+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:07:36.547+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:07:36.548+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-31T21:07:36.548+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:07:36.549+05:30 level=INFO msg="[booking-controller] Verification requested: 0e41b93c-092e-449a-a96c-430e0e9a2377 ‚Üí approve"
time=2025-10-31T21:07:36.550+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-10-31T21:07:36.551+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-10-31T21:07:36.552+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-10-31T21:07:36.557+05:30 level=INFO msg="[get-booking-uc] Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 retrieved successfully. Status: VERIFYING."
time=2025-10-31T21:07:36.557+05:30 level=INFO msg="[approve-booking-uc] üéüÔ∏è ConcertID raw value (type: string): 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-31T21:07:36.557+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-31T21:07:36.558+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-31T21:07:36.563+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-31T21:07:36.563+05:30 level=INFO msg="[approve-booking-uc] üéµ Concert found: adsa @ 2025-10-30T22:41, fadfasdf"
time=2025-10-31T21:07:36.564+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-10-31T21:07:36.564+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-10-31T21:07:36.566+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-10-31T21:07:36.569+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 marked APPROVED."
time=2025-10-31T21:07:36.616+05:30 level=INFO msg="[approve-booking-uc] üìÑ PDF generated successfully for 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-10-31T21:07:37.106+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-10-31T21:07:37.107+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email with PDF sent to tom249310@gmail.com"
time=2025-10-31T21:07:38.952+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:07:38.953+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:07:38.955+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:07:38.955+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:07:38.956+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:07:38.960+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-31T21:09:30.843+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-10-31T21:09:30.845+05:30 level=INFO msg="[main] program started"
time=2025-10-31T21:09:30.845+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-10-31T21:09:30.847+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-10-31T21:09:30.847+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-10-31T21:09:30.847+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-10-31T21:09:31.097+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-10-31T21:09:31.097+05:30 level=INFO msg="[main] Database connection successful."
time=2025-10-31T21:09:31.097+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-10-31T21:09:31.097+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-10-31T21:09:31.097+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-10-31T21:09:31.102+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-10-31T21:09:31.102+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-10-31T21:09:31.102+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-10-31T21:09:31.102+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-10-31T21:09:31.103+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-10-31T21:09:31.103+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-10-31T21:09:31.105+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-10-31T21:09:31.106+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-10-31T21:09:31.107+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-10-31T21:09:31.107+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-10-31T21:09:31.108+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-10-31T21:09:31.109+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-10-31T21:09:31.109+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-10-31T21:09:31.110+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-10-31T21:09:31.110+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-10-31T21:09:31.110+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-10-31T21:09:31.111+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-10-31T21:09:31.111+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-10-31T21:09:31.111+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-10-31T21:09:31.111+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-10-31T21:09:31.112+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-10-31T21:09:31.113+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-10-31T21:09:31.113+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-10-31T21:55:27.799+05:30 level=INFO msg="[auth] Login initiated for email: tom249310@gmail.com. Password provided: false"
time=2025-10-31T21:55:27.799+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: tom249310@gmail.com"
time=2025-10-31T21:55:27.799+05:30 level=INFO msg="[auth] Starting OTP process for email: tom249310@gmail.com"
time=2025-10-31T21:55:27.799+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-10-31T21:55:28.031+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-10-31T21:55:28.031+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Role: user. Reissuing OTP."
time=2025-10-31T21:55:28.031+05:30 level=INFO msg="[auth] Generated OTP code: 294355"
time=2025-10-31T21:55:28.038+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-10-31T22:00:28+05:30"
time=2025-10-31T21:55:28.038+05:30 level=INFO msg="[auth] Sending OTP email to tom249310@gmail.com"
time=2025-10-31T21:55:29.853+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-10-31T21:55:29.854+05:30 level=INFO msg="[auth] OTP dispatch triggered for tom249310@gmail.com."
time=2025-10-31T21:55:29.854+05:30 level=INFO msg="[auth] OTP generated and request initiated for tom249310@gmail.com. Awaiting verification."
time=2025-10-31T21:55:39.250+05:30 level=INFO msg="[auth] Attempting OTP verification for email: tom249310@gmail.com"
time=2025-10-31T21:55:39.252+05:30 level=INFO msg="[auth] Verification attempt for email: tom249310@gmail.com"
time=2025-10-31T21:55:39.253+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-10-31T21:55:39.256+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-10-31T21:55:39.258+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Proceeding to OTP validation."
time=2025-10-31T21:55:39.264+05:30 level=INFO msg="[auth] OTP code matched for tom249310@gmail.com. Checking expiry..."
time=2025-10-31T21:55:39.270+05:30 level=INFO msg="[auth] OTP cleaned up successfully for tom249310@gmail.com."
time=2025-10-31T21:55:39.271+05:30 level=INFO msg="[auth] Successfully generated JWT for user b3454c6f-4267-46dc-873d-8579d5fd7e1a (Role: user)."
time=2025-10-31T21:55:39.272+05:30 level=INFO msg="[auth] Verification successful for tom249310@gmail.com. JWT issued. Role: user."
time=2025-10-31T21:55:39.273+05:30 level=INFO msg="[auth] OTP verified successfully for tom249310@gmail.com. JWT issued. Role: user"
time=2025-10-31T21:56:42.909+05:30 level=INFO msg="[auth] Login initiated for email: tom249310@gmail.com. Password provided: false"
time=2025-10-31T21:56:42.909+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: tom249310@gmail.com"
time=2025-10-31T21:56:42.909+05:30 level=INFO msg="[auth] Starting OTP process for email: tom249310@gmail.com"
time=2025-10-31T21:56:42.909+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-10-31T21:56:42.910+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-10-31T21:56:42.910+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Role: user. Reissuing OTP."
time=2025-10-31T21:56:42.910+05:30 level=INFO msg="[auth] Generated OTP code: 215766"
time=2025-10-31T21:56:42.911+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-10-31T22:01:42+05:30"
time=2025-10-31T21:56:42.912+05:30 level=INFO msg="[auth] Sending OTP email to tom249310@gmail.com"
time=2025-10-31T21:56:44.164+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-10-31T21:56:44.174+05:30 level=INFO msg="[auth] OTP dispatch triggered for tom249310@gmail.com."
time=2025-10-31T21:56:44.182+05:30 level=INFO msg="[auth] OTP generated and request initiated for tom249310@gmail.com. Awaiting verification."
time=2025-10-31T21:56:53.319+05:30 level=INFO msg="[auth] Attempting OTP verification for email: tom249310@gmail.com"
time=2025-10-31T21:56:53.320+05:30 level=INFO msg="[auth] Verification attempt for email: tom249310@gmail.com"
time=2025-10-31T21:56:53.321+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-10-31T21:56:53.325+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-10-31T21:56:53.326+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Proceeding to OTP validation."
time=2025-10-31T21:56:53.329+05:30 level=INFO msg="[auth] OTP code matched for tom249310@gmail.com. Checking expiry..."
time=2025-10-31T21:56:53.338+05:30 level=INFO msg="[auth] OTP cleaned up successfully for tom249310@gmail.com."
time=2025-10-31T21:56:53.339+05:30 level=INFO msg="[auth] Successfully generated JWT for user b3454c6f-4267-46dc-873d-8579d5fd7e1a (Role: user)."
time=2025-10-31T21:56:53.339+05:30 level=INFO msg="[auth] Verification successful for tom249310@gmail.com. JWT issued. Role: user."
time=2025-10-31T21:56:53.340+05:30 level=INFO msg="[auth] OTP verified successfully for tom249310@gmail.com. JWT issued. Role: user"
time=2025-10-31T21:57:01.448+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:57:01.449+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T21:57:01.450+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T21:57:01.449+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:57:01.453+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-31T21:57:01.456+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-31T21:57:01.453+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:57:01.459+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T21:57:01.459+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-31T21:57:01.470+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-31T21:57:01.483+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-31T21:57:01.483+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:57:01.495+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T21:57:01.501+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T21:57:01.501+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:57:01.503+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-31T21:57:01.504+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-31T21:57:01.503+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T21:57:01.508+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-31T21:57:01.750+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-31T21:57:01.756+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:57:01.756+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-31T21:57:01.756+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-31T21:57:01.758+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-31T21:57:07.437+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:57:07.446+05:30 level=INFO msg="[booking] Fetching booking history for user: tom249310@gmail.com"
time=2025-10-31T21:57:07.447+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: tom249310@gmail.com"
time=2025-10-31T21:57:07.447+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-31T21:57:07.451+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 1 booking records for tom249310@gmail.com."
time=2025-10-31T21:57:07.452+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for tom249310@gmail.com."
time=2025-10-31T21:57:46.033+05:30 level=INFO msg="[auth] Login initiated for email: tom249310@gmail.com. Password provided: false"
time=2025-10-31T21:57:46.033+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: tom249310@gmail.com"
time=2025-10-31T21:57:46.034+05:30 level=INFO msg="[auth] Starting OTP process for email: tom249310@gmail.com"
time=2025-10-31T21:57:46.034+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-10-31T21:57:46.036+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-10-31T21:57:46.042+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Role: user. Reissuing OTP."
time=2025-10-31T21:57:46.042+05:30 level=INFO msg="[auth] Generated OTP code: 104723"
time=2025-10-31T21:57:46.054+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-10-31T22:02:46+05:30"
time=2025-10-31T21:57:46.055+05:30 level=INFO msg="[auth] Sending OTP email to tom249310@gmail.com"
time=2025-10-31T21:57:47.295+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-10-31T21:57:47.297+05:30 level=INFO msg="[auth] OTP dispatch triggered for tom249310@gmail.com."
time=2025-10-31T21:57:47.297+05:30 level=INFO msg="[auth] OTP generated and request initiated for tom249310@gmail.com. Awaiting verification."
time=2025-10-31T21:58:04.295+05:30 level=INFO msg="[auth] Attempting OTP verification for email: tom249310@gmail.com"
time=2025-10-31T21:58:04.296+05:30 level=INFO msg="[auth] Verification attempt for email: tom249310@gmail.com"
time=2025-10-31T21:58:04.297+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-10-31T21:58:04.300+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-10-31T21:58:04.302+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Proceeding to OTP validation."
time=2025-10-31T21:58:04.310+05:30 level=INFO msg="[auth] OTP code matched for tom249310@gmail.com. Checking expiry..."
time=2025-10-31T21:58:04.320+05:30 level=INFO msg="[auth] OTP cleaned up successfully for tom249310@gmail.com."
time=2025-10-31T21:58:04.324+05:30 level=INFO msg="[auth] Successfully generated JWT for user b3454c6f-4267-46dc-873d-8579d5fd7e1a (Role: user)."
time=2025-10-31T21:58:04.326+05:30 level=INFO msg="[auth] Verification successful for tom249310@gmail.com. JWT issued. Role: user."
time=2025-10-31T21:58:04.327+05:30 level=INFO msg="[auth] OTP verified successfully for tom249310@gmail.com. JWT issued. Role: user"
time=2025-10-31T21:58:08.773+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:58:08.775+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T21:58:08.778+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T21:58:08.777+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:58:08.782+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:58:08.793+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-31T21:58:08.805+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-31T21:58:08.794+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T21:58:08.791+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-31T21:58:08.811+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-31T21:58:08.817+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-31T21:58:08.820+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-31T21:58:08.824+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:58:08.830+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T21:58:08.833+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T21:58:08.830+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:58:08.839+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-10-31T21:58:08.837+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:58:08.837+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T21:58:08.842+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-10-31T21:58:08.844+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-10-31T21:58:08.852+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-10-31T21:58:08.850+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-10-31T21:58:08.854+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-10-31T21:58:24.570+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:58:24.573+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-10-31T21:58:24.578+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 6d909559-7054-47dc-8bd1-e8b566a82bbb"
time=2025-10-31T21:58:24.582+05:30 level=INFO msg="[get-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb successfully locked for update. Current Available: 96"
time=2025-10-31T21:58:24.582+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 6d909559-7054-47dc-8bd1-e8b566a82bbb. New count: 95"
time=2025-10-31T21:58:24.585+05:30 level=INFO msg="[update-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb availability updated to 95 within transaction."
time=2025-10-31T21:58:24.586+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-10-31T21:58:24.586+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 66a4cd8d-b434-470b-ab7f-5c331a5643df for Name: kalai"
time=2025-10-31T21:58:24.591+05:30 level=INFO msg="[create-participant-uc] Participant 66a4cd8d-b434-470b-ab7f-5c331a5643df inserted successfully within transaction."
time=2025-10-31T21:58:24.606+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-10-31T21:58:24.606+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-10-31T21:58:25.326+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-10-31T21:58:25.339+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-10-31T21:58:26.222+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-10-31T21:58:26.222+05:30 level=INFO msg="[booking] Fetching booking history for user: tom249310@gmail.com"
time=2025-10-31T21:58:26.223+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: tom249310@gmail.com"
time=2025-10-31T21:58:26.223+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-10-31T21:58:26.226+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 2 booking records for tom249310@gmail.com."
time=2025-10-31T21:58:26.226+05:30 level=INFO msg="[booking] Successfully retrieved 2 bookings for tom249310@gmail.com."
time=2025-10-31T21:58:51.500+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:58:51.501+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:58:51.501+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:58:51.502+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:58:51.502+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:58:51.506+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:58:51.511+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:58:51.514+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:58:51.516+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:58:51.517+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:58:51.517+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:58:51.520+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:58:53.296+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:58:53.297+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-31T21:58:53.298+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:58:53.298+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-31T21:58:53.300+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-31T21:58:53.304+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 3 total bookings for admin."
time=2025-10-31T21:58:55.931+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:58:55.932+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:58:55.933+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:58:55.934+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:58:55.934+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:58:55.936+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:59:00.060+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:59:00.060+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T21:59:00.061+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T21:59:00.064+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T21:59:00.071+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:59:00.071+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-10-31T21:59:00.073+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-10-31T21:59:00.075+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-10-31T21:59:04.773+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:59:04.773+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:59:04.773+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:59:04.773+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:59:04.774+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:59:04.774+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:59:04.780+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:59:04.780+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:59:04.781+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:59:04.782+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:59:04.783+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:59:04.786+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-10-31T21:59:08.003+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:59:08.004+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-10-31T21:59:08.004+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:59:08.004+05:30 level=INFO msg="[booking-controller] Verification requested: 5fc2921c-2328-4105-bed3-b481f307ccbb ‚Üí approve"
time=2025-10-31T21:59:08.004+05:30 level=INFO msg="[approve-booking-uc] Approving booking: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-10-31T21:59:08.005+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-10-31T21:59:08.005+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-10-31T21:59:08.007+05:30 level=INFO msg="[get-booking-uc] Booking 5fc2921c-2328-4105-bed3-b481f307ccbb retrieved successfully. Status: VERIFYING."
time=2025-10-31T21:59:08.007+05:30 level=INFO msg="[approve-booking-uc] üéüÔ∏è ConcertID raw value (type: string): 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-31T21:59:08.008+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-31T21:59:08.008+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-31T21:59:08.009+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-10-31T21:59:08.010+05:30 level=INFO msg="[approve-booking-uc] üéµ Concert found: adsa @ 2025-10-30T22:41, fadfasdf"
time=2025-10-31T21:59:08.010+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-10-31T21:59:08.011+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-10-31T21:59:08.013+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-10-31T21:59:08.013+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-10-31T21:59:08.013+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-10-31T21:59:08.016+05:30 level=INFO msg="[get-participant-uc] Participant 66a4cd8d-b434-470b-ab7f-5c331a5643df retrieved successfully. Name: kalai"
time=2025-10-31T21:59:08.018+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 5fc2921c-2328-4105-bed3-b481f307ccbb marked APPROVED."
time=2025-10-31T21:59:08.022+05:30 level=INFO msg="[approve-booking-uc] üìÑ PDF generated successfully for 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-10-31T21:59:09.143+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-10-31T21:59:09.145+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email with PDF sent to tom249310@gmail.com"
time=2025-10-31T21:59:10.326+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:59:10.326+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T21:59:10.327+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:59:10.327+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T21:59:10.327+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T21:59:10.330+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-10-31T21:59:11.980+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T21:59:11.980+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-10-31T21:59:11.980+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T21:59:11.981+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-10-31T21:59:11.981+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-10-31T21:59:11.984+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 3 total bookings for admin."
time=2025-10-31T22:27:49.714+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-10-31T22:27:49.715+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-10-31T22:27:49.716+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-10-31T22:27:49.716+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-10-31T22:27:49.717+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-10-31T22:27:49.939+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T08:38:48.424+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T08:38:48.427+05:30 level=INFO msg="[main] program started"
time=2025-11-01T08:38:48.428+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T08:38:48.428+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T08:38:48.428+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T08:38:48.429+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T08:38:48.704+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T08:38:48.704+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T08:38:48.705+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T08:38:48.705+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T08:38:48.705+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T08:38:48.710+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T08:38:48.711+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T08:38:48.711+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T08:38:48.712+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T08:38:48.713+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T08:38:48.714+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T08:38:48.715+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T08:38:48.717+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T08:38:48.718+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T08:38:48.718+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T08:38:48.719+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T08:38:48.719+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T08:38:48.720+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T08:38:48.721+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T08:38:48.722+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T08:38:48.722+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T08:38:48.725+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T08:38:48.728+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T08:38:48.731+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T08:38:48.731+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T08:38:48.733+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T08:38:48.734+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T08:38:48.735+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T08:39:21.555+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-01T08:39:21.556+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-01T08:39:21.557+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-01T08:39:21.557+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-01T08:39:21.570+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-01T08:39:21.571+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-01T08:39:21.571+05:30 level=INFO msg="[auth] Generated OTP code: 276902"
time=2025-11-01T08:39:21.586+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T08:44:21+05:30"
time=2025-11-01T08:39:21.588+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-01T08:39:23.504+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T08:39:23.510+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-01T08:39:23.511+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-01T08:39:42.179+05:30 level=INFO msg="[auth] Login initiated for email: tom249310@gmail.com. Password provided: false"
time=2025-11-01T08:39:42.180+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: tom249310@gmail.com"
time=2025-11-01T08:39:42.180+05:30 level=INFO msg="[auth] Starting OTP process for email: tom249310@gmail.com"
time=2025-11-01T08:39:42.181+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-11-01T08:39:42.184+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-11-01T08:39:42.185+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-01T08:39:42.186+05:30 level=INFO msg="[auth] Generated OTP code: 222547"
time=2025-11-01T08:39:42.191+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T08:44:42+05:30"
time=2025-11-01T08:39:42.192+05:30 level=INFO msg="[auth] Sending OTP email to tom249310@gmail.com"
time=2025-11-01T08:39:43.159+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T08:39:43.168+05:30 level=INFO msg="[auth] OTP dispatch triggered for tom249310@gmail.com."
time=2025-11-01T08:39:43.168+05:30 level=INFO msg="[auth] OTP generated and request initiated for tom249310@gmail.com. Awaiting verification."
time=2025-11-01T08:39:54.635+05:30 level=INFO msg="[auth] Attempting OTP verification for email: tom249310@gmail.com"
time=2025-11-01T08:39:54.635+05:30 level=INFO msg="[auth] Verification attempt for email: tom249310@gmail.com"
time=2025-11-01T08:39:54.635+05:30 level=INFO msg="[user] Attempting to retrieve user by email: tom249310@gmail.com"
time=2025-11-01T08:39:54.636+05:30 level=INFO msg="[user] User tom249310@gmail.com found successfully. Role: user."
time=2025-11-01T08:39:54.636+05:30 level=INFO msg="[auth] User tom249310@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T08:39:54.638+05:30 level=INFO msg="[auth] OTP code matched for tom249310@gmail.com. Checking expiry..."
time=2025-11-01T08:39:54.643+05:30 level=INFO msg="[auth] OTP cleaned up successfully for tom249310@gmail.com."
time=2025-11-01T08:39:54.644+05:30 level=INFO msg="[auth] Successfully generated JWT for user b3454c6f-4267-46dc-873d-8579d5fd7e1a (Role: user)."
time=2025-11-01T08:39:54.645+05:30 level=INFO msg="[auth] Verification successful for tom249310@gmail.com. JWT issued. Role: user."
time=2025-11-01T08:39:54.645+05:30 level=INFO msg="[auth] OTP verified successfully for tom249310@gmail.com. JWT issued. Role: user"
time=2025-11-01T08:39:59.550+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T08:39:59.559+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T08:39:59.552+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T08:39:59.554+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T08:39:59.563+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T08:39:59.566+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T08:39:59.568+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T08:39:59.583+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T08:39:59.578+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T08:39:59.587+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T08:39:59.594+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T08:39:59.603+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T08:39:59.605+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T08:39:59.604+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T08:39:59.607+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T08:39:59.608+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T08:39:59.607+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T08:39:59.610+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T08:39:59.832+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T08:39:59.894+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T08:39:59.900+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T08:39:59.901+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T08:39:59.901+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T08:39:59.904+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T08:40:17.233+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T08:40:17.235+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-01T08:40:17.237+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 69a0b445-c3d5-4e23-bad1-e8f92f064bcf"
time=2025-11-01T08:40:17.248+05:30 level=INFO msg="[get-seat-uc] Seat 69a0b445-c3d5-4e23-bad1-e8f92f064bcf successfully locked for update. Current Available: 98"
time=2025-11-01T08:40:17.248+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 69a0b445-c3d5-4e23-bad1-e8f92f064bcf. New count: 97"
time=2025-11-01T08:40:17.256+05:30 level=INFO msg="[update-seat-uc] Seat 69a0b445-c3d5-4e23-bad1-e8f92f064bcf availability updated to 97 within transaction."
time=2025-11-01T08:40:17.258+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T08:40:17.259+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 for Name: fdadfa"
time=2025-11-01T08:40:17.270+05:30 level=INFO msg="[create-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 inserted successfully within transaction."
time=2025-11-01T08:40:17.293+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T08:40:17.293+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-01T08:40:17.883+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T08:40:17.887+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T08:40:19.849+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T08:40:19.849+05:30 level=INFO msg="[booking] Fetching booking history for user: tom249310@gmail.com"
time=2025-11-01T08:40:19.849+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: tom249310@gmail.com"
time=2025-11-01T08:40:19.850+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-01T08:40:19.852+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 3 booking records for tom249310@gmail.com."
time=2025-11-01T08:40:19.853+05:30 level=INFO msg="[booking] Successfully retrieved 3 bookings for tom249310@gmail.com."
time=2025-11-01T08:40:37.960+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T08:40:37.960+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T08:40:37.961+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T08:40:37.961+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T08:40:37.963+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T08:40:37.968+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T08:40:37.971+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T08:40:37.974+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T08:40:37.975+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T08:40:37.976+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T08:40:37.978+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T08:40:37.989+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T08:40:40.569+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T08:40:40.569+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T08:40:40.570+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T08:40:40.570+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-01T08:40:40.571+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T08:40:40.575+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-01T08:40:40.576+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T08:40:40.576+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T08:40:40.578+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-01T08:40:40.579+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T08:40:40.579+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T08:40:40.584+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T08:40:40.585+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T08:40:40.585+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T08:40:40.590+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T08:40:40.592+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T08:40:40.593+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T08:40:40.597+05:30 level=INFO msg="[get-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 retrieved successfully. Name: fdadfa"
time=2025-11-01T08:40:41.104+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T08:40:41.104+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T08:40:42.651+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T08:40:42.651+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T08:40:42.652+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T08:40:42.652+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T08:40:42.652+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T08:40:42.654+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T09:06:17.798+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:06:17.799+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:06:17.799+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:06:17.800+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:06:17.800+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:06:17.800+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:06:17.949+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:06:17.950+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:06:17.950+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:06:17.951+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:06:17.951+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:06:17.954+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:06:17.955+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:06:17.955+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:06:17.956+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:06:17.957+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:06:17.957+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:06:17.959+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:06:17.960+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:06:17.960+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:06:17.961+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:06:17.962+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:06:17.962+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:06:17.964+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:06:17.965+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:06:17.966+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:06:17.967+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:06:17.968+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:06:17.969+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:06:17.970+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:06:17.970+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:06:17.970+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:06:17.971+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:06:17.971+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:07:25.791+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:07:25.791+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:07:25.791+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:07:25.791+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:07:25.792+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:07:25.801+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T09:07:28.004+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:07:28.004+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-01T09:07:28.004+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:07:28.004+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-01T09:07:28.005+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-01T09:07:28.006+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 4 total bookings for admin."
time=2025-11-01T09:07:33.116+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:07:33.117+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:07:33.117+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:07:33.119+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:07:33.119+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:07:33.122+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T09:09:19.180+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:09:19.182+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:09:19.182+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:09:19.183+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:09:19.183+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:09:19.183+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:09:19.379+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:09:19.379+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:09:19.379+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:09:19.380+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:09:19.380+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:09:19.381+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:09:19.381+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:09:19.381+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:09:19.382+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:09:19.382+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:09:19.382+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:09:19.382+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:09:19.382+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:09:19.382+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:09:19.382+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:09:19.383+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:09:19.383+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:09:19.383+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:09:19.383+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:09:19.383+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:09:19.383+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:09:19.383+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:09:19.383+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:09:19.383+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:09:19.384+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:09:19.384+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:09:19.384+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:09:19.384+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:09:45.051+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:09:45.051+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:09:45.051+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:09:45.051+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:09:45.051+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:09:45.061+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-01T09:09:48.621+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:09:48.623+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T09:09:48.623+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:09:48.624+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-01T09:09:48.625+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:09:48.627+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-01T09:09:48.627+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:09:48.628+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:09:48.629+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-01T09:09:48.629+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:09:48.629+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:09:48.631+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:09:48.631+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:09:48.631+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:09:48.633+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T09:09:48.635+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T09:09:48.636+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T09:09:48.638+05:30 level=INFO msg="[get-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 retrieved successfully. Name: fdadfa"
time=2025-11-01T09:09:53.120+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T09:09:53.120+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T09:09:53.427+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:09:53.427+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:09:53.428+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:09:53.429+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:09:53.430+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:09:53.435+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-01T09:13:59.331+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:13:59.333+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:13:59.334+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:13:59.334+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:13:59.334+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:13:59.334+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:13:59.516+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:13:59.516+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:13:59.517+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:13:59.517+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:13:59.517+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:13:59.518+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:13:59.518+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:13:59.519+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:13:59.519+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:13:59.519+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:13:59.519+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:13:59.519+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:13:59.519+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:13:59.520+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:13:59.520+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:13:59.520+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:13:59.520+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:13:59.520+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:13:59.520+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:13:59.520+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:13:59.521+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:13:59.521+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:13:59.521+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:13:59.521+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:13:59.521+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:13:59.521+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:13:59.521+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:13:59.521+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:14:21.612+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:14:21.612+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:14:21.612+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:14:21.612+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:14:21.613+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:14:21.616+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-01T09:14:24.664+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:14:24.665+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T09:14:24.666+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:14:24.666+05:30 level=INFO msg="[booking-controller] Verification requested: 5fc2921c-2328-4105-bed3-b481f307ccbb ‚Üí approve"
time=2025-11-01T09:14:24.666+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:14:24.677+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 5fc2921c-2328-4105-bed3-b481f307ccbb marked APPROVED."
time=2025-11-01T09:14:24.682+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:14:24.682+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:14:24.686+05:30 level=INFO msg="[get-booking-uc] Booking 5fc2921c-2328-4105-bed3-b481f307ccbb retrieved successfully. Status: APPROVED."
time=2025-11-01T09:14:24.687+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:14:24.687+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:14:24.697+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:14:24.699+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:14:24.699+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:14:24.706+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T09:14:24.707+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T09:14:24.708+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T09:14:24.714+05:30 level=INFO msg="[get-participant-uc] Participant 66a4cd8d-b434-470b-ab7f-5c331a5643df retrieved successfully. Name: kalai"
time=2025-11-01T09:14:26.735+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T09:14:26.736+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T09:14:26.809+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:14:26.809+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:14:26.810+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:14:26.811+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:14:26.811+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:14:26.814+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T09:19:30.069+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:19:30.070+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:19:30.070+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:19:30.071+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:19:30.071+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:19:30.071+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:19:30.302+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:19:30.302+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:19:30.302+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:19:30.302+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:19:30.303+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:19:30.304+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:19:30.304+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:19:30.305+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:19:30.305+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:19:30.305+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:19:30.305+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:19:30.305+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:19:30.306+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:19:30.306+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:19:30.306+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:19:30.306+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:19:30.307+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:19:30.307+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:19:30.308+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:19:30.308+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:19:30.308+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:19:30.308+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:19:30.308+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:19:30.308+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:19:30.308+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:19:30.308+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:19:30.308+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:19:30.309+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:19:43.005+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:19:43.005+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:19:43.006+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:19:43.006+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:19:43.006+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:19:43.010+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T09:19:46.020+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:19:46.020+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T09:19:46.021+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:19:46.021+05:30 level=INFO msg="[booking-controller] Verification requested: 0e41b93c-092e-449a-a96c-430e0e9a2377 ‚Üí approve"
time=2025-11-01T09:19:46.022+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T09:19:46.027+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 marked APPROVED."
time=2025-11-01T09:19:46.031+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T09:19:46.031+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T09:19:46.032+05:30 level=INFO msg="[get-booking-uc] Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 retrieved successfully. Status: APPROVED."
time=2025-11-01T09:19:46.032+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:19:46.034+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:19:46.037+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:19:46.037+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-01T09:19:46.037+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-01T09:19:46.039+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-01T09:19:46.040+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7"
time=2025-11-01T09:19:46.041+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7"
time=2025-11-01T09:19:46.042+05:30 level=INFO msg="[get-participant-uc] Participant fe77d03d-b9e3-46f8-918b-d27dcdcd70d7 retrieved successfully. Name: kalai"
time=2025-11-01T09:19:48.419+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T09:19:48.420+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T09:19:48.435+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:19:48.435+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:19:48.436+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:19:48.437+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:19:48.437+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:19:48.438+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T09:21:26.806+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:21:26.808+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:21:26.808+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:21:26.808+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:21:26.808+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:21:26.808+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:21:26.940+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:21:26.940+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:21:26.940+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:21:26.940+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:21:26.941+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:21:26.941+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:21:26.941+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:21:26.942+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:21:26.942+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:21:26.942+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:21:26.942+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:21:26.942+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:21:26.942+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:21:26.943+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:21:26.943+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:21:26.943+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:21:26.943+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:21:26.944+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:21:26.944+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:21:26.944+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:21:26.944+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:21:26.944+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:21:26.944+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:21:26.944+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:21:26.944+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:21:26.944+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:21:26.945+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:21:26.945+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:22:57.393+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:22:57.393+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:22:57.394+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:22:57.395+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:22:57.395+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:22:57.406+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T09:22:59.485+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:22:59.486+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T09:22:59.487+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:22:59.487+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-01T09:22:59.488+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:22:59.499+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-01T09:22:59.501+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:22:59.501+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:22:59.505+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-01T09:22:59.506+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:22:59.506+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:22:59.515+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:22:59.517+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:22:59.519+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:22:59.527+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T09:22:59.528+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T09:22:59.528+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T09:22:59.537+05:30 level=INFO msg="[get-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 retrieved successfully. Name: fdadfa"
time=2025-11-01T09:23:02.308+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T09:23:02.309+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T09:23:02.340+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:23:02.342+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:23:02.342+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:23:02.343+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:23:02.343+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:23:02.346+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T09:24:42.039+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:24:42.044+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:24:42.044+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:24:42.044+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:24:42.045+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:24:42.045+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:24:42.364+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:24:42.364+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:24:42.365+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:24:42.366+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:24:42.366+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:24:42.368+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:24:42.368+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:24:42.368+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:24:42.369+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:24:42.369+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:24:42.369+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:24:42.370+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:24:42.371+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:24:42.372+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:24:42.373+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:24:42.375+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:24:42.375+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:24:42.375+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:24:42.376+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:24:42.376+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:24:42.376+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:24:42.377+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:24:42.378+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:24:42.379+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:24:42.380+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:24:42.380+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:24:42.381+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:24:42.381+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:25:05.883+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:25:05.884+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:25:05.884+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:25:05.885+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:25:05.885+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:25:05.893+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T09:25:13.619+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:25:13.619+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T09:25:13.620+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:25:13.620+05:30 level=INFO msg="[booking-controller] Verification requested: 5fc2921c-2328-4105-bed3-b481f307ccbb ‚Üí approve"
time=2025-11-01T09:25:13.621+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:25:13.628+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 5fc2921c-2328-4105-bed3-b481f307ccbb marked APPROVED."
time=2025-11-01T09:25:13.628+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:25:13.629+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:25:13.632+05:30 level=INFO msg="[get-booking-uc] Booking 5fc2921c-2328-4105-bed3-b481f307ccbb retrieved successfully. Status: APPROVED."
time=2025-11-01T09:25:13.633+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:25:13.634+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:25:13.641+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:25:13.642+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:25:13.642+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:25:13.648+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T09:25:13.649+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T09:25:13.649+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T09:25:13.658+05:30 level=INFO msg="[get-participant-uc] Participant 66a4cd8d-b434-470b-ab7f-5c331a5643df retrieved successfully. Name: kalai"
time=2025-11-01T09:25:15.606+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T09:25:15.606+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T09:25:16.827+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:25:16.827+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:25:16.827+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:25:16.828+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:25:16.828+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:25:16.829+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T09:31:05.050+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:31:05.057+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:31:05.057+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:31:05.058+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:31:05.058+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:31:05.059+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:31:05.345+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:31:05.345+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:31:05.345+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:31:05.346+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:31:05.346+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:31:05.347+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:31:05.347+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:31:05.348+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:31:05.348+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:31:05.348+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:31:05.348+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:31:05.349+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:31:05.349+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:31:05.349+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:31:05.349+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:31:05.349+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:31:05.350+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:31:05.350+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:31:05.350+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:31:05.350+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:31:05.350+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:31:05.350+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:31:05.350+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:31:05.351+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:31:05.351+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:31:05.351+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:31:05.351+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:31:05.351+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:31:22.590+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:31:22.592+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:31:22.592+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:31:22.593+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:31:22.593+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:31:22.593+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:31:22.721+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:31:22.721+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:31:22.721+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:31:22.721+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:31:22.721+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:31:22.722+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:31:22.722+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:31:22.723+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:31:22.723+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:31:22.724+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:31:22.724+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:31:22.724+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:31:22.724+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:31:22.725+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:31:22.725+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:31:22.725+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:31:22.725+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:31:22.726+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:31:22.726+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:31:22.726+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:31:22.726+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:31:22.727+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:31:22.727+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:31:22.727+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:31:22.727+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:31:22.728+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:31:22.728+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:31:22.728+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:32:10.612+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:32:10.612+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:32:10.613+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:32:10.613+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:32:10.613+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:32:10.616+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-01T09:32:28.072+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:32:28.073+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T09:32:28.073+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:32:28.073+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-01T09:32:28.074+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:32:28.076+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-01T09:32:28.078+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:32:28.080+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T09:32:28.082+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-01T09:32:28.083+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:32:28.084+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:32:28.087+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:32:28.090+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:32:28.090+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:32:28.094+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T09:32:28.094+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T09:32:28.095+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T09:32:28.098+05:30 level=INFO msg="[get-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 retrieved successfully. Name: fdadfa"
time=2025-11-01T09:32:30.434+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T09:32:30.435+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T09:32:31.082+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:32:31.083+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:32:31.084+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:32:31.084+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:32:31.084+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:32:31.089+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-01T09:37:27.378+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:37:27.379+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:37:27.379+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:37:27.380+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:37:27.380+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:37:27.380+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:37:27.528+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:37:27.528+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:37:27.528+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:37:27.528+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:37:27.528+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:37:27.529+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:37:27.529+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:37:27.529+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:37:27.529+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:37:27.530+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:37:27.530+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:37:27.531+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:37:27.531+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:37:27.532+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:37:27.532+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:37:27.533+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:37:27.533+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:37:43.046+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:37:43.047+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:37:43.047+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:37:43.048+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:37:43.049+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:37:43.057+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-01T09:37:45.926+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:37:45.926+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T09:37:45.927+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:37:45.928+05:30 level=INFO msg="[booking-controller] Verification requested: 5fc2921c-2328-4105-bed3-b481f307ccbb ‚Üí approve"
time=2025-11-01T09:37:45.929+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:37:45.943+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 5fc2921c-2328-4105-bed3-b481f307ccbb marked APPROVED."
time=2025-11-01T09:37:45.944+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:37:45.944+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T09:37:45.948+05:30 level=INFO msg="[get-booking-uc] Booking 5fc2921c-2328-4105-bed3-b481f307ccbb retrieved successfully. Status: APPROVED."
time=2025-11-01T09:37:45.949+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:37:45.951+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:37:45.958+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:37:45.959+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:37:45.959+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T09:37:45.967+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T09:37:45.969+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T09:37:45.970+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T09:37:45.972+05:30 level=INFO msg="[get-participant-uc] Participant 66a4cd8d-b434-470b-ab7f-5c331a5643df retrieved successfully. Name: kalai"
time=2025-11-01T09:37:48.383+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T09:37:48.384+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T09:37:49.691+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:37:49.691+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:37:49.692+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:37:49.693+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:37:49.693+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:37:49.695+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T09:42:58.862+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T09:42:58.863+05:30 level=INFO msg="[main] program started"
time=2025-11-01T09:42:58.863+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T09:42:58.863+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T09:42:58.863+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T09:42:58.863+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T09:42:59.017+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T09:42:59.018+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T09:42:59.018+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T09:42:59.019+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T09:42:59.020+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T09:42:59.024+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T09:42:59.026+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T09:42:59.029+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T09:42:59.030+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T09:42:59.032+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T09:42:59.033+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T09:42:59.036+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T09:42:59.037+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T09:42:59.039+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T09:42:59.039+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T09:42:59.042+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T09:42:59.042+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T09:42:59.044+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T09:42:59.045+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T09:42:59.046+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T09:42:59.047+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T09:42:59.048+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T09:42:59.049+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T09:42:59.050+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T09:42:59.051+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T09:42:59.052+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T09:42:59.053+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T09:42:59.054+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T09:43:37.150+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:43:37.150+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:43:37.150+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:43:37.150+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:43:37.150+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:43:37.155+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T09:43:39.185+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:43:39.186+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T09:43:39.186+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:43:39.187+05:30 level=INFO msg="[booking-controller] Verification requested: 0e41b93c-092e-449a-a96c-430e0e9a2377 ‚Üí approve"
time=2025-11-01T09:43:39.188+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T09:43:39.198+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 marked APPROVED."
time=2025-11-01T09:43:39.199+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T09:43:39.199+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T09:43:39.204+05:30 level=INFO msg="[get-booking-uc] Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 retrieved successfully. Status: APPROVED."
time=2025-11-01T09:43:39.206+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:43:39.210+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:43:39.221+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T09:43:39.222+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-01T09:43:39.224+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-01T09:43:39.233+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-01T09:43:39.234+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7"
time=2025-11-01T09:43:39.235+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7"
time=2025-11-01T09:43:39.241+05:30 level=INFO msg="[get-participant-uc] Participant fe77d03d-b9e3-46f8-918b-d27dcdcd70d7 retrieved successfully. Name: kalai"
time=2025-11-01T09:43:41.676+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T09:43:41.677+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T09:43:41.752+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T09:43:41.753+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T09:43:41.754+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T09:43:41.754+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T09:43:41.754+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T09:43:41.755+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T10:11:28.889+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T10:11:28.891+05:30 level=INFO msg="[main] program started"
time=2025-11-01T10:11:28.892+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T10:11:28.892+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T10:11:28.892+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T10:11:28.892+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T10:11:29.274+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T10:11:29.274+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T10:11:29.274+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T10:11:29.274+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T10:11:29.274+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T10:11:29.276+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T10:11:29.276+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T10:11:29.276+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T10:11:29.276+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T10:11:29.276+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T10:11:29.277+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T10:11:29.277+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T10:11:29.277+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T10:11:29.278+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T10:11:29.278+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T10:11:29.278+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T10:11:29.278+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T10:11:29.278+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T10:11:29.278+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T10:11:29.279+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T10:11:29.279+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T10:11:29.279+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T10:11:29.279+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T10:11:29.280+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T10:11:29.280+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T10:11:29.280+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T10:11:29.280+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T10:11:29.281+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T10:11:54.858+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:11:54.861+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:11:54.867+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:11:54.874+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:11:54.878+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:11:54.894+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T10:12:40.807+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:12:40.807+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:12:40.807+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:12:40.807+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:12:40.807+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:12:40.808+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-01T10:12:40.924+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:12:40.940+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:12:40.942+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:12:41.035+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:12:41.044+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:12:41.053+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-01T10:12:44.455+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:12:44.456+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T10:12:44.457+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:12:44.459+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-01T10:12:44.460+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T10:12:44.560+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-01T10:12:44.588+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T10:12:44.719+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T10:12:44.792+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-01T10:12:44.831+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:12:44.841+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:12:44.881+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:12:44.892+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T10:12:44.893+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T10:12:44.906+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T10:12:44.907+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T10:12:44.909+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T10:12:44.921+05:30 level=INFO msg="[get-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 retrieved successfully. Name: fdadfa"
time=2025-11-01T10:12:48.291+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T10:12:48.292+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T10:12:48.318+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:12:48.318+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:12:48.318+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:12:48.320+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:12:48.320+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:12:48.322+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-01T10:15:02.154+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T10:15:02.156+05:30 level=INFO msg="[main] program started"
time=2025-11-01T10:15:02.156+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T10:15:02.156+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T10:15:02.156+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T10:15:02.157+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T10:15:02.285+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T10:15:02.285+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T10:15:02.285+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T10:15:02.286+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T10:15:02.286+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T10:15:02.286+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T10:15:02.286+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T10:15:02.286+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T10:15:02.286+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T10:15:02.287+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T10:15:02.287+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T10:15:02.287+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T10:15:02.288+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T10:15:02.288+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T10:15:02.288+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T10:15:02.288+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T10:15:02.288+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T10:15:02.289+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T10:15:02.290+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T10:15:02.290+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T10:15:55.893+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:15:55.894+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T10:15:55.895+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:15:55.901+05:30 level=INFO msg="[booking-controller] Verification requested: 5fc2921c-2328-4105-bed3-b481f307ccbb ‚Üí approve"
time=2025-11-01T10:15:55.907+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T10:15:56.025+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 5fc2921c-2328-4105-bed3-b481f307ccbb marked APPROVED."
time=2025-11-01T10:15:56.028+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T10:15:56.029+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T10:15:56.130+05:30 level=INFO msg="[get-booking-uc] Booking 5fc2921c-2328-4105-bed3-b481f307ccbb retrieved successfully. Status: APPROVED."
time=2025-11-01T10:15:56.135+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:15:56.135+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:15:56.137+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:15:56.139+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T10:15:56.142+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T10:15:56.145+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T10:15:56.154+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T10:15:56.155+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T10:15:56.159+05:30 level=INFO msg="[get-participant-uc] Participant 66a4cd8d-b434-470b-ab7f-5c331a5643df retrieved successfully. Name: kalai"
time=2025-11-01T10:15:59.393+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T10:15:59.393+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T10:16:00.922+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:16:00.939+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:16:00.948+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:16:00.956+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:16:00.976+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:16:01.084+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T10:21:42.266+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T10:21:42.267+05:30 level=INFO msg="[main] program started"
time=2025-11-01T10:21:42.267+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T10:21:42.268+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T10:21:42.268+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T10:21:42.268+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T10:21:42.515+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T10:21:42.515+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T10:21:42.515+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T10:21:42.515+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T10:21:42.515+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T10:21:42.516+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T10:21:42.516+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T10:21:42.516+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T10:21:42.516+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T10:21:42.517+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T10:21:42.518+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T10:21:42.518+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T10:21:42.518+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T10:21:42.518+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T10:21:42.518+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T10:21:42.518+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T10:21:42.518+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T10:21:42.518+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T10:21:42.518+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T10:22:44.770+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:22:44.775+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:22:44.779+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:22:44.792+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:22:44.920+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:22:45.030+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-01T10:22:47.260+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:22:47.288+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T10:22:47.437+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:22:47.441+05:30 level=INFO msg="[booking-controller] Verification requested: 0e41b93c-092e-449a-a96c-430e0e9a2377 ‚Üí approve"
time=2025-11-01T10:22:47.444+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T10:22:47.588+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 marked APPROVED."
time=2025-11-01T10:22:47.591+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T10:22:47.594+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-01T10:22:47.598+05:30 level=INFO msg="[get-booking-uc] Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 retrieved successfully. Status: APPROVED."
time=2025-11-01T10:22:47.602+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:22:47.603+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:22:47.607+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:22:47.608+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-01T10:22:47.609+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-01T10:22:47.617+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-01T10:22:47.622+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7"
time=2025-11-01T10:22:47.681+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7"
time=2025-11-01T10:22:47.805+05:30 level=INFO msg="[get-participant-uc] Participant fe77d03d-b9e3-46f8-918b-d27dcdcd70d7 retrieved successfully. Name: kalai"
time=2025-11-01T10:22:50.962+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T10:22:50.966+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T10:22:51.052+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:22:51.077+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:22:51.083+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:22:51.089+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:22:51.092+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:22:51.111+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-01T10:31:16.576+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T10:31:16.578+05:30 level=INFO msg="[main] program started"
time=2025-11-01T10:31:16.579+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T10:31:16.579+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T10:31:16.579+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T10:31:16.579+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T10:31:16.830+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T10:31:16.830+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T10:31:16.830+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T10:31:16.830+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T10:31:16.830+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T10:31:16.831+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T10:31:16.831+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T10:31:16.831+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T10:31:16.831+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T10:31:16.832+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T10:31:16.833+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T10:31:16.833+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T10:31:16.833+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T10:31:16.833+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T10:31:16.833+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T10:31:16.833+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T10:31:16.833+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T10:31:16.833+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T10:31:16.833+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T10:32:18.460+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:32:18.463+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:32:18.474+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:32:18.479+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:32:18.533+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:32:18.734+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 4 pending bookings."
time=2025-11-01T10:32:22.524+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:32:22.768+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T10:32:22.776+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:32:22.858+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-01T10:32:22.901+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T10:32:22.927+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-01T10:32:22.937+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T10:32:22.939+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-01T10:32:22.943+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-01T10:32:22.946+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:32:22.953+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:32:23.059+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:32:23.062+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T10:32:23.068+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T10:32:23.075+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T10:32:23.076+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T10:32:23.080+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-01T10:32:23.087+05:30 level=INFO msg="[get-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 retrieved successfully. Name: fdadfa"
time=2025-11-01T10:32:25.464+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T10:32:25.466+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T10:32:32.300+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:32:32.306+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:32:32.338+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:32:32.345+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:32:32.367+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:32:32.465+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-01T10:35:11.916+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T10:35:11.919+05:30 level=INFO msg="[main] program started"
time=2025-11-01T10:35:11.919+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T10:35:11.919+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T10:35:11.919+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T10:35:11.920+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T10:35:12.254+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T10:35:12.254+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T10:35:12.254+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T10:35:12.254+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T10:35:12.254+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T10:35:12.256+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T10:35:12.256+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T10:35:12.257+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T10:35:12.257+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T10:35:12.257+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T10:35:12.258+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T10:35:12.258+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T10:35:12.258+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T10:35:12.258+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T10:35:12.259+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T10:35:12.259+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T10:35:12.259+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T10:35:12.260+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T10:35:12.260+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T10:35:12.260+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T10:35:12.260+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T10:35:12.261+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T10:35:12.261+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T10:35:12.262+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T10:35:12.262+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T10:35:12.262+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T10:35:12.262+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T10:35:12.262+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T10:35:30.490+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:35:30.494+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:35:30.508+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:35:30.602+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:35:30.616+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:35:30.637+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-01T10:35:35.196+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:35:35.209+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T10:35:35.255+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:35:35.472+05:30 level=INFO msg="[booking-controller] Verification requested: 5fc2921c-2328-4105-bed3-b481f307ccbb ‚Üí approve"
time=2025-11-01T10:35:35.475+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T10:35:35.597+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 5fc2921c-2328-4105-bed3-b481f307ccbb marked APPROVED."
time=2025-11-01T10:35:35.609+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T10:35:35.612+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-01T10:35:35.623+05:30 level=INFO msg="[get-booking-uc] Booking 5fc2921c-2328-4105-bed3-b481f307ccbb retrieved successfully. Status: APPROVED."
time=2025-11-01T10:35:35.624+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:35:35.634+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:35:35.640+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T10:35:35.642+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T10:35:35.648+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T10:35:35.656+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T10:35:35.658+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T10:35:35.658+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-01T10:35:35.662+05:30 level=INFO msg="[get-participant-uc] Participant 66a4cd8d-b434-470b-ab7f-5c331a5643df retrieved successfully. Name: kalai"
time=2025-11-01T10:35:37.986+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-01T10:35:37.989+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-01T10:35:38.028+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T10:35:38.037+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T10:35:38.055+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T10:35:38.076+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T10:35:38.176+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T10:35:38.184+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-01T14:59:19.933+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T14:59:19.933+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T14:59:19.933+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T14:59:19.937+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T14:59:19.938+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T14:59:19.937+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T14:59:19.943+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T14:59:19.937+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T14:59:19.945+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T14:59:20.350+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T14:59:20.401+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T14:59:20.460+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:00:24.632+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:00:24.632+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:00:24.632+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:00:24.634+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:00:24.634+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:00:24.634+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:00:24.634+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:00:24.635+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:00:24.636+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:00:24.636+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:00:24.637+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:00:24.640+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:00:35.586+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:00:35.587+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:00:35.586+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:00:35.587+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:00:35.588+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:00:35.590+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:00:35.592+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:00:35.594+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:00:35.594+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:00:35.596+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:00:35.597+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:00:35.602+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:07:09.907+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:07:09.910+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:07:09.910+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:07:09.915+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:07:09.916+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:07:09.915+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:07:09.915+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:07:09.921+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:07:09.925+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:07:09.927+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:07:09.929+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:07:09.934+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:07:09.939+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:07:09.940+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:07:09.941+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:07:09.944+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:07:09.939+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:07:09.944+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:07:09.945+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:07:09.946+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:07:09.954+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:07:09.956+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:07:09.957+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:07:09.959+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:13:58.299+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:13:58.300+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:13:58.300+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:13:58.304+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:14:15.088+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:14:15.089+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:14:15.090+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:14:15.093+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:15:07.163+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:15:07.164+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:15:07.165+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:15:07.168+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:15:14.028+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:15:14.030+05:30 level=INFO msg="[booking] Fetching booking history for user: tom249310@gmail.com"
time=2025-11-01T15:15:14.037+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: tom249310@gmail.com"
time=2025-11-01T15:15:14.040+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-01T15:15:14.074+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 3 booking records for tom249310@gmail.com."
time=2025-11-01T15:15:14.075+05:30 level=INFO msg="[booking] Successfully retrieved 3 bookings for tom249310@gmail.com."
time=2025-11-01T15:17:35.496+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:17:35.496+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:17:35.496+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:17:35.497+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:17:52.899+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:17:52.900+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:17:52.901+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:17:52.907+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:17:52.914+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:17:52.914+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:17:52.914+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:17:52.917+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:17:54.640+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:17:54.643+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:17:54.643+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:17:54.646+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:17:54.656+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:17:54.661+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:17:54.661+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:17:54.665+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:20:54.342+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:20:54.343+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:20:54.343+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:20:54.345+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:24:15.084+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:24:15.085+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:24:15.085+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:24:15.086+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:26:23.307+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:26:23.308+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:26:23.309+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:26:23.311+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:26:37.636+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:26:37.637+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:26:37.637+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:26:37.640+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:26:40.560+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:26:40.562+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:26:40.563+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:26:40.565+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:26:40.577+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:26:40.578+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:26:40.578+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:26:40.582+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:26:42.043+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:26:42.043+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:26:42.044+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:26:42.046+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:26:42.066+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: b3454c6f-4267-46dc-873d-8579d5fd7e1a, Role: user"
time=2025-11-01T15:26:42.066+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:26:42.067+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:26:42.069+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:27:51.678+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T15:27:51.678+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:27:51.678+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:27:51.680+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:27:51.691+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T15:27:51.692+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:27:51.692+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:27:51.695+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:28:58.502+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-01T15:28:58.503+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-01T15:28:58.503+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-01T15:28:58.505+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T15:28:58.516+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T15:28:58.517+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-01T15:28:58.519+05:30 level=INFO msg="[auth] Generated OTP code: 355350"
time=2025-11-01T15:28:58.535+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T15:33:58+05:30"
time=2025-11-01T15:28:58.543+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-01T15:28:59.710+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T15:28:59.724+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-01T15:28:59.726+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-01T15:29:08.947+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-01T15:29:08.948+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-01T15:29:08.948+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T15:29:08.952+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T15:29:08.952+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T15:29:08.958+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-01T15:29:08.971+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-01T15:29:08.972+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-11-01T15:29:08.973+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-01T15:29:08.973+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-01T15:29:11.040+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:29:11.040+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:29:11.042+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:29:11.047+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:29:11.053+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:29:11.054+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:29:11.055+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:29:11.057+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:29:16.546+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:29:16.546+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:29:16.546+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:29:16.548+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:29:16.555+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:29:16.556+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:29:16.557+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:29:16.559+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:29:17.733+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:29:17.733+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:29:17.733+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:29:17.735+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:29:17.747+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:29:17.748+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:29:17.748+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:29:17.750+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:29:20.205+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:29:20.205+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:29:20.205+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:29:20.207+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:29:20.213+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:29:20.214+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:29:20.215+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:29:20.217+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:32:07.507+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:32:07.508+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:32:07.508+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:32:07.723+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:32:07.728+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:32:07.728+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:32:07.728+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:32:07.729+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:32:09.160+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:32:09.161+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:32:09.162+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:32:09.167+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:32:09.175+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:32:09.176+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:32:09.176+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:32:09.179+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:34:08.495+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:34:08.496+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:34:08.497+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:34:08.502+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:34:08.511+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:34:08.512+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:34:08.512+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:34:08.514+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:34:13.833+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:34:13.833+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:34:13.834+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:34:13.836+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:34:13.845+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:34:13.845+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:34:13.845+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:34:13.847+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:34:42.945+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:34:42.946+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:34:42.946+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:34:42.949+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:34:42.958+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:34:42.958+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:34:42.958+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:34:42.961+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:34:50.891+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:34:50.891+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:34:50.892+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:34:50.894+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:34:50.901+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:34:50.902+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:34:50.903+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:34:50.906+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:35:11.875+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:35:11.875+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:35:11.875+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:35:11.876+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:35:11.887+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:35:11.888+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:35:11.888+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:35:11.891+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:37:15.269+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:37:15.270+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:37:15.272+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:37:15.274+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:37:15.280+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:37:15.281+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:37:15.281+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:37:15.283+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:37:16.845+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:37:16.846+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:37:16.847+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:37:16.847+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:38:44.205+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:38:44.205+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:38:44.206+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:38:44.212+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:38:44.218+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:38:44.219+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:38:44.220+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:38:44.222+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:46:52.912+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:46:52.913+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:46:52.913+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:46:52.914+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:48:15.974+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:48:15.974+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:48:15.975+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:48:15.978+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:48:15.984+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:48:15.987+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:48:15.988+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:48:15.991+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:48:17.669+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:48:17.672+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:48:17.674+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:48:17.676+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:48:17.680+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:48:17.681+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:48:17.682+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:48:17.683+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:48:39.774+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:48:39.776+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:48:39.776+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:48:39.779+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:48:39.788+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:48:39.790+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:48:39.790+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:48:39.793+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:48:49.605+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:48:49.606+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:48:49.606+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:48:49.608+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:48:49.614+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:48:49.614+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T15:48:49.615+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T15:48:49.616+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T15:49:09.685+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:49:09.689+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-01T15:49:09.707+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-11-01T15:49:09.712+05:30 level=INFO msg="[get-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc successfully locked for update. Current Available: 96"
time=2025-11-01T15:49:09.714+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 14c7770d-c354-4df9-85e1-9c1757a8acbc. New count: 95"
time=2025-11-01T15:49:09.720+05:30 level=INFO msg="[update-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc availability updated to 95 within transaction."
time=2025-11-01T15:49:09.720+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T15:49:09.721+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 8ffd7724-02ca-4ed5-b647-8ec1cb2bb5bb for Name: ewraewr"
time=2025-11-01T15:49:09.727+05:30 level=INFO msg="[create-participant-uc] Participant 8ffd7724-02ca-4ed5-b647-8ec1cb2bb5bb inserted successfully within transaction."
time=2025-11-01T15:49:09.756+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-01T15:49:09.758+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-01T15:49:09.866+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:49:09.866+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:49:09.867+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:49:09.869+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:49:09.875+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:49:09.876+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T15:49:09.876+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T15:49:09.877+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T15:49:12.584+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T15:49:12.587+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-01T15:49:17.050+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:49:17.051+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-01T15:49:17.052+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-01T15:49:17.052+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-01T15:49:17.059+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 2 booking records for kalaiselvan7834@gmail.com."
time=2025-11-01T15:49:17.060+05:30 level=INFO msg="[booking] Successfully retrieved 2 bookings for kalaiselvan7834@gmail.com."
time=2025-11-01T15:51:39.785+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:51:39.786+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:51:39.786+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:51:39.788+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T15:51:39.796+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T15:51:39.798+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T15:51:39.798+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T15:51:39.801+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:09:32.763+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:09:32.763+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:09:32.763+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:09:32.968+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:09:39.795+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:09:39.800+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:09:39.802+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:09:39.811+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:09:39.819+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:09:39.820+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:09:39.821+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:09:39.822+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:09:46.426+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:09:46.484+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-01T16:09:46.637+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-11-01T16:09:46.639+05:30 level=INFO msg="[get-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc successfully locked for update. Current Available: 95"
time=2025-11-01T16:09:46.640+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 14c7770d-c354-4df9-85e1-9c1757a8acbc. New count: 94"
time=2025-11-01T16:09:46.645+05:30 level=INFO msg="[update-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc availability updated to 94 within transaction."
time=2025-11-01T16:09:46.645+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T16:09:46.645+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: d9749336-0f06-4aeb-b1fc-0c27c29903d2 for Name: dfsadf"
time=2025-11-01T16:09:46.650+05:30 level=INFO msg="[create-participant-uc] Participant d9749336-0f06-4aeb-b1fc-0c27c29903d2 inserted successfully within transaction."
time=2025-11-01T16:09:47.038+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-01T16:09:47.038+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-01T16:09:50.241+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:09:50.242+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:09:50.243+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:09:50.247+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:09:50.263+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:09:50.263+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:09:50.264+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:09:50.267+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:09:54.001+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:09:54.003+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-01T16:09:54.003+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-01T16:09:54.006+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-01T16:09:54.056+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 3 booking records for kalaiselvan7834@gmail.com."
time=2025-11-01T16:09:54.057+05:30 level=INFO msg="[booking] Successfully retrieved 3 bookings for kalaiselvan7834@gmail.com."
time=2025-11-01T16:09:57.686+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T16:09:57.688+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-01T16:11:57.081+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:11:57.081+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:11:57.082+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:11:57.089+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:11:57.095+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:11:57.095+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:11:57.096+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:11:57.097+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:14:28.140+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:14:28.140+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:14:28.140+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:14:28.141+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:14:28.144+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:14:28.145+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:14:28.145+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:14:28.146+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:15:47.224+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:15:47.225+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:15:47.226+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:15:47.228+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:15:47.235+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:15:47.236+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:15:47.237+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:15:47.239+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:16:01.201+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:16:01.203+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-01T16:16:01.207+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 6d909559-7054-47dc-8bd1-e8b566a82bbb"
time=2025-11-01T16:16:01.209+05:30 level=INFO msg="[get-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb successfully locked for update. Current Available: 95"
time=2025-11-01T16:16:01.210+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 6d909559-7054-47dc-8bd1-e8b566a82bbb. New count: 93"
time=2025-11-01T16:16:01.214+05:30 level=INFO msg="[update-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb availability updated to 93 within transaction."
time=2025-11-01T16:16:01.214+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T16:16:01.215+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 19934274-14d0-485f-a45c-fc86a3a03dc1 for Name: dsfsfa"
time=2025-11-01T16:16:01.219+05:30 level=INFO msg="[create-participant-uc] Participant 19934274-14d0-485f-a45c-fc86a3a03dc1 inserted successfully within transaction."
time=2025-11-01T16:16:01.220+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T16:16:01.221+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 6540270e-9792-4c65-bc6b-2b78bcf686fc for Name: adfasdfadsf"
time=2025-11-01T16:16:01.222+05:30 level=INFO msg="[create-participant-uc] Participant 6540270e-9792-4c65-bc6b-2b78bcf686fc inserted successfully within transaction."
time=2025-11-01T16:16:01.241+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-01T16:16:01.243+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-01T16:16:04.062+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T16:16:04.062+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-01T16:16:04.328+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:16:04.329+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:16:04.329+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:16:04.331+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:16:04.337+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:16:04.338+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:16:04.338+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:16:04.340+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:16:06.351+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:16:06.353+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-01T16:16:06.353+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-01T16:16:06.353+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-01T16:16:06.410+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 4 booking records for kalaiselvan7834@gmail.com."
time=2025-11-01T16:16:06.411+05:30 level=INFO msg="[booking] Successfully retrieved 4 bookings for kalaiselvan7834@gmail.com."
time=2025-11-01T16:16:16.877+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:16:16.877+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:16:16.877+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:16:16.881+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:16:16.890+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:16:16.890+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:16:16.891+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:16:16.894+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:16:23.917+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:16:23.918+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:16:23.919+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:16:23.920+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:16:23.926+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:16:23.926+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:16:23.926+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:16:23.927+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:19:50.433+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:19:50.434+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:19:50.435+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:19:50.438+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:19:50.443+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:19:50.444+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:19:50.445+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:19:50.447+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:19:52.563+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:19:52.564+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:19:52.565+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:19:52.570+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:19:52.577+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:19:52.577+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:19:52.578+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:19:52.579+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:20:00.586+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:20:00.586+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:20:00.587+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:20:00.589+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:20:00.596+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:20:00.597+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:20:00.597+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:20:00.600+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:20:01.823+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:20:01.824+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:20:01.824+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:20:01.826+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:20:01.836+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:20:01.838+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:20:01.839+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:20:01.841+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:21:34.222+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:21:34.223+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:21:34.224+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:21:34.226+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:21:34.233+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:21:34.233+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:21:34.234+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:21:34.236+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:21:49.225+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:21:49.226+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:21:49.226+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:21:49.228+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:21:49.237+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:21:49.239+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:21:49.240+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:21:49.242+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:22:04.154+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:22:04.155+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:22:04.155+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:22:04.157+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:22:04.164+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:22:04.164+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:22:04.165+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:22:04.169+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:23:07.568+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:23:07.568+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:23:07.569+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:23:07.570+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:23:07.572+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:23:07.572+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:23:07.573+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:23:07.575+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:23:20.001+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:23:20.004+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:23:20.004+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:23:20.005+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:23:20.010+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:23:20.010+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:23:20.010+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:23:20.012+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:23:23.242+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:23:23.242+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:23:23.243+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:23:23.244+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:23:23.252+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:23:23.253+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:23:23.253+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:23:23.255+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:23:57.874+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:23:57.876+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-01T16:23:57.880+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-11-01T16:23:57.883+05:30 level=INFO msg="[get-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc successfully locked for update. Current Available: 94"
time=2025-11-01T16:23:57.885+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 14c7770d-c354-4df9-85e1-9c1757a8acbc. New count: 92"
time=2025-11-01T16:23:57.888+05:30 level=INFO msg="[update-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc availability updated to 92 within transaction."
time=2025-11-01T16:23:57.889+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T16:23:57.890+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670 for Name: ewqwerq"
time=2025-11-01T16:23:57.893+05:30 level=INFO msg="[create-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 inserted successfully within transaction."
time=2025-11-01T16:23:57.894+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T16:23:57.894+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9 for Name: ewerw"
time=2025-11-01T16:23:57.897+05:30 level=INFO msg="[create-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 inserted successfully within transaction."
time=2025-11-01T16:23:57.913+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-01T16:23:57.914+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-01T16:24:00.417+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T16:24:00.427+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-01T16:24:01.021+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:24:01.022+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:24:01.024+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:24:01.027+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:24:01.035+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:24:01.036+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:24:01.037+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:24:01.039+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:24:03.848+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:24:03.849+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-01T16:24:03.849+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-01T16:24:03.851+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-01T16:24:03.891+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 5 booking records for kalaiselvan7834@gmail.com."
time=2025-11-01T16:24:03.893+05:30 level=INFO msg="[booking] Successfully retrieved 5 bookings for kalaiselvan7834@gmail.com."
time=2025-11-01T16:26:58.851+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:26:58.852+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:26:58.853+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:26:58.855+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:26:58.862+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:26:58.862+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:26:58.863+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:26:58.865+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:27:12.513+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:12.513+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:27:12.514+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:27:12.516+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:27:12.522+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:12.522+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:27:12.523+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:27:12.525+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:27:26.989+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:26.990+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:27:26.990+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:27:26.993+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:27:26.999+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:27.000+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:27:27.000+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:27:27.003+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:27:29.826+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:29.826+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:27:29.826+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:27:29.827+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:27:29.834+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:29.835+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:27:29.836+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:27:29.839+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:27:42.697+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:42.697+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:27:42.697+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:27:42.699+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:27:42.705+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:42.706+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:27:42.706+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:27:42.708+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:27:45.160+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:45.162+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-01T16:27:45.165+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-11-01T16:27:45.171+05:30 level=INFO msg="[get-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc successfully locked for update. Current Available: 92"
time=2025-11-01T16:27:45.171+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 14c7770d-c354-4df9-85e1-9c1757a8acbc. New count: 90"
time=2025-11-01T16:27:45.174+05:30 level=INFO msg="[update-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc availability updated to 90 within transaction."
time=2025-11-01T16:27:45.174+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T16:27:45.175+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: ebd35594-a413-49e4-b898-9f06247871c0 for Name: afsfasda"
time=2025-11-01T16:27:45.178+05:30 level=INFO msg="[create-participant-uc] Participant ebd35594-a413-49e4-b898-9f06247871c0 inserted successfully within transaction."
time=2025-11-01T16:27:45.179+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T16:27:45.179+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: a7a4203a-38a7-4ac5-b76a-9ea6e154fb83 for Name: asdfasdadfa"
time=2025-11-01T16:27:45.182+05:30 level=INFO msg="[create-participant-uc] Participant a7a4203a-38a7-4ac5-b76a-9ea6e154fb83 inserted successfully within transaction."
time=2025-11-01T16:27:45.195+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-01T16:27:45.197+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-01T16:27:47.353+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T16:27:47.353+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-01T16:27:48.297+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:48.297+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:27:48.298+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:27:48.301+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:27:48.307+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:48.308+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:27:48.308+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:27:48.311+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:27:52.836+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:52.837+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:27:52.838+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:27:52.841+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:27:52.853+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:27:52.858+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:27:52.858+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:27:52.860+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:28:01.679+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:28:01.680+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:28:01.681+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:28:01.683+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:28:01.689+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:28:01.689+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T16:28:01.690+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T16:28:01.693+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T16:28:03.878+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:28:03.878+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:28:03.879+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:28:03.880+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:28:03.889+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:28:03.889+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T16:28:03.889+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T16:28:03.891+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T16:34:57.382+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:34:57.384+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:34:57.386+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:34:57.388+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:34:57.394+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:34:57.396+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:34:57.397+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:34:57.398+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:35:03.197+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:35:03.198+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:35:03.198+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:35:03.201+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:35:03.207+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:35:03.207+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:35:03.207+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:35:03.210+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:35:09.143+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:35:09.143+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:35:09.143+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:35:09.146+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:35:09.154+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:35:09.155+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:35:09.156+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:35:09.158+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:35:16.029+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:35:16.030+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:35:16.031+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:35:16.033+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:35:16.039+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:35:16.040+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:35:16.040+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:35:16.043+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:35:24.104+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:35:24.105+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:35:24.106+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:35:24.108+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T16:35:24.114+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T16:35:24.115+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T16:35:24.115+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T16:35:24.119+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T17:05:31.266+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-01T17:05:31.267+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-01T17:05:31.267+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:05:31.267+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:05:31.527+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T17:05:31.531+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-01T17:05:31.532+05:30 level=INFO msg="[auth] Generated OTP code: 726658"
time=2025-11-01T17:05:31.535+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T17:10:31+05:30"
time=2025-11-01T17:05:31.539+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-01T17:05:33.070+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T17:05:33.072+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-01T17:05:33.072+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-01T17:05:50.807+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:05:50.808+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:05:50.809+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:05:50.812+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T17:05:50.812+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T17:05:50.815+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-01T17:05:50.825+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-01T17:05:50.826+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-11-01T17:05:50.827+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-01T17:05:50.828+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-01T17:10:47.545+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-01T17:10:47.546+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-01T17:10:47.546+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:10:47.546+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:10:47.547+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T17:10:47.548+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-01T17:10:47.548+05:30 level=INFO msg="[auth] Generated OTP code: 969236"
time=2025-11-01T17:10:47.550+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T17:15:47+05:30"
time=2025-11-01T17:10:47.551+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-01T17:10:48.557+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T17:10:48.557+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-01T17:10:48.557+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-01T17:11:12.454+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:11:12.454+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:11:12.455+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:11:12.458+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T17:11:12.458+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T17:11:12.461+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-01T17:11:12.470+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-01T17:11:12.471+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-11-01T17:11:12.471+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-01T17:11:12.472+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-01T17:11:12.631+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T17:11:12.631+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T17:11:12.631+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T17:11:12.638+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T17:11:12.645+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T17:11:12.645+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T17:11:12.646+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T17:11:12.649+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T17:12:32.410+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-01T17:12:32.411+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-01T17:12:32.411+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:12:32.412+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:12:32.413+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T17:12:32.414+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-01T17:12:32.414+05:30 level=INFO msg="[auth] Generated OTP code: 682468"
time=2025-11-01T17:12:32.415+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T17:17:32+05:30"
time=2025-11-01T17:12:32.417+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-01T17:12:33.941+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T17:12:33.949+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-01T17:12:33.949+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-01T17:12:47.335+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:12:47.335+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:12:47.336+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T17:12:47.339+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T17:12:47.340+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T17:12:47.344+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-01T17:12:47.354+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-01T17:12:47.354+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-11-01T17:12:47.355+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-01T17:12:47.356+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-01T17:14:07.430+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T17:14:07.430+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T17:14:07.430+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T17:14:07.432+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T17:14:16.265+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-01T17:14:16.266+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-01T17:14:16.266+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-01T17:14:16.268+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-01T17:14:16.332+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 6 booking records for kalaiselvan7834@gmail.com."
time=2025-11-01T17:14:16.333+05:30 level=INFO msg="[booking] Successfully retrieved 6 bookings for kalaiselvan7834@gmail.com."
time=2025-11-01T17:17:21.282+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-01T17:17:21.282+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-01T17:17:21.283+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-01T17:17:21.284+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-01T17:17:21.285+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-01T17:17:21.287+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-01T17:17:21.287+05:30 level=INFO msg="[auth] Generated OTP code: 634810"
time=2025-11-01T17:17:21.292+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T17:22:21+05:30"
time=2025-11-01T17:17:21.292+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-01T17:17:22.965+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T17:17:22.976+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-01T17:17:22.976+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-01T17:18:45.990+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-01T17:18:45.991+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-01T17:18:45.991+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-01T17:18:45.995+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-01T17:18:45.997+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T17:18:46.001+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-01T17:18:46.010+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-01T17:18:46.011+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-01T17:18:46.011+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-01T17:18:46.012+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-01T17:18:47.529+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T17:18:47.530+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T17:18:47.530+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T17:18:47.532+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T17:18:47.538+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T17:18:47.538+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T17:18:47.538+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T17:18:47.540+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T17:19:06.385+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T17:19:06.386+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T17:19:06.388+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T17:19:06.391+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T17:19:07.141+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T17:19:07.145+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T17:19:07.145+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T17:19:07.145+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:15:43.111+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T23:15:43.115+05:30 level=INFO msg="[main] program started"
time=2025-11-01T23:15:43.115+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T23:15:43.116+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T23:15:43.116+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T23:15:43.116+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T23:15:45.435+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T23:15:45.435+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T23:15:45.435+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T23:15:45.436+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T23:15:45.436+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T23:15:45.742+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T23:15:45.743+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T23:15:46.039+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T23:15:46.049+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T23:15:46.267+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T23:15:46.267+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T23:15:46.556+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T23:15:46.562+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T23:15:46.768+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T23:15:46.768+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T23:15:46.989+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T23:15:46.989+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T23:15:47.184+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T23:15:47.187+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T23:15:47.187+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T23:15:47.188+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T23:15:47.188+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T23:15:47.188+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T23:15:47.189+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T23:15:47.189+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T23:15:47.189+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T23:15:47.190+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T23:15:47.191+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T23:16:34.557+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-01T23:16:34.559+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-01T23:16:34.560+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:16:34.563+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:16:34.999+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T23:16:34.999+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-01T23:16:34.999+05:30 level=INFO msg="[auth] Generated OTP code: 297975"
time=2025-11-01T23:16:35.612+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T23:21:35+05:30"
time=2025-11-01T23:16:35.613+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-01T23:16:37.662+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T23:16:37.662+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-01T23:16:37.664+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-01T23:16:49.471+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:16:49.473+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:16:49.475+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:16:49.948+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T23:16:49.951+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T23:16:50.359+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-01T23:16:50.746+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-01T23:16:50.757+05:30 level=INFO msg="[auth] Successfully generated JWT for user 86d4f501-15b6-4a20-abf1-66d881e17994 (Role: user)."
time=2025-11-01T23:16:50.758+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-01T23:16:50.758+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-01T23:16:50.941+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:16:50.942+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:16:50.942+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:16:51.176+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:16:51.222+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:16:51.226+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:16:51.227+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:16:51.417+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:16:54.054+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:16:54.068+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T23:16:54.077+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T23:16:54.473+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T23:16:54.562+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:16:54.574+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T23:16:54.575+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T23:16:54.868+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T23:17:28.544+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:17:28.703+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T23:17:28.707+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T23:17:28.962+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T23:17:28.966+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:17:28.966+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T23:17:28.968+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T23:17:29.272+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T23:17:29.975+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:17:29.997+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:17:30.004+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:17:30.297+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:17:30.302+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:17:30.304+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:17:30.307+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:17:30.705+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:17:57.640+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-01T23:17:57.641+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-01T23:17:57.642+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:17:57.642+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:17:58.067+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T23:17:58.078+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-01T23:17:58.078+05:30 level=INFO msg="[auth] Generated OTP code: 646284"
time=2025-11-01T23:17:58.554+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T23:22:58+05:30"
time=2025-11-01T23:17:58.559+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-01T23:17:59.684+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T23:17:59.685+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-01T23:17:59.686+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-01T23:18:32.898+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:18:33.042+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:18:33.070+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-01T23:18:33.759+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-01T23:18:33.891+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T23:18:34.505+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-01T23:18:35.102+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-01T23:18:35.107+05:30 level=INFO msg="[auth] Successfully generated JWT for user 86d4f501-15b6-4a20-abf1-66d881e17994 (Role: user)."
time=2025-11-01T23:18:35.123+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-01T23:18:35.126+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-01T23:18:37.784+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:18:37.788+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:18:37.790+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:18:38.069+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:18:38.114+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:18:38.123+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:18:38.123+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:18:38.364+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:19:51.973+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T23:19:51.976+05:30 level=INFO msg="[main] program started"
time=2025-11-01T23:19:51.976+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T23:19:51.976+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T23:19:51.976+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T23:19:51.976+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T23:19:52.120+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T23:19:52.121+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T23:19:52.121+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T23:19:52.121+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T23:19:52.121+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T23:19:52.127+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T23:19:52.127+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T23:19:52.128+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T23:19:52.128+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T23:19:52.129+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T23:19:52.129+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T23:19:52.129+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T23:19:52.129+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T23:19:52.130+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T23:19:52.130+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T23:19:52.130+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T23:19:52.130+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T23:19:52.130+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T23:19:52.132+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T23:19:52.133+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T23:19:52.138+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T23:19:52.138+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T23:19:52.138+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T23:19:52.138+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T23:19:52.138+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T23:19:52.138+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T23:19:52.139+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T23:19:52.139+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T23:20:01.711+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:01.718+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:20:01.720+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:20:01.820+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:20:05.147+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:05.191+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T23:20:05.221+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T23:20:05.317+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T23:20:05.371+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:05.483+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-01T23:20:05.489+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-01T23:20:05.493+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-01T23:20:14.819+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:14.919+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T23:20:14.938+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T23:20:15.128+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T23:20:15.154+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:15.263+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-01T23:20:15.293+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-01T23:20:15.363+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-01T23:20:27.570+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:27.571+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-01T23:20:27.572+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 6d909559-7054-47dc-8bd1-e8b566a82bbb"
time=2025-11-01T23:20:27.596+05:30 level=INFO msg="[get-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb successfully locked for update. Current Available: 93"
time=2025-11-01T23:20:27.686+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 6d909559-7054-47dc-8bd1-e8b566a82bbb. New count: 92"
time=2025-11-01T23:20:27.692+05:30 level=INFO msg="[update-seat-uc] Seat 6d909559-7054-47dc-8bd1-e8b566a82bbb availability updated to 92 within transaction."
time=2025-11-01T23:20:27.698+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-01T23:20:27.708+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 214225ee-1839-4389-8444-54ded85761a1 for Name: dadsfasf"
time=2025-11-01T23:20:27.720+05:30 level=INFO msg="[create-participant-uc] Participant 214225ee-1839-4389-8444-54ded85761a1 inserted successfully within transaction."
time=2025-11-01T23:20:27.890+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-01T23:20:27.901+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-01T23:20:31.033+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T23:20:31.034+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-01T23:20:31.282+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:31.286+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:20:31.293+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:20:31.294+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:20:31.301+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:31.302+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:20:31.302+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:20:31.303+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:20:33.008+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:20:33.011+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-01T23:20:33.014+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-01T23:20:33.017+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-01T23:20:33.276+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 7 booking records for kalaiselvan7834@gmail.com."
time=2025-11-01T23:20:33.305+05:30 level=INFO msg="[booking] Successfully retrieved 7 bookings for kalaiselvan7834@gmail.com."
time=2025-11-01T23:20:46.300+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:20:46.319+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:20:46.326+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:20:46.427+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:20:54.648+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-01T23:20:54.649+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-01T23:20:54.649+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-01T23:20:54.650+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-01T23:20:54.681+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-01T23:20:54.692+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-01T23:20:54.708+05:30 level=INFO msg="[auth] Generated OTP code: 563387"
time=2025-11-01T23:20:54.729+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-01T23:25:54+05:30"
time=2025-11-01T23:20:54.737+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-01T23:20:55.403+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-01T23:20:55.404+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-01T23:20:55.405+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-01T23:21:13.521+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-01T23:21:13.528+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-01T23:21:13.535+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-01T23:21:13.641+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-01T23:21:13.668+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-01T23:21:13.676+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-01T23:21:13.794+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-01T23:21:13.813+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-01T23:21:13.814+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-01T23:21:13.821+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-01T23:21:14.409+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:21:14.486+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:21:14.536+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:21:14.608+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:21:14.814+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:21:14.822+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:21:14.826+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:21:14.838+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:21:30.341+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:21:30.390+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T23:21:30.402+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:21:30.412+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T23:21:30.520+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T23:21:30.792+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 8 pending bookings."
time=2025-11-01T23:21:35.225+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:21:35.236+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T23:21:35.239+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:21:35.242+05:30 level=INFO msg="[booking-controller] Verification requested: f85d1b8c-ce22-414e-b653-3838e038f402 ‚Üí approve"
time=2025-11-01T23:21:35.243+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-01T23:21:35.351+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking f85d1b8c-ce22-414e-b653-3838e038f402 marked APPROVED."
time=2025-11-01T23:21:35.357+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-01T23:21:35.360+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-01T23:21:35.370+05:30 level=INFO msg="[get-booking-uc] Booking f85d1b8c-ce22-414e-b653-3838e038f402 retrieved successfully. Status: APPROVED."
time=2025-11-01T23:21:35.370+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T23:21:35.371+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T23:21:35.372+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T23:21:35.373+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T23:21:35.374+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T23:21:35.375+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T23:21:35.378+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 214225ee-1839-4389-8444-54ded85761a1"
time=2025-11-01T23:21:35.378+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 214225ee-1839-4389-8444-54ded85761a1"
time=2025-11-01T23:21:35.381+05:30 level=INFO msg="[get-participant-uc] Participant 214225ee-1839-4389-8444-54ded85761a1 retrieved successfully. Name: dadsfasf"
time=2025-11-01T23:21:36.524+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T23:21:36.525+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-01T23:21:37.995+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:21:38.091+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T23:21:38.098+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:21:38.107+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T23:21:38.214+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T23:21:38.553+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 7 pending bookings."
time=2025-11-01T23:23:24.745+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T23:23:24.748+05:30 level=INFO msg="[main] program started"
time=2025-11-01T23:23:24.749+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T23:23:24.749+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T23:23:24.749+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T23:23:24.749+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T23:23:24.917+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T23:23:24.917+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T23:23:24.917+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T23:23:24.917+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T23:23:24.918+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T23:23:24.918+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T23:23:24.919+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T23:23:24.922+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T23:23:24.922+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T23:23:24.928+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T23:23:24.930+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T23:23:24.935+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T23:23:24.935+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T23:23:24.935+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T23:23:24.936+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T23:23:24.936+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T23:23:24.936+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T23:23:24.936+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T23:23:24.936+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T23:23:24.937+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T23:23:24.937+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T23:23:24.937+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T23:23:24.937+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T23:23:24.937+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T23:23:24.937+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T23:23:24.937+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T23:23:24.938+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T23:23:24.938+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T23:23:38.558+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-01T23:23:38.830+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-01T23:23:38.842+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-01T23:23:38.946+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-01T23:23:42.727+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:23:42.727+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T23:23:42.736+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:23:42.741+05:30 level=INFO msg="[booking-controller] Verification requested: 8635fd54-6e44-46f5-aa67-6e0ba719aadc ‚Üí approve"
time=2025-11-01T23:23:42.743+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-01T23:23:42.857+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 8635fd54-6e44-46f5-aa67-6e0ba719aadc marked APPROVED."
time=2025-11-01T23:23:42.858+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-01T23:23:42.859+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-01T23:23:42.860+05:30 level=INFO msg="[get-booking-uc] Booking 8635fd54-6e44-46f5-aa67-6e0ba719aadc retrieved successfully. Status: APPROVED."
time=2025-11-01T23:23:42.862+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T23:23:42.862+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T23:23:42.867+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-01T23:23:42.868+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-01T23:23:42.872+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-01T23:23:43.022+05:30 level=INFO msg="[get-payment-details-uc] Payment 8a87b53e-2782-41bb-a86c-77a4a9954575 retrieved successfully. Type: Bank Transfer."
time=2025-11-01T23:23:43.028+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: ebd35594-a413-49e4-b898-9f06247871c0"
time=2025-11-01T23:23:43.041+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: ebd35594-a413-49e4-b898-9f06247871c0"
time=2025-11-01T23:23:43.173+05:30 level=INFO msg="[get-participant-uc] Participant ebd35594-a413-49e4-b898-9f06247871c0 retrieved successfully. Name: afsfasda"
time=2025-11-01T23:23:43.180+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: a7a4203a-38a7-4ac5-b76a-9ea6e154fb83"
time=2025-11-01T23:23:43.277+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: a7a4203a-38a7-4ac5-b76a-9ea6e154fb83"
time=2025-11-01T23:23:43.325+05:30 level=INFO msg="[get-participant-uc] Participant a7a4203a-38a7-4ac5-b76a-9ea6e154fb83 retrieved successfully. Name: asdfasdadfa"
time=2025-11-01T23:23:51.841+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T23:23:51.857+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-01T23:23:52.008+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:23:52.008+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T23:23:52.009+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:23:52.009+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T23:23:52.011+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T23:23:52.154+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 6 pending bookings."
time=2025-11-01T23:52:34.808+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T23:52:34.812+05:30 level=INFO msg="[main] program started"
time=2025-11-01T23:52:34.812+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T23:52:34.813+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T23:52:34.813+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T23:52:34.814+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T23:52:35.052+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T23:52:35.052+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T23:52:35.053+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T23:52:35.053+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T23:52:35.053+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T23:52:35.053+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T23:52:35.056+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T23:52:35.056+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T23:52:35.057+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T23:52:35.058+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T23:52:35.058+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T23:52:35.059+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T23:52:35.059+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T23:52:35.060+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T23:52:35.061+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T23:52:35.061+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T23:52:35.062+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T23:52:35.063+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T23:52:35.064+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T23:52:35.064+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T23:52:35.065+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T23:52:35.066+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T23:52:35.066+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T23:52:35.067+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T23:52:35.067+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T23:52:35.068+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T23:52:35.069+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T23:52:35.069+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T23:52:45.945+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:52:45.946+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T23:52:45.947+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:52:45.947+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T23:52:45.948+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T23:52:46.107+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 6 pending bookings."
time=2025-11-01T23:52:53.789+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:52:53.790+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T23:52:53.790+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:52:53.790+05:30 level=INFO msg="[booking-controller] Verification requested: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 ‚Üí approve"
time=2025-11-01T23:52:53.791+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-01T23:52:53.800+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 marked APPROVED."
time=2025-11-01T23:52:53.801+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-01T23:52:53.802+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-01T23:52:53.805+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-01T23:52:53.805+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T23:52:53.806+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-01T23:52:53.811+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-01T23:52:53.813+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-01T23:52:53.816+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-01T23:52:53.824+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-01T23:52:53.824+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-01T23:52:53.825+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-01T23:52:53.829+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-01T23:52:57.582+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T23:52:57.583+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-01T23:52:57.601+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:52:57.602+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T23:52:57.603+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:52:57.603+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T23:52:57.604+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T23:52:57.771+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 5 pending bookings."
time=2025-11-01T23:57:21.556+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-01T23:57:21.564+05:30 level=INFO msg="[main] program started"
time=2025-11-01T23:57:21.565+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-01T23:57:21.566+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-01T23:57:21.567+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-01T23:57:21.567+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-01T23:57:21.815+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-01T23:57:21.815+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-01T23:57:21.816+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-01T23:57:21.816+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-01T23:57:21.816+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-01T23:57:21.817+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-01T23:57:21.818+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-01T23:57:21.819+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-01T23:57:21.819+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-01T23:57:21.820+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-01T23:57:21.820+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-01T23:57:21.821+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-01T23:57:21.821+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-01T23:57:21.822+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-01T23:57:21.823+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-01T23:57:21.824+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-01T23:57:21.824+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-01T23:57:21.825+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-01T23:57:21.825+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-01T23:57:21.825+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-01T23:57:21.826+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-01T23:57:21.826+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-01T23:57:21.826+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-01T23:57:21.827+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-01T23:57:21.827+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-01T23:57:21.827+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-01T23:57:21.827+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-01T23:57:21.828+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-01T23:57:53.031+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:57:53.032+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-01T23:57:53.032+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:57:53.034+05:30 level=INFO msg="[booking-controller] Verification requested: 375b4ba6-2630-4170-8f7f-0fafc841f2dd ‚Üí approve"
time=2025-11-01T23:57:53.035+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-01T23:57:53.053+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 375b4ba6-2630-4170-8f7f-0fafc841f2dd marked APPROVED."
time=2025-11-01T23:57:53.055+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-01T23:57:53.057+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-01T23:57:53.062+05:30 level=INFO msg="[get-booking-uc] Booking 375b4ba6-2630-4170-8f7f-0fafc841f2dd retrieved successfully. Status: APPROVED."
time=2025-11-01T23:57:53.064+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-01T23:57:53.065+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-01T23:57:53.075+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-01T23:57:53.076+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 19934274-14d0-485f-a45c-fc86a3a03dc1"
time=2025-11-01T23:57:53.077+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 19934274-14d0-485f-a45c-fc86a3a03dc1"
time=2025-11-01T23:57:53.086+05:30 level=INFO msg="[get-participant-uc] Participant 19934274-14d0-485f-a45c-fc86a3a03dc1 retrieved successfully. Name: dsfsfa"
time=2025-11-01T23:57:53.086+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 6540270e-9792-4c65-bc6b-2b78bcf686fc"
time=2025-11-01T23:57:53.086+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 6540270e-9792-4c65-bc6b-2b78bcf686fc"
time=2025-11-01T23:57:53.090+05:30 level=INFO msg="[get-participant-uc] Participant 6540270e-9792-4c65-bc6b-2b78bcf686fc retrieved successfully. Name: adfasdfadsf"
time=2025-11-01T23:57:56.529+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-01T23:57:56.529+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-01T23:57:57.353+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-01T23:57:57.354+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-01T23:57:57.355+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-01T23:57:57.356+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-01T23:57:57.356+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-01T23:57:57.517+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 4 pending bookings."
time=2025-11-02T00:02:38.907+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-02T00:02:38.910+05:30 level=INFO msg="[main] program started"
time=2025-11-02T00:02:38.910+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-02T00:02:38.911+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-02T00:02:38.911+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-02T00:02:38.911+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-02T00:02:39.192+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-02T00:02:39.192+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-02T00:02:39.193+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-02T00:02:39.193+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-02T00:02:39.193+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-02T00:02:39.195+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-02T00:02:39.195+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-02T00:02:39.195+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-02T00:02:39.196+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-02T00:02:39.196+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-02T00:02:39.196+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-02T00:02:39.196+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-02T00:02:39.196+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-02T00:02:39.197+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-02T00:02:39.198+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-02T00:02:39.198+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-02T00:02:39.199+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-02T00:02:39.200+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-02T00:02:39.200+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-02T00:02:39.201+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-02T00:02:39.201+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-02T00:02:39.201+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-02T00:02:39.202+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-02T00:02:39.203+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-02T00:02:39.204+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-02T00:02:39.205+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-02T00:02:39.205+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-02T00:02:39.206+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-02T00:03:04.683+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:03:04.684+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:03:04.684+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:03:04.684+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:03:04.685+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:03:04.872+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 4 pending bookings."
time=2025-11-02T00:03:13.410+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:03:13.411+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T00:03:13.412+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:03:13.414+05:30 level=INFO msg="[booking-controller] Verification requested: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 ‚Üí approve"
time=2025-11-02T00:03:13.415+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-02T00:03:13.429+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 marked APPROVED."
time=2025-11-02T00:03:13.431+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-02T00:03:13.431+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-02T00:03:13.435+05:30 level=INFO msg="[get-booking-uc] Booking f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 retrieved successfully. Status: APPROVED."
time=2025-11-02T00:03:13.437+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-02T00:03:13.438+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-02T00:03:13.447+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-02T00:03:17.149+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T00:03:17.150+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-02T00:03:17.274+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:03:17.275+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:03:17.276+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:03:17.277+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:03:17.278+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:03:17.383+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:03:21.652+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-02T00:03:21.652+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:03:21.652+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:03:21.656+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:07:02.405+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 86d4f501-15b6-4a20-abf1-66d881e17994, Role: user"
time=2025-11-02T00:07:02.405+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:07:02.405+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:07:02.407+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:07:07.205+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-02T00:07:07.205+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-02T00:07:07.206+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-02T00:07:07.207+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-02T00:07:07.218+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-02T00:07:07.218+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-02T00:07:07.218+05:30 level=INFO msg="[auth] Generated OTP code: 600361"
time=2025-11-02T00:07:07.251+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T00:12:07+05:30"
time=2025-11-02T00:07:07.252+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-02T00:07:08.712+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T00:07:08.713+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-02T00:07:08.714+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-02T00:07:19.392+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-02T00:07:19.394+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-02T00:07:19.395+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-02T00:07:19.399+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-02T00:07:19.399+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T00:07:19.405+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-02T00:07:19.409+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-02T00:07:19.411+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-11-02T00:07:19.411+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-02T00:07:19.415+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-02T00:07:19.691+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T00:07:19.691+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:07:19.692+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:07:19.694+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:07:19.699+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T00:07:19.700+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:07:19.701+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:07:19.703+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:07:33.269+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-02T00:07:33.269+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-02T00:07:33.270+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-02T00:07:33.270+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:07:33.270+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T00:07:33.270+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-02T00:07:33.271+05:30 level=INFO msg="[auth] Generated OTP code: 946369"
time=2025-11-02T00:07:33.273+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T00:12:33+05:30"
time=2025-11-02T00:07:33.274+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-02T00:07:33.680+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T00:07:33.691+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-02T00:07:33.691+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-02T00:07:54.830+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-02T00:07:54.832+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-02T00:07:54.834+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:07:54.837+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T00:07:54.838+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T00:07:54.840+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-02T00:07:54.845+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-02T00:07:54.847+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-02T00:07:54.849+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-02T00:07:54.849+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-02T00:07:55.219+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:07:55.219+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:07:55.219+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:07:55.220+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:07:55.223+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:07:55.224+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:07:55.224+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:07:55.226+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:25:06.306+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-02T00:25:06.308+05:30 level=INFO msg="[main] program started"
time=2025-11-02T00:25:06.308+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-02T00:25:06.308+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-02T00:25:06.308+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-02T00:25:06.308+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-02T00:25:08.819+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-02T00:25:08.819+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-02T00:25:08.819+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-02T00:25:08.819+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-02T00:25:08.819+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-02T00:25:09.119+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-02T00:25:09.134+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-02T00:25:09.427+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-02T00:25:09.429+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-02T00:25:09.637+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-02T00:25:09.639+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-02T00:25:09.865+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-02T00:25:09.873+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-02T00:25:10.075+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-02T00:25:10.079+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-02T00:25:10.264+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-02T00:25:10.274+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-02T00:25:10.470+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-02T00:25:10.470+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-02T00:25:10.472+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-02T00:27:29.404+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-02T00:27:29.414+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-02T00:27:29.467+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-02T00:27:29.515+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:27:30.058+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: user."
time=2025-11-02T00:27:30.060+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-02T00:27:30.060+05:30 level=INFO msg="[auth] Generated OTP code: 511818"
time=2025-11-02T00:27:30.569+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T00:32:30+05:30"
time=2025-11-02T00:27:30.571+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-02T00:27:32.871+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T00:27:32.872+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-02T00:27:32.875+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-02T00:27:50.115+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-02T00:27:50.118+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-02T00:27:50.120+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:27:50.537+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: user."
time=2025-11-02T00:27:50.537+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T00:27:50.948+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-02T00:27:51.366+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-02T00:27:51.370+05:30 level=INFO msg="[auth] Successfully generated JWT for user 99dc1c36-b83e-42f9-8856-563146cfa8b9 (Role: user)."
time=2025-11-02T00:27:51.371+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: user."
time=2025-11-02T00:27:51.371+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: user"
time=2025-11-02T00:27:56.677+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 99dc1c36-b83e-42f9-8856-563146cfa8b9, Role: user"
time=2025-11-02T00:27:56.791+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:27:56.801+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:27:57.093+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:27:57.112+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 99dc1c36-b83e-42f9-8856-563146cfa8b9, Role: user"
time=2025-11-02T00:27:57.125+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:27:57.134+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:27:57.485+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:28:44.717+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-02T00:28:44.719+05:30 level=INFO msg="[main] program started"
time=2025-11-02T00:28:44.719+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-02T00:28:44.719+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-02T00:28:44.720+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-02T00:28:44.720+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-02T00:28:44.900+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-02T00:28:44.901+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-02T00:28:44.902+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-02T00:28:44.902+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-02T00:28:44.902+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-02T00:28:44.904+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-02T00:28:44.905+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-02T00:28:44.906+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-02T00:28:44.908+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-02T00:28:44.909+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-02T00:28:44.910+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-02T00:28:44.911+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-02T00:28:44.911+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-02T00:28:44.911+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-02T00:28:44.912+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-02T00:28:44.912+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-02T00:28:44.913+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-02T00:28:44.916+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-02T00:28:44.918+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-02T00:28:44.919+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-02T00:28:44.921+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-02T00:28:44.959+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-02T00:28:44.959+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-02T00:28:44.959+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-02T00:28:44.960+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-02T00:28:44.960+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-02T00:28:44.960+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-02T00:28:44.960+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-02T00:28:59.732+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-02T00:28:59.735+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-02T00:28:59.745+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-02T00:28:59.768+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:28:59.784+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T00:28:59.795+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-02T00:28:59.802+05:30 level=INFO msg="[auth] Generated OTP code: 530001"
time=2025-11-02T00:28:59.815+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T00:33:59+05:30"
time=2025-11-02T00:28:59.833+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-02T00:29:01.710+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T00:29:01.713+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-02T00:29:01.715+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-02T00:29:15.258+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-02T00:29:15.271+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-02T00:29:15.295+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:29:15.355+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T00:29:15.369+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T00:29:15.389+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-02T00:29:15.542+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-02T00:29:15.552+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-02T00:29:15.559+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-02T00:29:15.562+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-02T00:29:26.908+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:29:26.920+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:29:26.928+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:29:26.931+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:29:26.941+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:29:27.971+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:29:28.296+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:29:28.306+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:29:28.344+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:29:28.417+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:29:28.458+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:29:28.677+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:29:29.457+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:29:29.458+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-02T00:29:29.458+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:29:29.458+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-02T00:29:29.461+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-02T00:29:29.730+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 10 total bookings for admin."
time=2025-11-02T00:29:31.225+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:29:31.235+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:29:31.254+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:29:31.304+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:29:31.336+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:29:31.524+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:29:36.746+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:29:36.754+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:29:36.755+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:29:36.861+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:29:37.021+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:29:37.025+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:29:37.025+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:29:37.131+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:29:43.858+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:29:43.858+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:29:43.858+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:29:43.858+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:29:43.858+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:29:44.071+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:29:44.193+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:29:44.194+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:29:44.195+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:29:44.199+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:29:44.203+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:29:44.350+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:30:48.398+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:30:48.424+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:30:48.432+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:30:48.443+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:30:48.568+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:30:48.574+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:30:48.580+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:30:48.693+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:30:59.723+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-02T00:30:59.724+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-02T00:30:59.724+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-02T00:30:59.725+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:30:59.727+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T00:30:59.727+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-02T00:30:59.727+05:30 level=INFO msg="[auth] Generated OTP code: 581928"
time=2025-11-02T00:30:59.748+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T00:35:59+05:30"
time=2025-11-02T00:30:59.769+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-02T00:31:01.521+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T00:31:01.523+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-02T00:31:01.524+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-02T00:31:15.495+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-02T00:31:15.501+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-02T00:31:15.507+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:31:15.512+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T00:31:15.521+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T00:31:15.523+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-02T00:31:15.635+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-02T00:31:15.658+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-02T00:31:15.660+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-02T00:31:15.662+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-02T00:31:16.024+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:31:16.026+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:31:16.033+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:31:16.036+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:31:16.058+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:31:16.062+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:31:16.074+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:31:16.162+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:31:41.176+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:31:41.177+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:31:41.187+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:31:41.365+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:31:47.684+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:31:47.687+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:31:47.821+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:31:47.837+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:31:47.840+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:31:47.939+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:31:47.974+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:31:47.978+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:31:47.978+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:31:47.978+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:31:47.978+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:31:48.131+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:31:50.403+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:31:50.410+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-02T00:31:50.412+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:31:50.417+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-02T00:31:50.418+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-02T00:31:50.679+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 10 total bookings for admin."
time=2025-11-02T00:31:52.008+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:31:52.009+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:31:52.011+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:31:52.022+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:31:52.159+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:31:52.162+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:31:52.165+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:31:52.324+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:32:30.483+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:32:30.486+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:32:30.490+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:32:30.492+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:32:30.500+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:32:30.713+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:32:30.772+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:32:30.772+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:32:30.773+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:32:30.773+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:32:30.773+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:32:30.870+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:32:33.279+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:32:33.284+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:32:33.285+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:32:33.286+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:32:33.333+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:32:33.348+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:32:33.365+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:32:33.412+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:35:56.252+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-02T00:35:56.252+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-02T00:35:56.253+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-02T00:35:56.255+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:35:56.259+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T00:35:56.260+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-02T00:35:56.263+05:30 level=INFO msg="[auth] Generated OTP code: 442233"
time=2025-11-02T00:35:56.265+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T00:40:56+05:30"
time=2025-11-02T00:35:56.267+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-02T00:35:58.378+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T00:35:58.381+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-02T00:35:58.382+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-02T00:36:29.046+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-02T00:36:29.056+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-02T00:36:29.060+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T00:36:29.063+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T00:36:29.065+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T00:36:29.066+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-02T00:36:29.081+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-02T00:36:29.082+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-02T00:36:29.083+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-02T00:36:29.084+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-02T00:36:29.220+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:36:29.221+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:36:29.222+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:36:29.223+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:36:29.227+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:36:29.233+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:36:29.235+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:36:29.237+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T00:36:35.139+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:36:35.168+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:36:35.177+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:36:35.182+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:36:35.190+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:36:35.275+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:36:35.298+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:36:35.298+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:36:35.298+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:36:35.298+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:36:35.299+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:36:35.363+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T00:36:38.153+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:36:38.154+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T00:36:38.154+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:36:38.154+05:30 level=INFO msg="[booking-controller] Verification requested: 9ae730e6-de13-4832-99ef-2ac6661f5955 ‚Üí approve"
time=2025-11-02T00:36:38.155+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-02T00:36:38.170+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9ae730e6-de13-4832-99ef-2ac6661f5955 marked APPROVED."
time=2025-11-02T00:36:38.171+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-02T00:36:38.171+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-02T00:36:38.217+05:30 level=INFO msg="[get-booking-uc] Booking 9ae730e6-de13-4832-99ef-2ac6661f5955 retrieved successfully. Status: APPROVED."
time=2025-11-02T00:36:38.232+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-02T00:36:38.240+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-02T00:36:38.272+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-02T00:36:41.267+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T00:36:41.271+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-02T00:36:42.286+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:36:42.289+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T00:36:42.290+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T00:36:42.291+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T00:36:42.292+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T00:36:42.296+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-02T00:36:56.645+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T00:36:56.645+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T00:36:56.645+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T00:36:56.646+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T10:54:59.896+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T10:54:59.896+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T10:54:59.896+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T10:55:00.126+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T10:55:00.129+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T10:55:00.129+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T10:55:00.129+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T10:55:00.130+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T10:55:05.489+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T10:55:05.490+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T10:55:05.490+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T10:55:05.490+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T10:55:05.492+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T10:55:05.502+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-02T10:55:05.522+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T10:55:05.523+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T10:55:05.523+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T10:55:05.525+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T10:55:05.525+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T10:55:05.527+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-02T10:57:20.773+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-02T10:57:20.774+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-02T10:57:20.774+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-02T10:57:20.775+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-02T10:57:20.787+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-02T10:57:20.788+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-02T10:57:20.788+05:30 level=INFO msg="[auth] Generated OTP code: 525730"
time=2025-11-02T10:57:20.802+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T11:02:20+05:30"
time=2025-11-02T10:57:20.802+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-02T10:57:22.776+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T10:57:22.777+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-02T10:57:22.777+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-02T10:57:32.954+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-02T10:57:32.955+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-02T10:57:32.956+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-02T10:57:32.958+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-02T10:57:32.960+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T10:57:32.966+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-02T10:57:32.979+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-02T10:57:32.980+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-11-02T10:57:32.980+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-02T10:57:32.981+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-02T10:57:33.559+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T10:57:33.559+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T10:57:33.560+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T10:57:33.562+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T10:57:33.567+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T10:57:33.568+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T10:57:33.568+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T10:57:33.570+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T10:58:32.887+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T10:58:32.888+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T10:58:32.888+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T10:58:32.888+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T10:58:32.891+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T10:58:32.891+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T10:58:32.892+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T10:58:32.892+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T10:58:40.916+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T10:58:40.916+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T10:58:40.916+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T10:58:40.917+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:01:17.045+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:01:17.046+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T11:01:17.047+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T11:01:17.048+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T11:01:17.048+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T11:01:17.055+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-02T11:01:17.090+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:01:17.091+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T11:01:17.091+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T11:01:17.092+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T11:01:17.092+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T11:01:17.096+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-02T11:06:30.872+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:06:30.873+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:06:30.874+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:06:30.877+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:06:30.887+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:06:30.888+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:06:30.889+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:06:30.892+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:06:47.092+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:06:47.093+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:06:47.094+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:06:47.096+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:06:47.101+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:06:47.102+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:06:47.103+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:06:47.106+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:09:00.257+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:09:00.260+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T11:09:00.262+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T11:09:00.268+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-02T11:09:00.274+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:09:00.274+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T11:09:00.275+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T11:09:00.279+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-02T11:11:56.533+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:11:56.533+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:11:56.534+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:11:56.536+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:11:56.543+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:11:56.544+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:11:56.545+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:11:56.547+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:11:57.617+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:11:57.617+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:11:57.617+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:11:57.618+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:11:57.620+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:11:57.620+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:11:57.621+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:11:57.622+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:12:09.608+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:12:09.608+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:12:09.608+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:12:09.609+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:12:09.611+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:12:09.611+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:12:09.611+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:12:09.611+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:24:30.163+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:24:30.164+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:24:30.165+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:24:30.167+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:24:30.174+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:24:30.175+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:24:30.175+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:24:30.178+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:24:33.170+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:24:33.170+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:24:33.170+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:24:33.170+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:24:45.191+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-02T11:24:45.191+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-02T11:24:45.192+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-02T11:24:45.193+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T11:24:45.195+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T11:24:45.195+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-02T11:24:45.196+05:30 level=INFO msg="[auth] Generated OTP code: 858393"
time=2025-11-02T11:24:45.203+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T11:29:45+05:30"
time=2025-11-02T11:24:45.205+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-02T11:24:47.202+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T11:24:47.204+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-02T11:24:47.204+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-02T11:25:11.049+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-02T11:25:11.050+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-02T11:25:11.051+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T11:25:11.359+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T11:25:11.359+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T11:25:11.363+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-02T11:25:11.367+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-02T11:25:11.367+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-02T11:25:11.368+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-02T11:25:11.368+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-02T11:25:11.441+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:25:11.441+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:25:11.442+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:25:11.447+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:25:11.452+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:25:11.453+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:25:11.453+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:25:11.454+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:25:23.299+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T11:25:23.301+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:25:23.302+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:25:23.304+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:51:52.127+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-02T11:51:52.128+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-02T11:51:52.128+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-02T11:51:52.128+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-02T11:51:52.134+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-02T11:51:52.136+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-02T11:51:52.136+05:30 level=INFO msg="[auth] Generated OTP code: 846282"
time=2025-11-02T11:51:52.144+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T11:56:52+05:30"
time=2025-11-02T11:51:52.144+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-02T11:51:53.707+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T11:51:53.709+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-02T11:51:53.711+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-02T11:56:27.437+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-02T11:56:27.437+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-02T11:56:27.438+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-02T11:56:27.791+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-02T11:56:27.793+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T11:56:27.796+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-02T11:56:27.799+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-02T11:56:27.801+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-11-02T11:56:27.802+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-02T11:56:27.802+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-02T11:56:28.134+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:56:28.135+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:56:28.135+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:56:28.139+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:56:28.145+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:56:28.145+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T11:56:28.146+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T11:56:28.148+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T11:56:52.355+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:56:52.363+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-02T11:56:52.364+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-02T11:56:52.364+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-02T11:56:52.439+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 7 booking records for kalaiselvan7834@gmail.com."
time=2025-11-02T11:56:52.440+05:30 level=INFO msg="[booking] Successfully retrieved 7 bookings for kalaiselvan7834@gmail.com."
time=2025-11-02T11:56:55.570+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:56:55.571+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-02T11:56:55.572+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-02T11:56:55.578+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-02T11:56:55.580+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-02T11:57:00.100+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:57:00.100+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-02T11:57:00.101+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-02T11:57:00.103+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-02T11:57:00.104+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-02T11:57:02.251+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:57:02.252+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-02T11:57:02.253+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-02T11:57:02.260+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-02T11:57:02.261+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-02T11:57:04.876+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T11:57:04.877+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T11:57:04.878+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T11:57:04.886+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T11:57:04.886+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T12:06:31.657+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-02T12:06:31.658+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-02T12:06:31.658+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-02T12:06:31.659+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T12:06:31.662+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T12:06:31.663+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-02T12:06:31.664+05:30 level=INFO msg="[auth] Generated OTP code: 667779"
time=2025-11-02T12:06:31.666+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T12:11:31+05:30"
time=2025-11-02T12:06:31.671+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-02T12:06:33.891+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T12:06:33.894+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-02T12:06:33.894+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-02T12:07:01.855+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-02T12:07:01.855+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-02T12:07:01.856+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T12:07:01.861+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T12:07:01.862+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T12:07:01.865+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-02T12:07:01.869+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-02T12:07:01.870+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-02T12:07:01.871+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-02T12:07:01.871+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-02T12:07:02.568+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:07:02.569+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T12:07:02.569+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T12:07:02.569+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T12:07:02.571+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:07:02.571+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T12:07:02.571+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T12:07:02.571+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T12:07:10.448+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:07:10.448+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T12:07:10.448+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T12:07:10.449+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T12:09:30.953+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:09:30.953+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T12:09:30.954+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T12:09:30.960+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:09:30.961+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T12:09:30.961+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T12:09:36.823+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:09:36.824+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T12:09:36.824+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T12:09:36.828+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T12:09:36.837+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:09:36.840+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T12:09:36.840+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T12:09:36.844+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T12:15:08.702+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:15:08.703+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T12:15:08.704+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T12:15:08.712+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T12:15:08.713+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T12:15:08.714+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:44:19.496+05:30 level=INFO msg="[auth] Login initiated for email: kalaiselvan7834@gmail.com. Password provided: false"
time=2025-11-02T13:44:19.496+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: kalaiselvan7834@gmail.com"
time=2025-11-02T13:44:19.497+05:30 level=INFO msg="[auth] Starting OTP process for email: kalaiselvan7834@gmail.com"
time=2025-11-02T13:44:19.497+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-02T13:44:19.768+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-02T13:44:19.770+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Role: user. Reissuing OTP."
time=2025-11-02T13:44:19.770+05:30 level=INFO msg="[auth] Generated OTP code: 443637"
time=2025-11-02T13:44:19.771+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T13:49:19+05:30"
time=2025-11-02T13:44:19.776+05:30 level=INFO msg="[auth] Sending OTP email to kalaiselvan7834@gmail.com"
time=2025-11-02T13:44:21.703+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T13:44:21.703+05:30 level=INFO msg="[auth] OTP dispatch triggered for kalaiselvan7834@gmail.com."
time=2025-11-02T13:44:21.704+05:30 level=INFO msg="[auth] OTP generated and request initiated for kalaiselvan7834@gmail.com. Awaiting verification."
time=2025-11-02T13:44:37.020+05:30 level=INFO msg="[auth] Attempting OTP verification for email: kalaiselvan7834@gmail.com"
time=2025-11-02T13:44:37.022+05:30 level=INFO msg="[auth] Verification attempt for email: kalaiselvan7834@gmail.com"
time=2025-11-02T13:44:37.022+05:30 level=INFO msg="[user] Attempting to retrieve user by email: kalaiselvan7834@gmail.com"
time=2025-11-02T13:44:37.025+05:30 level=INFO msg="[user] User kalaiselvan7834@gmail.com found successfully. Role: user."
time=2025-11-02T13:44:37.026+05:30 level=INFO msg="[auth] User kalaiselvan7834@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T13:44:37.031+05:30 level=INFO msg="[auth] OTP code matched for kalaiselvan7834@gmail.com. Checking expiry..."
time=2025-11-02T13:44:37.041+05:30 level=INFO msg="[auth] OTP cleaned up successfully for kalaiselvan7834@gmail.com."
time=2025-11-02T13:44:37.041+05:30 level=INFO msg="[auth] Successfully generated JWT for user 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c (Role: user)."
time=2025-11-02T13:44:37.042+05:30 level=INFO msg="[auth] Verification successful for kalaiselvan7834@gmail.com. JWT issued. Role: user."
time=2025-11-02T13:44:37.043+05:30 level=INFO msg="[auth] OTP verified successfully for kalaiselvan7834@gmail.com. JWT issued. Role: user"
time=2025-11-02T13:44:37.355+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:44:37.355+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:44:37.356+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:44:37.362+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:44:37.364+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:44:37.365+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:44:37.366+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:44:37.367+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:44:40.200+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:44:40.200+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T13:44:40.200+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T13:44:40.205+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-02T13:44:40.212+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:44:40.212+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T13:44:40.212+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T13:44:40.215+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-02T13:45:06.167+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:45:06.167+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T13:45:06.167+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T13:45:06.169+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-02T13:45:06.175+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:45:06.176+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T13:45:06.177+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T13:45:06.180+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-02T13:45:17.112+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:45:17.112+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-02T13:45:17.116+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 69a0b445-c3d5-4e23-bad1-e8f92f064bcf"
time=2025-11-02T13:45:17.122+05:30 level=INFO msg="[get-seat-uc] Seat 69a0b445-c3d5-4e23-bad1-e8f92f064bcf successfully locked for update. Current Available: 97"
time=2025-11-02T13:45:17.124+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 69a0b445-c3d5-4e23-bad1-e8f92f064bcf. New count: 93"
time=2025-11-02T13:45:17.132+05:30 level=INFO msg="[update-seat-uc] Seat 69a0b445-c3d5-4e23-bad1-e8f92f064bcf availability updated to 93 within transaction."
time=2025-11-02T13:45:17.139+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-02T13:45:17.145+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 645b232f-423d-40c2-8016-38a9a49fa47c for Name: sdfas"
time=2025-11-02T13:45:17.159+05:30 level=INFO msg="[create-participant-uc] Participant 645b232f-423d-40c2-8016-38a9a49fa47c inserted successfully within transaction."
time=2025-11-02T13:45:17.164+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-02T13:45:17.167+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 1652a4d2-8588-40a7-b2d1-5756f813d5e6 for Name: adfasfasdf"
time=2025-11-02T13:45:17.177+05:30 level=INFO msg="[create-participant-uc] Participant 1652a4d2-8588-40a7-b2d1-5756f813d5e6 inserted successfully within transaction."
time=2025-11-02T13:45:17.181+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-02T13:45:17.185+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 1aeabe6d-f0c2-4309-9e06-8a8b06abf191 for Name: asdfasdfa"
time=2025-11-02T13:45:17.195+05:30 level=INFO msg="[create-participant-uc] Participant 1aeabe6d-f0c2-4309-9e06-8a8b06abf191 inserted successfully within transaction."
time=2025-11-02T13:45:17.200+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-02T13:45:17.203+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 635dc283-f2f5-4a5f-acb1-500958dfa74f for Name: asdfasadfas"
time=2025-11-02T13:45:17.211+05:30 level=INFO msg="[create-participant-uc] Participant 635dc283-f2f5-4a5f-acb1-500958dfa74f inserted successfully within transaction."
time=2025-11-02T13:45:17.241+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-02T13:45:17.249+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-02T13:45:18.020+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T13:45:18.022+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-02T13:45:20.378+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:45:20.379+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:45:20.379+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:45:20.381+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:45:20.386+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:45:20.386+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:45:20.387+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:45:20.392+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:45:21.847+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T13:45:21.848+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-02T13:45:21.849+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-02T13:45:21.849+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-02T13:45:21.929+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 8 booking records for kalaiselvan7834@gmail.com."
time=2025-11-02T13:45:21.929+05:30 level=INFO msg="[booking] Successfully retrieved 8 bookings for kalaiselvan7834@gmail.com."
time=2025-11-02T13:45:36.759+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:45:36.759+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:45:36.760+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:45:36.761+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:46:19.337+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:19.337+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T13:46:19.338+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:19.339+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T13:46:19.340+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T13:46:19.350+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T13:46:19.358+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:19.358+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T13:46:19.359+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:19.360+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T13:46:19.360+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T13:46:19.366+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T13:46:21.480+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:21.481+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-02T13:46:21.481+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:21.482+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-02T13:46:21.484+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-02T13:46:21.621+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 11 total bookings for admin."
time=2025-11-02T13:46:22.901+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:22.901+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T13:46:22.902+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:22.903+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T13:46:22.904+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T13:46:22.909+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 3 pending bookings."
time=2025-11-02T13:46:24.986+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:24.986+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-02T13:46:24.986+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-02T13:46:24.989+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-02T13:46:24.989+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-02T13:46:33.184+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:33.185+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T13:46:33.185+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:33.186+05:30 level=INFO msg="[booking-controller] Verification requested: e88a71b1-1a41-4212-8d0f-5eba5bee6843 ‚Üí reject"
time=2025-11-02T13:46:33.186+05:30 level=INFO msg="[reject-booking-uc] Starting rejection for booking: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-02T13:46:33.200+05:30 level=INFO msg="[reject-booking-uc] Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 successfully marked as REJECTED."
time=2025-11-02T13:46:33.200+05:30 level=INFO msg="[auth] Sending booking verification email (Status: REJECTED) to kalaiselvan7834@gmail.com"
time=2025-11-02T13:46:34.305+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T13:46:34.312+05:30 level=INFO msg="[reject-booking-uc] Rejection email sent to kalaiselvan7834@gmail.com."
time=2025-11-02T13:46:35.980+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:35.981+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T13:46:35.988+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:35.991+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T13:46:35.991+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T13:46:36.001+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 2 pending bookings."
time=2025-11-02T13:46:44.054+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:44.055+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T13:46:44.056+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:44.056+05:30 level=INFO msg="[booking-controller] Verification requested: 9a0083d4-ffe3-4214-8053-4be8a2f6438d ‚Üí reject"
time=2025-11-02T13:46:44.057+05:30 level=INFO msg="[reject-booking-uc] Starting rejection for booking: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-02T13:46:44.072+05:30 level=INFO msg="[reject-booking-uc] Booking 9a0083d4-ffe3-4214-8053-4be8a2f6438d successfully marked as REJECTED."
time=2025-11-02T13:46:44.073+05:30 level=INFO msg="[auth] Sending booking verification email (Status: REJECTED) to kalaiselvan7834@gmail.com"
time=2025-11-02T13:46:45.160+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T13:46:45.161+05:30 level=INFO msg="[reject-booking-uc] Rejection email sent to kalaiselvan7834@gmail.com."
time=2025-11-02T13:46:46.298+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:46.298+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T13:46:46.298+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:46.299+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T13:46:46.299+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T13:46:46.300+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 1 pending bookings."
time=2025-11-02T13:46:54.246+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:54.248+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T13:46:54.248+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:54.248+05:30 level=INFO msg="[booking-controller] Verification requested: 0e41b93c-092e-449a-a96c-430e0e9a2377 ‚Üí reject"
time=2025-11-02T13:46:54.249+05:30 level=INFO msg="[reject-booking-uc] Starting rejection for booking: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-02T13:46:54.265+05:30 level=INFO msg="[reject-booking-uc] Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 successfully marked as REJECTED."
time=2025-11-02T13:46:54.266+05:30 level=INFO msg="[auth] Sending booking verification email (Status: REJECTED) to tom249310@gmail.com"
time=2025-11-02T13:46:54.680+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-02T13:46:54.682+05:30 level=INFO msg="[reject-booking-uc] Rejection email sent to tom249310@gmail.com."
time=2025-11-02T13:46:55.622+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:55.623+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T13:46:55.623+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:55.624+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T13:46:55.624+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T13:46:55.627+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T13:46:57.132+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:46:57.133+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-02T13:46:57.134+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:46:57.134+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-02T13:46:57.136+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-02T13:46:57.242+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 11 total bookings for admin."
time=2025-11-02T13:51:44.647+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:51:44.648+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:51:44.648+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:51:44.649+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:51:44.653+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:51:44.654+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:51:44.655+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:51:44.659+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:51:54.875+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:51:54.882+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T13:51:54.876+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:51:54.883+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T13:51:54.884+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T13:51:54.883+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T13:51:54.887+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-02T13:51:54.895+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:51:54.895+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T13:51:54.896+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T13:51:54.897+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 3 seat records."
time=2025-11-02T13:51:55.143+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-02T13:51:55.149+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:51:55.149+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T13:51:55.149+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T13:51:55.151+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 3 payment records."
time=2025-11-02T13:52:26.801+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:52:26.802+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/seats. Required role: Admin. User role: admin"
time=2025-11-02T13:52:26.803+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:52:26.804+05:30 level=INFO msg="[create-seat-uc] Starting seat creation process."
time=2025-11-02T13:52:26.805+05:30 level=INFO msg="[create-seat-uc] Generated new SeatID: 0a9480da-6021-48a5-8d88-85a995a37110 for type: new seat"
time=2025-11-02T13:52:26.806+05:30 level=INFO msg="[create-seat-uc] Executing INSERT for SeatID: 0a9480da-6021-48a5-8d88-85a995a37110, Price: 1500.00 INR"
time=2025-11-02T13:52:26.822+05:30 level=INFO msg="[create-seat-uc] Seat 0a9480da-6021-48a5-8d88-85a995a37110 created successfully. Available count: 12"
time=2025-11-02T13:52:35.690+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:52:35.691+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/payments. Required role: Admin. User role: admin"
time=2025-11-02T13:52:35.691+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:52:35.692+05:30 level=INFO msg="[create-paymentdetails-uc] Starting new payment record creation."
time=2025-11-02T13:52:35.693+05:30 level=INFO msg="[create-paymentdetails-uc] Generated PaymentID: 211f1803-b652-478a-8f2d-788e879512df for type: Bank Transfer"
time=2025-11-02T13:52:35.694+05:30 level=INFO msg="[create-paymentdetails-uc] Executing INSERT for PaymentID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T13:52:35.707+05:30 level=INFO msg="[create-paymentdetails-uc] Payment record 211f1803-b652-478a-8f2d-788e879512df created successfully."
time=2025-11-02T13:52:37.906+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:52:37.908+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts. Required role: Admin. User role: admin"
time=2025-11-02T13:52:37.908+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:52:37.910+05:30 level=INFO msg="[create-concert-uc] Starting concert creation process."
time=2025-11-02T13:52:37.911+05:30 level=INFO msg="[create-concert-uc] Generated new ConcertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db for title: new concert"
time=2025-11-02T13:52:37.916+05:30 level=INFO msg="[create-concert-uc] Marshaling 4 SeatIDs for storage."
time=2025-11-02T13:52:37.919+05:30 level=INFO msg="[create-concert-uc] Marshaling 4 PaymentIDs for storage."
time=2025-11-02T13:52:37.920+05:30 level=INFO msg="[create-concert-uc] Inserting new concert record into database for ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T13:52:37.932+05:30 level=INFO msg="[create-concert-uc] Concert 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db created successfully. Venue: new venue"
time=2025-11-02T13:53:20.695+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:53:20.696+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:53:20.696+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:53:20.699+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 2 concerts."
time=2025-11-02T13:53:20.705+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:53:20.706+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:53:20.707+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:53:20.709+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 2 concerts."
time=2025-11-02T13:54:20.914+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:54:20.916+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts/:concertID. Required role: Admin. User role: admin"
time=2025-11-02T13:54:20.917+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:54:20.917+05:30 level=INFO msg="[delete-concert-uc] Deletion initiated for concertID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-02T13:54:20.920+05:30 level=INFO msg="[delete-concert-uc] Executing DELETE statement for ID: 459f268a-7396-4eb4-bcd3-bc4ecc3914c0"
time=2025-11-02T13:54:20.931+05:30 level=INFO msg="[delete-concert-uc] Concert 459f268a-7396-4eb4-bcd3-bc4ecc3914c0 deleted successfully. Rows affected: 1"
time=2025-11-02T13:54:20.952+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:54:20.953+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:54:20.954+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:54:20.956+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:54:26.149+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:54:26.150+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T13:54:26.150+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:54:26.150+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T13:54:26.150+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T13:54:26.158+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T13:54:26.163+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:54:26.164+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T13:54:26.165+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:54:26.166+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T13:54:26.166+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T13:54:26.168+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T13:54:27.116+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:54:27.116+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-02T13:54:27.116+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:54:27.116+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-02T13:54:27.116+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-02T13:54:27.278+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 11 total bookings for admin."
time=2025-11-02T13:54:36.384+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:54:36.384+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:54:36.385+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:54:36.386+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:54:36.394+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:54:36.395+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:54:36.395+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:54:36.397+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T13:59:30.017+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:30.018+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T13:59:30.018+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T13:59:30.023+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T13:59:30.032+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:30.033+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T13:59:30.033+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T13:59:30.035+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:30.036+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T13:59:30.037+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T13:59:30.036+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T13:59:30.039+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T13:59:30.044+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:30.045+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T13:59:30.045+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T13:59:30.046+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T13:59:39.085+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:39.087+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts. Required role: Admin. User role: admin"
time=2025-11-02T13:59:39.088+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:59:39.089+05:30 level=INFO msg="[create-concert-uc] Starting concert creation process."
time=2025-11-02T13:59:39.091+05:30 level=INFO msg="[create-concert-uc] Generated new ConcertID: fb46d358-5469-40ca-8e21-f01df38f8f21 for title: ne one"
time=2025-11-02T13:59:39.092+05:30 level=INFO msg="[create-concert-uc] Marshaling 1 SeatIDs for storage."
time=2025-11-02T13:59:39.093+05:30 level=INFO msg="[create-concert-uc] Marshaling 1 PaymentIDs for storage."
time=2025-11-02T13:59:39.094+05:30 level=INFO msg="[create-concert-uc] Inserting new concert record into database for ID: fb46d358-5469-40ca-8e21-f01df38f8f21"
time=2025-11-02T13:59:39.098+05:30 level=INFO msg="[create-concert-uc] Concert fb46d358-5469-40ca-8e21-f01df38f8f21 created successfully. Venue: afdasdf"
time=2025-11-02T13:59:43.710+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:43.710+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:59:43.711+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:59:43.712+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 2 concerts."
time=2025-11-02T13:59:43.719+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:43.721+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:59:43.722+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:59:43.725+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 2 concerts."
time=2025-11-02T13:59:50.902+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:50.903+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts/:concertID. Required role: Admin. User role: admin"
time=2025-11-02T13:59:50.903+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T13:59:50.905+05:30 level=INFO msg="[delete-concert-uc] Deletion initiated for concertID: fb46d358-5469-40ca-8e21-f01df38f8f21"
time=2025-11-02T13:59:50.906+05:30 level=INFO msg="[delete-concert-uc] Executing DELETE statement for ID: fb46d358-5469-40ca-8e21-f01df38f8f21"
time=2025-11-02T13:59:50.910+05:30 level=INFO msg="[delete-concert-uc] Concert fb46d358-5469-40ca-8e21-f01df38f8f21 deleted successfully. Rows affected: 1"
time=2025-11-02T13:59:50.921+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T13:59:50.922+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T13:59:50.923+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T13:59:50.925+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:04:47.467+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:47.467+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T14:04:47.468+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T14:04:47.472+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T14:04:47.475+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:47.475+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T14:04:47.475+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T14:04:47.477+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T14:04:48.283+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:48.284+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T14:04:48.284+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T14:04:48.283+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:48.285+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T14:04:48.285+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T14:04:48.285+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T14:04:48.287+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T14:04:50.859+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:50.859+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:04:50.859+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:04:50.861+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:04:50.865+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:50.866+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:04:50.867+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:04:50.870+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:04:52.920+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:52.921+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T14:04:52.921+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T14:04:52.924+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T14:04:52.930+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:52.931+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T14:04:52.932+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T14:04:52.932+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:52.934+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T14:04:52.934+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T14:04:52.934+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T14:04:52.937+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T14:04:52.943+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:04:52.944+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T14:04:52.945+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T14:04:52.947+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T14:05:01.041+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:05:01.041+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts. Required role: Admin. User role: admin"
time=2025-11-02T14:05:01.041+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T14:05:01.042+05:30 level=INFO msg="[create-concert-uc] Starting concert creation process."
time=2025-11-02T14:05:01.042+05:30 level=INFO msg="[create-concert-uc] Generated new ConcertID: 28bfb588-5a56-4c28-ba41-85b22e6db862 for title: new"
time=2025-11-02T14:05:01.042+05:30 level=INFO msg="[create-concert-uc] Marshaling 1 SeatIDs for storage."
time=2025-11-02T14:05:01.043+05:30 level=INFO msg="[create-concert-uc] Marshaling 1 PaymentIDs for storage."
time=2025-11-02T14:05:01.044+05:30 level=INFO msg="[create-concert-uc] Inserting new concert record into database for ID: 28bfb588-5a56-4c28-ba41-85b22e6db862"
time=2025-11-02T14:05:01.045+05:30 level=INFO msg="[create-concert-uc] Concert 28bfb588-5a56-4c28-ba41-85b22e6db862 created successfully. Venue: new"
time=2025-11-02T14:05:02.147+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:05:02.147+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:05:02.147+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:05:02.147+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 2 concerts."
time=2025-11-02T14:05:02.149+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:05:02.149+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:05:02.150+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:05:02.151+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 2 concerts."
time=2025-11-02T14:05:14.028+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:05:14.029+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/concerts/:concertID. Required role: Admin. User role: admin"
time=2025-11-02T14:05:14.029+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T14:05:14.030+05:30 level=INFO msg="[delete-concert-uc] Deletion initiated for concertID: 28bfb588-5a56-4c28-ba41-85b22e6db862"
time=2025-11-02T14:05:14.031+05:30 level=INFO msg="[delete-concert-uc] Executing DELETE statement for ID: 28bfb588-5a56-4c28-ba41-85b22e6db862"
time=2025-11-02T14:05:14.033+05:30 level=INFO msg="[delete-concert-uc] Concert 28bfb588-5a56-4c28-ba41-85b22e6db862 deleted successfully. Rows affected: 1"
time=2025-11-02T14:05:14.051+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:05:14.051+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:05:14.051+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:05:14.052+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:16:10.381+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:10.381+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:16:10.382+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:16:10.383+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:16:13.990+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:13.991+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T14:16:13.991+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T14:16:13.995+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:13.995+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T14:16:13.995+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T14:16:16.642+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:16.642+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:16:16.643+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:16:16.646+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:16:16.652+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:16.653+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:16:16.653+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:16:16.656+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:16:18.497+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:18.498+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T14:16:18.498+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T14:16:18.503+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:18.504+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T14:16:18.505+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T14:16:21.140+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:21.140+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:16:21.141+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:16:21.143+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:16:21.149+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:21.150+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:16:21.150+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:16:21.152+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:16:34.685+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:16:34.685+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T14:16:34.685+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T14:16:34.686+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T14:18:37.549+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:18:37.550+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T14:18:37.551+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T14:18:37.555+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T14:18:37.563+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:18:37.563+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T14:18:37.564+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T14:18:37.568+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T14:18:54.541+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:18:54.541+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/*. Required role: Admin. User role: admin"
time=2025-11-02T14:18:54.542+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T14:22:51.489+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T14:22:51.489+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T14:22:51.490+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T14:22:51.713+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T18:53:30.982+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T18:53:30.983+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-02T18:53:30.984+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-02T18:53:30.986+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-02T18:53:31.449+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 8 booking records for kalaiselvan7834@gmail.com."
time=2025-11-02T18:53:31.449+05:30 level=INFO msg="[booking] Successfully retrieved 8 bookings for kalaiselvan7834@gmail.com."
time=2025-11-02T18:53:36.037+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T18:53:36.039+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T18:53:36.039+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T18:53:36.049+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T18:53:36.055+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T18:53:36.055+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T18:53:36.056+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T18:53:36.058+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T18:53:49.507+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T18:53:49.508+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T18:53:49.508+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T18:53:49.510+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T18:53:49.515+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T18:53:49.515+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T18:53:49.516+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T18:53:49.519+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T18:53:51.156+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T18:53:51.157+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T18:53:51.157+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T18:53:51.163+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T18:53:51.170+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T18:53:51.171+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T18:53:51.172+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T18:53:51.174+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T18:58:10.867+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T18:58:10.872+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T18:58:10.874+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T18:58:10.877+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T18:58:10.887+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T18:58:10.888+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T18:58:10.890+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T18:58:10.891+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T18:58:15.687+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T18:58:15.688+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T18:58:15.689+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T18:58:15.689+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T18:58:15.690+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T18:58:15.692+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T18:58:15.699+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T18:58:15.701+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T18:58:15.702+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T18:58:15.702+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T18:58:15.703+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T18:58:15.704+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T18:58:17.383+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T18:58:17.384+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-02T18:58:17.384+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T18:58:17.384+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-02T18:58:17.384+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-02T18:58:17.499+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 11 total bookings for admin."
time=2025-11-02T18:58:22.511+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T18:58:22.512+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T18:58:22.513+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T18:58:22.513+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T18:58:22.513+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T18:58:22.516+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T18:58:23.003+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T18:58:23.004+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-02T18:58:23.005+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T18:58:23.005+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-02T18:58:23.006+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-02T18:58:23.105+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 11 total bookings for admin."
time=2025-11-02T19:02:56.652+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:02:56.653+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T19:02:56.653+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:02:56.655+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T19:02:56.655+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T19:02:56.658+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T19:02:57.477+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:02:57.483+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings. Required role: Admin. User role: admin"
time=2025-11-02T19:02:57.485+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:02:57.485+05:30 level=INFO msg="[booking-controller] Fetching all bookings (Admin)"
time=2025-11-02T19:02:57.486+05:30 level=INFO msg="[get-all-bookings-admin-uc] Fetching all bookings for admin view."
time=2025-11-02T19:02:57.628+05:30 level=INFO msg="[get-all-bookings-admin-uc] Retrieved 11 total bookings for admin."
time=2025-11-02T19:03:04.565+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:03:04.566+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T19:03:04.566+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:03:04.567+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T19:03:04.567+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T19:03:04.568+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T19:07:58.642+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:07:58.643+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/pending. Required role: Admin. User role: admin"
time=2025-11-02T19:07:58.643+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:07:58.643+05:30 level=INFO msg="[booking-controller] Fetching all pending bookings (Admin)"
time=2025-11-02T19:07:58.643+05:30 level=INFO msg="[get-pending-bookings-uc] Fetching all pending bookings for admin review."
time=2025-11-02T19:07:58.645+05:30 level=INFO msg="[get-pending-bookings-uc] Retrieved 0 pending bookings."
time=2025-11-02T19:14:28.342+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-02T19:14:28.346+05:30 level=INFO msg="[main] program started"
time=2025-11-02T19:14:28.346+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-02T19:14:28.346+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-02T19:14:28.346+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-02T19:14:28.347+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-02T19:14:28.564+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-02T19:14:28.564+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-02T19:14:28.564+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-02T19:14:28.564+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-02T19:14:28.565+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-02T19:14:28.565+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-02T19:14:28.571+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-02T19:14:28.572+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-02T19:14:28.572+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-02T19:14:28.573+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-02T19:14:28.573+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-02T19:14:28.573+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-02T19:14:28.573+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-02T19:14:28.574+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-02T19:14:28.574+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-02T19:14:28.575+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-02T19:14:28.575+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-02T19:14:28.575+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-02T19:14:28.575+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-02T19:14:28.575+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-02T19:14:28.575+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-02T19:14:28.576+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-02T19:14:28.576+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-02T19:14:28.576+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-02T19:14:28.576+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-02T19:14:28.576+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-02T19:14:28.577+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-02T19:14:28.577+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-02T19:26:33.870+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-02T19:26:33.874+05:30 level=INFO msg="[main] program started"
time=2025-11-02T19:26:33.874+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-02T19:26:33.875+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-02T19:26:33.875+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-02T19:26:33.875+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-02T19:26:34.074+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-02T19:26:34.075+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-02T19:26:34.075+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-02T19:26:34.075+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-02T19:26:34.076+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-02T19:26:34.076+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-02T19:26:34.077+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-02T19:26:34.078+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-02T19:26:34.078+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-02T19:26:34.078+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-02T19:26:34.078+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-02T19:26:34.078+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-02T19:26:34.079+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-02T19:26:34.079+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-02T19:26:34.079+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-02T19:26:34.079+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-02T19:26:34.079+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-02T19:26:34.080+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-02T19:26:34.080+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-02T19:26:34.080+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-02T19:26:34.080+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-02T19:26:34.080+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-02T19:26:34.081+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-02T19:26:34.081+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-02T19:26:34.082+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-02T19:26:34.082+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-02T19:26:34.082+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-02T19:26:34.082+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-02T19:30:51.608+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:30:51.608+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:30:51.609+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:30:51.623+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:30:51.625+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:30:51.626+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:30:51.627+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:30:51.629+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:30:54.181+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:30:54.181+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:30:54.182+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:30:54.183+05:30 level=ERROR msg="[booking] Failed to get concertID from context in GetAllBookingsByConcertIDController."
time=2025-11-02T19:30:54.194+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:30:54.195+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:30:54.195+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:30:54.195+05:30 level=ERROR msg="[booking] Failed to get concertID from context in GetAllBookingsByConcertIDController."
time=2025-11-02T19:30:56.469+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:30:56.470+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:30:56.470+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:30:56.471+05:30 level=ERROR msg="[booking] Failed to get concertID from context in GetAllBookingsByConcertIDController."
time=2025-11-02T19:30:57.372+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:30:57.373+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:30:57.374+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:30:57.374+05:30 level=ERROR msg="[booking] Failed to get concertID from context in GetAllBookingsByConcertIDController."
time=2025-11-02T19:33:06.995+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-02T19:33:06.999+05:30 level=INFO msg="[main] program started"
time=2025-11-02T19:33:07.000+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-02T19:33:07.000+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-02T19:33:07.000+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-02T19:33:07.000+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-02T19:33:07.214+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-02T19:33:07.214+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-02T19:33:07.215+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-02T19:33:07.215+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-02T19:33:07.215+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-02T19:33:07.216+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-02T19:33:07.216+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-02T19:33:07.218+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-02T19:33:07.219+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-02T19:33:07.220+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-02T19:33:07.220+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-02T19:33:07.222+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-02T19:33:07.222+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-02T19:33:07.224+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-02T19:33:07.224+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-02T19:33:07.225+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-02T19:33:07.226+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-02T19:33:07.227+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-02T19:33:07.228+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-02T19:33:07.228+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-02T19:33:07.229+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-02T19:33:07.230+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-02T19:33:07.231+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-02T19:33:07.232+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-02T19:33:07.233+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-02T19:33:07.233+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-02T19:33:07.234+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-02T19:33:07.235+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-02T19:33:14.505+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:33:14.505+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:33:14.505+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:33:14.505+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:33:14.506+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:33:14.506+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:33:14.510+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:33:14.510+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:33:16.486+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:33:16.487+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:33:16.488+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:33:16.490+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:33:16.491+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:33:16.492+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:33:16.495+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:33:16.496+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:33:17.533+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:33:17.536+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:33:17.536+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:33:17.538+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:33:17.538+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:33:17.539+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:33:17.539+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:33:17.540+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:33:18.589+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:33:18.590+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:33:18.590+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:33:18.597+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:33:18.605+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:33:18.606+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:33:18.607+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:33:18.610+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:33:35.787+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:35.788+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:33:35.789+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:33:35.790+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:33:35.796+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:35.796+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:33:35.797+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:33:35.798+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:33:37.342+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:37.342+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T19:33:37.343+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T19:33:37.352+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T19:33:37.376+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:37.377+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T19:33:37.377+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T19:33:37.380+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T19:33:39.238+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:39.239+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:33:39.239+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:33:39.241+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:33:39.245+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:39.246+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:33:39.246+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:33:39.248+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:33:40.028+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:40.029+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-02T19:33:40.029+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-02T19:33:40.030+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:33:40.137+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 8 booking records for kalaiselvan7834@gmail.com."
time=2025-11-02T19:33:40.137+05:30 level=INFO msg="[booking] Successfully retrieved 8 bookings for kalaiselvan7834@gmail.com."
time=2025-11-02T19:33:48.043+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:48.044+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T19:33:48.045+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T19:33:48.046+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T19:33:48.056+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:48.057+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T19:33:48.057+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T19:33:48.060+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T19:33:57.578+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:57.579+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T19:33:57.579+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T19:33:57.586+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T19:33:57.590+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:33:57.591+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T19:33:57.591+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T19:33:57.593+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T19:34:08.812+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:34:08.814+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-02T19:34:08.819+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 14c7770d-c354-4df9-85e1-9c1757a8acbc"
time=2025-11-02T19:34:08.829+05:30 level=INFO msg="[get-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc successfully locked for update. Current Available: 90"
time=2025-11-02T19:34:08.832+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 14c7770d-c354-4df9-85e1-9c1757a8acbc. New count: 89"
time=2025-11-02T19:34:08.845+05:30 level=INFO msg="[update-seat-uc] Seat 14c7770d-c354-4df9-85e1-9c1757a8acbc availability updated to 89 within transaction."
time=2025-11-02T19:34:08.849+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-02T19:34:08.852+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 3b5ae1f4-63ed-475a-9a31-a057a4f0f4aa for Name: kalai"
time=2025-11-02T19:34:08.860+05:30 level=INFO msg="[create-participant-uc] Participant 3b5ae1f4-63ed-475a-9a31-a057a4f0f4aa inserted successfully within transaction."
time=2025-11-02T19:34:08.884+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:08.888+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-02T19:34:11.201+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T19:34:11.202+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:12.054+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:34:12.055+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:34:12.056+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:34:12.059+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:34:12.064+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:34:12.064+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:34:12.065+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:34:12.067+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:34:16.801+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:34:16.802+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:34:16.802+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:34:16.803+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:16.803+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:16.803+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:34:16.806+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:16.807+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:16.813+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:34:16.815+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:34:16.816+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:34:16.817+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:16.818+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:16.818+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:34:16.821+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:16.822+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:19.517+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:34:19.519+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:34:19.519+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:34:19.519+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:19.521+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:19.522+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:34:19.526+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:19.526+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:20.928+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:34:20.928+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:34:20.929+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:34:20.930+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:20.931+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:20.934+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:34:20.938+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:20.939+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:21.811+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:34:21.812+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:21.812+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:21.816+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:21.818+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:24.928+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:34:24.928+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T19:34:24.928+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:34:24.929+05:30 level=INFO msg="[booking-controller] Verification requested: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b ‚Üí approve"
time=2025-11-02T19:34:24.929+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:24.936+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b marked APPROVED."
time=2025-11-02T19:34:24.937+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:24.940+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:34:24.943+05:30 level=INFO msg="[get-booking-uc] Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b retrieved successfully. Status: APPROVED."
time=2025-11-02T19:34:24.945+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T19:34:24.946+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T19:34:24.951+05:30 level=INFO msg="[get-payment-details-uc] Payment 211f1803-b652-478a-8f2d-788e879512df retrieved successfully. Type: Bank Transfer."
time=2025-11-02T19:34:28.175+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-02T19:34:28.177+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-02T19:34:29.885+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:34:29.885+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:34:29.886+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:34:29.886+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:29.886+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:29.888+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:34:29.891+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:29.893+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:30.475+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:34:30.476+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:34:30.476+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:34:30.477+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:30.477+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:34:30.478+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:34:30.479+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:34:30.480+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:35:26.417+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:35:26.417+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-02T19:35:26.418+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-02T19:35:26.419+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:35:26.480+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 9 booking records for kalaiselvan7834@gmail.com."
time=2025-11-02T19:35:26.481+05:30 level=INFO msg="[booking] Successfully retrieved 9 bookings for kalaiselvan7834@gmail.com."
time=2025-11-02T19:35:33.050+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T19:35:33.052+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-02T19:35:33.053+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-02T19:35:33.053+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:35:33.094+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 9 booking records for kalaiselvan7834@gmail.com."
time=2025-11-02T19:35:33.095+05:30 level=INFO msg="[booking] Successfully retrieved 9 bookings for kalaiselvan7834@gmail.com."
time=2025-11-02T19:35:55.092+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:35:55.093+05:30 level=INFO msg="[booking] Fetching receipt for bookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:35:55.093+05:30 level=INFO msg="[get-booking-receipt-uc] Fetching booking receipt for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:35:55.096+05:30 level=INFO msg="[get-booking-receipt-uc] Booking receipt successfully retrieved for 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:35:55.098+05:30 level=INFO msg="[booking] Booking receipt fetched successfully for 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T19:35:57.214+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:35:57.215+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:35:57.216+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:35:57.216+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:35:57.217+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:35:57.218+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:35:57.221+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:35:57.223+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:35:58.170+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:35:58.170+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:35:58.170+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:35:58.171+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:35:58.172+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:35:58.172+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:35:58.175+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:35:58.176+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:35:59.265+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:35:59.265+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:35:59.267+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:35:59.268+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:35:59.268+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:35:59.269+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:35:59.271+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:35:59.272+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:35:59.828+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:35:59.828+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:35:59.829+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:35:59.830+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:35:59.831+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:35:59.831+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:35:59.834+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:35:59.836+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:36:01.064+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:01.067+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T19:36:01.068+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T19:36:01.069+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:36:01.070+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:36:01.071+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T19:36:01.075+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:36:01.076+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T19:36:01.923+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:01.925+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:36:01.925+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:36:01.927+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:36:01.937+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:01.938+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:36:01.938+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:36:01.941+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:36:04.719+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:04.719+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:36:04.720+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:36:04.723+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:36:04.729+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:04.730+05:30 level=INFO msg="[get-concert-uc] Starting retrieval for concert ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:36:04.730+05:30 level=INFO msg="[get-concert-uc] Executing SELECT query for ID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:36:04.736+05:30 level=INFO msg="[get-concert-uc] Successfully retrieved concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T19:36:08.346+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:08.346+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:36:08.346+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:36:08.348+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:36:08.355+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:08.355+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:36:08.355+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:36:08.358+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:36:10.138+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:10.140+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T19:36:10.139+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:10.142+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T19:36:10.142+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T19:36:10.141+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T19:36:10.146+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T19:36:10.149+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T19:36:10.157+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:10.158+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-02T19:36:10.159+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-02T19:36:10.160+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:10.162+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-02T19:36:10.165+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-02T19:36:10.163+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-02T19:36:10.167+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-02T19:36:15.712+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:15.712+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:36:15.712+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:36:15.713+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T19:36:15.719+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T19:36:15.720+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T19:36:15.720+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T19:36:15.723+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T21:04:46.184+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T21:04:46.184+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T21:04:46.185+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T21:04:46.186+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T21:04:46.190+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T21:04:46.194+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T21:04:46.539+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T21:04:46.539+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T21:04:46.544+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T21:04:46.545+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T21:04:46.545+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T21:04:46.546+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T21:04:46.547+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T21:04:46.548+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T21:04:46.553+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T21:04:46.555+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T21:52:37.234+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-02T21:52:37.235+05:30 level=INFO msg="[main] program started"
time=2025-11-02T21:52:37.235+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-02T21:52:37.236+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-02T21:52:37.236+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-02T21:52:37.236+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-02T21:52:37.381+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-02T21:52:37.381+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-02T21:52:37.382+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-02T21:52:37.382+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-02T21:52:37.382+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-02T21:52:37.389+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-02T21:52:37.390+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-02T21:52:37.390+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-02T21:52:37.390+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-02T21:52:37.392+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-02T21:52:37.392+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-02T21:52:37.392+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-02T21:52:37.392+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-02T21:52:37.393+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-02T21:52:37.393+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-02T21:52:37.394+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-02T21:52:37.394+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-02T21:52:37.395+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-02T21:52:37.395+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-02T21:52:37.396+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-02T21:52:37.396+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-02T21:52:37.396+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-02T21:52:37.396+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-02T21:52:37.396+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-02T21:52:37.397+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-02T21:52:37.397+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-02T21:52:37.397+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-02T21:52:37.397+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-02T21:58:07.158+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T21:58:07.158+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:58:07.159+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:58:07.159+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:58:07.159+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:58:07.168+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T21:58:07.169+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T21:58:07.169+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T21:58:07.175+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T21:58:07.175+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T21:58:07.175+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T21:58:07.177+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T21:58:07.177+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:58:07.178+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T21:59:11.288+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T21:59:11.288+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:11.289+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:11.289+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:11.289+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:11.291+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T21:59:11.291+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T21:59:11.291+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T21:59:11.292+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T21:59:11.292+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T21:59:11.292+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T21:59:11.294+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T21:59:11.294+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:11.295+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T21:59:17.671+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T21:59:17.671+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:17.671+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:17.672+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:17.672+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:17.674+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T21:59:17.675+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T21:59:17.676+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T21:59:17.678+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T21:59:17.678+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T21:59:17.678+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T21:59:17.679+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T21:59:17.681+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T21:59:17.681+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:01:01.084+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:01:01.085+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:01:01.085+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:01:01.086+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:01:01.087+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:01:01.091+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:01:01.091+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:01:01.091+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:01:01.094+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:01:01.094+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:01:01.095+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:01:01.097+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:01:01.097+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:01:01.098+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:01:43.624+05:30 level=WARN msg="[auth] JWT check failed: No token in header or query."
time=2025-11-02T22:01:55.691+05:30 level=INFO msg="[auth] Login initiated for email: selvanunofficial@gmail.com. Password provided: false"
time=2025-11-02T22:01:55.691+05:30 level=INFO msg="[auth] Initiating OTP flow for regular user: selvanunofficial@gmail.com"
time=2025-11-02T22:01:55.691+05:30 level=INFO msg="[auth] Starting OTP process for email: selvanunofficial@gmail.com"
time=2025-11-02T22:01:55.691+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T22:01:55.696+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T22:01:55.696+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Role: admin. Reissuing OTP."
time=2025-11-02T22:01:55.696+05:30 level=INFO msg="[auth] Generated OTP code: 570641"
time=2025-11-02T22:01:55.711+05:30 level=INFO msg="[auth] OTP saved/updated successfully. Expires at: 2025-11-02T22:06:55+05:30"
time=2025-11-02T22:01:55.711+05:30 level=INFO msg="[auth] Sending OTP email to selvanunofficial@gmail.com"
time=2025-11-02T22:01:57.358+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-02T22:01:57.359+05:30 level=INFO msg="[auth] OTP dispatch triggered for selvanunofficial@gmail.com."
time=2025-11-02T22:01:57.359+05:30 level=INFO msg="[auth] OTP generated and request initiated for selvanunofficial@gmail.com. Awaiting verification."
time=2025-11-02T22:02:25.612+05:30 level=INFO msg="[auth] Attempting OTP verification for email: selvanunofficial@gmail.com"
time=2025-11-02T22:02:25.612+05:30 level=INFO msg="[auth] Verification attempt for email: selvanunofficial@gmail.com"
time=2025-11-02T22:02:25.613+05:30 level=INFO msg="[user] Attempting to retrieve user by email: selvanunofficial@gmail.com"
time=2025-11-02T22:02:25.614+05:30 level=INFO msg="[user] User selvanunofficial@gmail.com found successfully. Role: admin."
time=2025-11-02T22:02:25.614+05:30 level=INFO msg="[auth] User selvanunofficial@gmail.com found. Proceeding to OTP validation."
time=2025-11-02T22:02:25.616+05:30 level=INFO msg="[auth] OTP code matched for selvanunofficial@gmail.com. Checking expiry..."
time=2025-11-02T22:02:25.620+05:30 level=INFO msg="[auth] OTP cleaned up successfully for selvanunofficial@gmail.com."
time=2025-11-02T22:02:25.623+05:30 level=INFO msg="[auth] Successfully generated JWT for user 157f8d03-770e-455a-8576-82108f2833e4 (Role: admin)."
time=2025-11-02T22:02:25.624+05:30 level=INFO msg="[auth] Verification successful for selvanunofficial@gmail.com. JWT issued. Role: admin."
time=2025-11-02T22:02:25.624+05:30 level=INFO msg="[auth] OTP verified successfully for selvanunofficial@gmail.com. JWT issued. Role: admin"
time=2025-11-02T22:02:25.909+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:02:25.909+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T22:02:25.909+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T22:02:25.920+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T22:02:25.937+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:02:25.938+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T22:02:25.939+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T22:02:25.942+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T22:02:33.135+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:02:33.136+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:02:33.136+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:02:33.136+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:02:33.137+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:02:33.138+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:02:33.139+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:02:33.139+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:02:33.139+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:02:33.140+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:02:33.140+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:02:33.141+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:02:33.141+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:02:33.141+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:03:14.831+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:03:14.832+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:03:14.833+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:03:14.834+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:03:14.834+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:03:14.837+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:03:14.837+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:03:14.838+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:03:14.840+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:03:14.840+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:03:14.840+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:03:14.842+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:03:14.843+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:03:14.843+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:07:55.719+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T22:07:55.720+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T22:07:55.720+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T22:07:55.722+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T22:11:19.751+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:11:19.751+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:11:19.751+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:11:19.751+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:11:19.751+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:11:19.755+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:11:19.756+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:11:19.757+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:11:19.779+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:11:19.781+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:11:19.784+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:11:19.790+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:11:19.791+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:11:19.792+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:11:26.070+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:11:26.071+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T22:11:26.072+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T22:11:26.073+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T22:13:42.495+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:13:42.495+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:13:42.495+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:13:42.496+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:13:42.496+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:13:42.497+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:13:42.497+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:13:42.497+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:13:42.498+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:13:42.498+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:13:42.498+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:13:42.500+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:13:42.500+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:13:42.500+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:15:10.412+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:15:10.412+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:15:10.412+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:15:10.413+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:15:10.413+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:15:10.415+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:15:10.415+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:15:10.415+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:15:10.416+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:15:10.417+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:15:10.418+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:15:10.419+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:15:10.419+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:15:10.420+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:45:09.212+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:45:09.212+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:45:09.213+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:45:09.213+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:45:09.213+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:45:09.520+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:45:09.521+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:45:09.522+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:45:09.524+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:45:09.526+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:45:09.526+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:45:09.529+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:45:09.531+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:45:09.532+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:48:06.844+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:48:06.844+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:06.844+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:06.846+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:06.846+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:06.848+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:48:06.849+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:48:06.849+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:48:06.852+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:48:06.852+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:48:06.852+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:48:06.855+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:48:06.855+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:06.856+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:48:11.511+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:48:11.511+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:11.511+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:11.511+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:11.512+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:11.512+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:48:11.513+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:48:11.513+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:48:11.513+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:48:11.514+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:48:11.514+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:48:11.514+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:48:11.514+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:48:11.515+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:53:28.491+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:53:28.491+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:53:28.491+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:53:28.491+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:53:28.491+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:53:28.492+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:53:28.492+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:53:28.492+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:53:28.493+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:53:28.493+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:53:28.493+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:53:28.493+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:53:28.494+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:53:28.494+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:55:11.199+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T22:55:11.200+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:55:11.200+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:55:11.200+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:55:11.201+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:55:11.203+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:55:11.203+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:55:11.204+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:55:11.206+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:55:11.206+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:55:11.207+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:55:11.208+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:55:11.208+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:55:11.209+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T22:59:39.591+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T22:59:39.591+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:59:39.591+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:59:39.592+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:59:39.592+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:59:39.593+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T22:59:39.594+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:59:39.594+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T22:59:39.596+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T22:59:39.596+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:59:39.598+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T22:59:39.600+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T22:59:39.600+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T22:59:39.601+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T23:01:06.276+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:01:06.277+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:06.277+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:06.277+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:06.279+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:06.281+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T23:01:06.283+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T23:01:06.285+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T23:01:06.288+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T23:01:06.288+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T23:01:06.290+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T23:01:06.292+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T23:01:06.294+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:06.296+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T23:01:24.049+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:01:24.049+05:30 level=INFO msg="[booking] Fetching booking history for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:24.049+05:30 level=INFO msg="[get-all-participants-uc] Fetching participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:24.050+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:24.051+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:24.053+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-02T23:01:24.054+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T23:01:24.054+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-02T23:01:24.056+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-02T23:01:24.056+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T23:01:24.056+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-02T23:01:24.058+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-02T23:01:24.058+05:30 level=INFO msg="[get-all-participants-uc] Successfully retrieved 2 participants for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-02T23:01:24.058+05:30 level=INFO msg="[booking] Successfully retrieved 2 participants for 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3."
time=2025-11-02T23:03:22.291+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:03:22.292+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T23:03:22.292+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T23:03:22.300+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T23:03:42.156+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:03:42.159+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T23:03:42.161+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T23:03:42.164+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T23:03:42.170+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:03:42.171+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T23:03:42.171+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T23:03:42.174+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T23:03:47.898+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:03:47.899+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T23:03:47.899+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T23:03:47.902+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T23:03:47.907+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:03:47.909+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T23:03:47.912+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T23:03:47.916+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T23:03:56.680+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:03:56.680+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T23:03:56.680+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T23:03:56.681+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T23:03:56.685+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:03:56.685+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T23:03:56.686+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T23:03:56.688+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T23:04:39.119+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:04:39.119+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T23:04:39.120+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:04:39.120+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:04:39.120+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:04:39.121+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T23:04:39.124+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:04:39.125+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:04:39.129+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:04:39.129+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T23:04:39.130+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:04:39.130+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:04:39.131+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:04:39.131+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T23:04:39.135+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:04:39.135+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:04:46.394+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:04:46.394+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: user"
time=2025-11-02T23:04:46.394+05:30 level=WARN msg="[auth] RBAC FAILED for UserID 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c: Access Forbidden."
time=2025-11-02T23:04:48.972+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:04:48.974+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: user"
time=2025-11-02T23:04:48.975+05:30 level=WARN msg="[auth] RBAC FAILED for UserID 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c: Access Forbidden."
time=2025-11-02T23:04:50.196+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:04:50.197+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: user"
time=2025-11-02T23:04:50.198+05:30 level=WARN msg="[auth] RBAC FAILED for UserID 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c: Access Forbidden."
time=2025-11-02T23:05:36.484+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:05:36.485+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-02T23:05:36.486+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-02T23:05:36.487+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-02T23:21:07.879+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-02T23:21:07.891+05:30 level=INFO msg="[main] program started"
time=2025-11-02T23:21:07.891+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-02T23:21:07.893+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-02T23:21:07.893+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-02T23:21:07.894+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-02T23:21:08.196+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-02T23:21:08.196+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-02T23:21:08.196+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-02T23:21:08.197+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-02T23:21:08.197+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-02T23:21:08.211+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-02T23:21:08.211+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-02T23:21:08.212+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-02T23:21:08.212+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-02T23:21:08.213+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-02T23:21:08.213+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-02T23:21:08.214+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-02T23:21:08.214+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-02T23:21:08.215+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-02T23:21:08.215+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-02T23:21:08.216+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-02T23:21:08.216+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-02T23:21:08.216+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-02T23:21:08.216+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-02T23:21:08.216+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-02T23:21:08.216+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-02T23:21:08.217+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-02T23:21:08.218+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-02T23:21:08.218+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-02T23:21:08.218+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-02T23:21:08.218+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-02T23:21:08.218+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-02T23:21:08.218+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-02T23:22:31.316+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:22:31.317+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-02T23:22:31.318+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-02T23:22:31.319+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-02T23:22:31.382+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 9 booking records for kalaiselvan7834@gmail.com."
time=2025-11-02T23:22:31.383+05:30 level=INFO msg="[booking] Successfully retrieved 9 bookings for kalaiselvan7834@gmail.com."
time=2025-11-02T23:23:43.890+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:23:43.892+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T23:23:43.892+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:23:43.893+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:23:43.894+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:23:43.894+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T23:23:43.898+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:23:43.899+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:24:38.775+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:24:38.775+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T23:24:38.775+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:24:38.776+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:24:38.776+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:24:38.776+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T23:24:38.809+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 12 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:24:38.810+05:30 level=INFO msg="[booking] Successfully retrieved 12 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:24:44.004+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:24:44.007+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T23:24:44.008+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:24:44.009+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:24:44.010+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:24:44.011+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T23:24:44.065+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 12 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:24:44.066+05:30 level=INFO msg="[booking] Successfully retrieved 12 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:24:50.313+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-02T23:24:50.314+05:30 level=INFO msg="[booking] Fetching booking history for user: kalaiselvan7834@gmail.com"
time=2025-11-02T23:24:50.314+05:30 level=INFO msg="[get-all-booking-uc] Retrieving bookings for user: kalaiselvan7834@gmail.com"
time=2025-11-02T23:24:50.315+05:30 level=INFO msg="[get-all-booking-uc] Executing SELECT all query (filtered)."
time=2025-11-02T23:24:50.378+05:30 level=INFO msg="[get-all-booking-uc] Successfully retrieved 9 booking records for kalaiselvan7834@gmail.com."
time=2025-11-02T23:24:50.380+05:30 level=INFO msg="[booking] Successfully retrieved 9 bookings for kalaiselvan7834@gmail.com."
time=2025-11-02T23:24:59.690+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:24:59.690+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-02T23:24:59.691+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:24:59.692+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:24:59.693+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-02T23:24:59.693+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-02T23:24:59.752+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 12 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:24:59.752+05:30 level=INFO msg="[booking] Successfully retrieved 12 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-02T23:25:02.136+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:25:02.136+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T23:25:02.137+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:25:02.138+05:30 level=INFO msg="[booking-controller] Verification requested: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b ‚Üí approve"
time=2025-11-02T23:25:02.139+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:02.155+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b marked APPROVED."
time=2025-11-02T23:25:02.156+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:02.156+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:02.160+05:30 level=INFO msg="[get-booking-uc] Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b retrieved successfully. Status: APPROVED."
time=2025-11-02T23:25:02.161+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T23:25:02.162+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T23:25:02.173+05:30 level=INFO msg="[get-payment-details-uc] Payment 211f1803-b652-478a-8f2d-788e879512df retrieved successfully. Type: Bank Transfer."
time=2025-11-02T23:25:02.204+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è PDF generation failed: invalid JPEG format: missing SOI marker"
time=2025-11-02T23:25:02.212+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:25:02.213+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T23:25:02.213+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:25:02.213+05:30 level=INFO msg="[booking-controller] Verification requested: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b ‚Üí approve"
time=2025-11-02T23:25:02.213+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:02.221+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b marked APPROVED."
time=2025-11-02T23:25:02.221+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:02.222+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:02.226+05:30 level=INFO msg="[get-booking-uc] Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b retrieved successfully. Status: APPROVED."
time=2025-11-02T23:25:02.227+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T23:25:02.227+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T23:25:02.229+05:30 level=INFO msg="[get-payment-details-uc] Payment 211f1803-b652-478a-8f2d-788e879512df retrieved successfully. Type: Bank Transfer."
time=2025-11-02T23:25:02.263+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è PDF generation failed: invalid JPEG format: missing SOI marker"
time=2025-11-02T23:25:14.345+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:25:14.345+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T23:25:14.346+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:25:14.346+05:30 level=INFO msg="[booking-controller] Verification requested: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b ‚Üí approve"
time=2025-11-02T23:25:14.346+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:14.348+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b marked APPROVED."
time=2025-11-02T23:25:14.348+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:14.348+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:14.350+05:30 level=INFO msg="[get-booking-uc] Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b retrieved successfully. Status: APPROVED."
time=2025-11-02T23:25:14.351+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T23:25:14.352+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T23:25:14.356+05:30 level=INFO msg="[get-payment-details-uc] Payment 211f1803-b652-478a-8f2d-788e879512df retrieved successfully. Type: Bank Transfer."
time=2025-11-02T23:25:14.388+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è PDF generation failed: invalid JPEG format: missing SOI marker"
time=2025-11-02T23:25:14.396+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-02T23:25:14.397+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-02T23:25:14.398+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-02T23:25:14.398+05:30 level=INFO msg="[booking-controller] Verification requested: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b ‚Üí approve"
time=2025-11-02T23:25:14.399+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:14.404+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b marked APPROVED."
time=2025-11-02T23:25:14.404+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:14.405+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-02T23:25:14.408+05:30 level=INFO msg="[get-booking-uc] Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b retrieved successfully. Status: APPROVED."
time=2025-11-02T23:25:14.409+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T23:25:14.412+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-02T23:25:14.417+05:30 level=INFO msg="[get-payment-details-uc] Payment 211f1803-b652-478a-8f2d-788e879512df retrieved successfully. Type: Bank Transfer."
time=2025-11-02T23:25:14.450+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è PDF generation failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:23:20.743+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T00:23:20.747+05:30 level=INFO msg="[main] program started"
time=2025-11-03T00:23:20.747+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T00:23:20.747+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T00:23:20.748+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T00:23:20.748+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T00:23:20.975+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T00:23:20.975+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T00:23:20.975+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T00:23:20.975+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T00:23:20.975+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T00:23:20.976+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T00:23:20.976+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T00:23:20.976+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T00:23:20.976+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T00:23:20.977+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T00:23:20.977+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T00:23:20.977+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T00:23:20.978+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T00:23:20.978+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T00:23:20.978+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T00:23:20.978+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T00:23:20.978+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T00:23:20.979+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T00:23:20.979+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T00:23:20.979+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T00:23:20.979+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T00:23:20.979+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T00:23:20.979+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T00:23:20.980+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T00:23:20.980+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T00:23:20.980+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T00:23:20.981+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T00:23:20.981+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T00:23:34.795+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:23:34.795+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T00:23:34.796+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:23:34.796+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:23:34.796+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:23:34.796+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T00:23:34.842+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 11 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:23:34.843+05:30 level=INFO msg="[booking] Successfully retrieved 11 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:23:37.969+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:23:37.969+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:23:37.970+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:23:37.970+05:30 level=INFO msg="[booking-controller] Verification requested: e88a71b1-1a41-4212-8d0f-5eba5bee6843 ‚Üí approve"
time=2025-11-03T00:23:37.971+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:37.985+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 marked APPROVED."
time=2025-11-03T00:23:37.986+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:37.987+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:37.988+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:37.993+05:30 level=INFO msg="[get-booking-uc] Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 retrieved successfully. Status: APPROVED."
time=2025-11-03T00:23:37.994+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:23:37.995+05:30 level=INFO msg="[generate-ticket-uc] Fetching payment details for PaymentDetailsID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:23:38.001+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:23:38.001+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:23:38.004+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T00:23:38.010+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T00:23:38.010+05:30 level=INFO msg="[generate-ticket-uc] Initializing PDF document"
time=2025-11-03T00:23:38.012+05:30 level=INFO msg="[generate-ticket-uc] Attempting to embed poster banner image"
time=2025-11-03T00:23:38.017+05:30 level=INFO msg="[generate-ticket-uc] Poster image successfully added to PDF"
time=2025-11-03T00:23:38.018+05:30 level=INFO msg="[generate-ticket-uc] Generating QR for: https://bkentertainments.vercel.app/concerts/participants/?bookingID=e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:38.041+05:30 level=INFO msg="[generate-ticket-uc] QR code generated successfully"
time=2025-11-03T00:23:38.042+05:30 level=INFO msg="[generate-ticket-uc] QR image placed in poster white box"
time=2025-11-03T00:23:38.044+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:23:38.044+05:30 level=INFO msg="[generate-ticket-uc] Added black ticket background section"
time=2025-11-03T00:23:38.046+05:30 level=INFO msg="[generate-ticket-uc] Ticket header and accent line rendered"
time=2025-11-03T00:23:38.046+05:30 level=INFO msg="[generate-ticket-uc] Booking details added to ticket"
time=2025-11-03T00:23:38.047+05:30 level=INFO msg="[generate-ticket-uc] Payment information added to ticket"
time=2025-11-03T00:23:38.049+05:30 level=INFO msg="[generate-ticket-uc] QR caption added below QR"
time=2025-11-03T00:23:38.049+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:23:38.049+05:30 level=ERROR msg="[generate-ticket-uc] PDF output failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:23:38.051+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è PDF generation failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:23:38.053+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:23:38.053+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:23:38.059+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:23:38.059+05:30 level=INFO msg="[booking-controller] Verification requested: e88a71b1-1a41-4212-8d0f-5eba5bee6843 ‚Üí approve"
time=2025-11-03T00:23:38.059+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:38.066+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 marked APPROVED."
time=2025-11-03T00:23:38.067+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:38.068+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:38.068+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:38.071+05:30 level=INFO msg="[get-booking-uc] Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 retrieved successfully. Status: APPROVED."
time=2025-11-03T00:23:38.072+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:23:38.072+05:30 level=INFO msg="[generate-ticket-uc] Fetching payment details for PaymentDetailsID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:23:38.073+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:23:38.073+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:23:38.075+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T00:23:38.076+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T00:23:38.076+05:30 level=INFO msg="[generate-ticket-uc] Initializing PDF document"
time=2025-11-03T00:23:38.077+05:30 level=INFO msg="[generate-ticket-uc] Attempting to embed poster banner image"
time=2025-11-03T00:23:38.080+05:30 level=INFO msg="[generate-ticket-uc] Poster image successfully added to PDF"
time=2025-11-03T00:23:38.081+05:30 level=INFO msg="[generate-ticket-uc] Generating QR for: https://bkentertainments.vercel.app/concerts/participants/?bookingID=e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] QR code generated successfully"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] QR image placed in poster white box"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] Added black ticket background section"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] Ticket header and accent line rendered"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] Booking details added to ticket"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] Payment information added to ticket"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] QR caption added below QR"
time=2025-11-03T00:23:38.102+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:23:38.102+05:30 level=ERROR msg="[generate-ticket-uc] PDF output failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:23:38.102+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è PDF generation failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:28:45.952+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:28:45.952+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T00:28:45.952+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:28:45.953+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:28:45.953+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:28:45.953+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T00:28:45.973+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 10 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:28:45.974+05:30 level=INFO msg="[booking] Successfully retrieved 10 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:28:52.047+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:28:52.049+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:28:52.050+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:28:52.050+05:30 level=INFO msg="[booking-controller] Verification requested: f85d1b8c-ce22-414e-b653-3838e038f402 ‚Üí approve"
time=2025-11-03T00:28:52.051+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.058+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking f85d1b8c-ce22-414e-b653-3838e038f402 marked APPROVED."
time=2025-11-03T00:28:52.059+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.059+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.060+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.066+05:30 level=INFO msg="[get-booking-uc] Booking f85d1b8c-ce22-414e-b653-3838e038f402 retrieved successfully. Status: APPROVED."
time=2025-11-03T00:28:52.067+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:28:52.067+05:30 level=INFO msg="[generate-ticket-uc] Fetching payment details for PaymentDetailsID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:28:52.067+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:28:52.069+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:28:52.072+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T00:28:52.072+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T00:28:52.073+05:30 level=INFO msg="[generate-ticket-uc] Initializing PDF document"
time=2025-11-03T00:28:52.074+05:30 level=INFO msg="[generate-ticket-uc] Attempting to embed poster banner image"
time=2025-11-03T00:28:52.078+05:30 level=INFO msg="[generate-ticket-uc] Poster image successfully added to PDF"
time=2025-11-03T00:28:52.080+05:30 level=INFO msg="[generate-ticket-uc] Generating QR for: https://bkentertainments.vercel.app/concerts/participants/?bookingID=f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.109+05:30 level=INFO msg="[generate-ticket-uc] QR code generated successfully"
time=2025-11-03T00:28:52.111+05:30 level=INFO msg="[generate-ticket-uc] QR image placed in poster white box"
time=2025-11-03T00:28:52.112+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:28:52.112+05:30 level=INFO msg="[generate-ticket-uc] Added black ticket background section"
time=2025-11-03T00:28:52.114+05:30 level=INFO msg="[generate-ticket-uc] Ticket header and accent line rendered"
time=2025-11-03T00:28:52.114+05:30 level=INFO msg="[generate-ticket-uc] Booking details added to ticket"
time=2025-11-03T00:28:52.115+05:30 level=INFO msg="[generate-ticket-uc] Payment information added to ticket"
time=2025-11-03T00:28:52.115+05:30 level=INFO msg="[generate-ticket-uc] QR caption added below QR"
time=2025-11-03T00:28:52.116+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:28:52.117+05:30 level=ERROR msg="[generate-ticket-uc] PDF output failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:28:52.117+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è PDF generation failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:28:52.122+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:28:52.122+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:28:52.123+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:28:52.124+05:30 level=INFO msg="[booking-controller] Verification requested: f85d1b8c-ce22-414e-b653-3838e038f402 ‚Üí approve"
time=2025-11-03T00:28:52.124+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.130+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking f85d1b8c-ce22-414e-b653-3838e038f402 marked APPROVED."
time=2025-11-03T00:28:52.132+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.132+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.133+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.135+05:30 level=INFO msg="[get-booking-uc] Booking f85d1b8c-ce22-414e-b653-3838e038f402 retrieved successfully. Status: APPROVED."
time=2025-11-03T00:28:52.136+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:28:52.137+05:30 level=INFO msg="[generate-ticket-uc] Fetching payment details for PaymentDetailsID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:28:52.137+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:28:52.138+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:28:52.141+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T00:28:52.141+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T00:28:52.142+05:30 level=INFO msg="[generate-ticket-uc] Initializing PDF document"
time=2025-11-03T00:28:52.142+05:30 level=INFO msg="[generate-ticket-uc] Attempting to embed poster banner image"
time=2025-11-03T00:28:52.144+05:30 level=INFO msg="[generate-ticket-uc] Poster image successfully added to PDF"
time=2025-11-03T00:28:52.145+05:30 level=INFO msg="[generate-ticket-uc] Generating QR for: https://bkentertainments.vercel.app/concerts/participants/?bookingID=f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T00:28:52.167+05:30 level=INFO msg="[generate-ticket-uc] QR code generated successfully"
time=2025-11-03T00:28:52.168+05:30 level=INFO msg="[generate-ticket-uc] QR image placed in poster white box"
time=2025-11-03T00:28:52.169+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:28:52.169+05:30 level=INFO msg="[generate-ticket-uc] Added black ticket background section"
time=2025-11-03T00:28:52.169+05:30 level=INFO msg="[generate-ticket-uc] Ticket header and accent line rendered"
time=2025-11-03T00:28:52.170+05:30 level=INFO msg="[generate-ticket-uc] Booking details added to ticket"
time=2025-11-03T00:28:52.170+05:30 level=INFO msg="[generate-ticket-uc] Payment information added to ticket"
time=2025-11-03T00:28:52.172+05:30 level=INFO msg="[generate-ticket-uc] QR caption added below QR"
time=2025-11-03T00:28:52.172+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:28:52.172+05:30 level=ERROR msg="[generate-ticket-uc] PDF output failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:28:52.173+05:30 level=WARN msg="[approve-booking-uc] ‚ö†Ô∏è PDF generation failed: invalid JPEG format: missing SOI marker"
time=2025-11-03T00:29:06.040+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T00:29:06.047+05:30 level=INFO msg="[main] program started"
time=2025-11-03T00:29:06.047+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T00:29:06.048+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T00:29:06.049+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T00:29:06.049+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T00:29:06.302+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T00:29:06.302+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T00:29:06.302+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T00:29:06.302+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T00:29:06.302+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T00:29:06.303+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T00:29:06.303+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T00:29:06.303+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T00:29:06.303+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T00:29:06.304+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T00:29:06.305+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T00:29:06.305+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T00:29:13.363+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:29:13.364+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T00:29:13.364+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:29:13.365+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:29:13.366+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:29:13.366+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T00:29:13.417+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 9 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:29:13.418+05:30 level=INFO msg="[booking] Successfully retrieved 9 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:29:16.966+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:29:16.966+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:29:16.966+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:29:16.966+05:30 level=INFO msg="[booking-controller] Verification requested: 8635fd54-6e44-46f5-aa67-6e0ba719aadc ‚Üí approve"
time=2025-11-03T00:29:16.967+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T00:29:16.972+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 8635fd54-6e44-46f5-aa67-6e0ba719aadc marked APPROVED."
time=2025-11-03T00:29:16.972+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T00:29:16.973+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T00:29:16.974+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T00:29:16.977+05:30 level=INFO msg="[get-booking-uc] Booking 8635fd54-6e44-46f5-aa67-6e0ba719aadc retrieved successfully. Status: APPROVED."
time=2025-11-03T00:29:16.978+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:29:16.979+05:30 level=INFO msg="[generate-ticket-uc] Fetching payment details for PaymentDetailsID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-03T00:29:16.979+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-03T00:29:16.979+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-03T00:29:16.985+05:30 level=INFO msg="[get-payment-details-uc] Payment 8a87b53e-2782-41bb-a86c-77a4a9954575 retrieved successfully. Type: Bank Transfer."
time=2025-11-03T00:29:16.986+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T00:29:16.986+05:30 level=INFO msg="[generate-ticket-uc] Initializing PDF document"
time=2025-11-03T00:29:16.987+05:30 level=INFO msg="[generate-ticket-uc] Embedding poster banner image"
time=2025-11-03T00:29:16.991+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T00:29:16.992+05:30 level=INFO msg="[generate-ticket-uc] Generating QR for: https://bkentertainments.vercel.app/concerts/participants/?bookingID=8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T00:29:17.016+05:30 level=INFO msg="[generate-ticket-uc] QR code generated successfully"
time=2025-11-03T00:29:17.017+05:30 level=INFO msg="[generate-ticket-uc] QR image placed in poster white box"
time=2025-11-03T00:29:17.146+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T00:29:17.146+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:29:17.147+05:30 level=INFO msg="[generate-ticket-uc] Added black ticket background section"
time=2025-11-03T00:29:17.148+05:30 level=INFO msg="[generate-ticket-uc] Ticket header and accent line rendered"
time=2025-11-03T00:29:17.149+05:30 level=INFO msg="[generate-ticket-uc] Booking details added to ticket"
time=2025-11-03T00:29:17.150+05:30 level=INFO msg="[generate-ticket-uc] Payment information added to ticket"
time=2025-11-03T00:29:17.150+05:30 level=INFO msg="[generate-ticket-uc] QR caption added below QR"
time=2025-11-03T00:29:17.150+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:29:17.153+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T00:29:20.034+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T00:29:20.034+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T00:29:21.146+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:29:21.147+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T00:29:21.147+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:29:21.148+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:29:21.149+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:29:21.151+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T00:29:21.207+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 8 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:29:21.208+05:30 level=INFO msg="[booking] Successfully retrieved 8 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:33:04.710+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T00:33:04.712+05:30 level=INFO msg="[main] program started"
time=2025-11-03T00:33:04.712+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T00:33:04.713+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T00:33:04.713+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T00:33:04.713+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T00:33:04.898+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T00:33:04.899+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T00:33:04.899+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T00:33:04.899+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T00:33:04.899+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T00:33:04.901+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T00:33:04.901+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T00:33:04.902+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T00:33:04.902+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T00:33:04.902+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T00:33:04.903+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T00:33:04.904+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T00:33:04.904+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T00:33:04.905+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T00:33:04.905+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T00:33:04.905+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T00:33:04.906+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T00:33:04.907+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T00:33:04.907+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T00:33:04.907+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T00:33:04.907+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T00:33:04.908+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T00:33:04.908+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T00:33:04.909+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T00:33:04.909+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T00:33:04.910+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T00:33:04.910+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T00:33:04.911+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T00:33:59.211+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:33:59.212+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:33:59.212+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:33:59.212+05:30 level=INFO msg="[booking-controller] Verification requested: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 ‚Üí approve"
time=2025-11-03T00:33:59.213+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T00:33:59.221+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 marked APPROVED."
time=2025-11-03T00:33:59.223+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T00:33:59.224+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T00:33:59.225+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T00:33:59.232+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-03T00:33:59.234+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:33:59.234+05:30 level=INFO msg="[generate-ticket-uc] Fetching payment details for PaymentDetailsID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:33:59.238+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:33:59.239+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T00:33:59.245+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T00:33:59.247+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T00:33:59.248+05:30 level=INFO msg="[generate-ticket-uc] Initializing PDF document"
time=2025-11-03T00:33:59.251+05:30 level=INFO msg="[generate-ticket-uc] Embedding poster banner image"
time=2025-11-03T00:33:59.255+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T00:33:59.256+05:30 level=INFO msg="[generate-ticket-uc] Generating QR for: https://bkentertainments.vercel.app/concerts/participants/?bookingID=6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T00:33:59.278+05:30 level=INFO msg="[generate-ticket-uc] QR code generated successfully"
time=2025-11-03T00:33:59.279+05:30 level=INFO msg="[generate-ticket-uc] QR image placed in poster white box"
time=2025-11-03T00:33:59.470+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T00:33:59.470+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:33:59.470+05:30 level=INFO msg="[generate-ticket-uc] Added black ticket background section"
time=2025-11-03T00:33:59.480+05:30 level=INFO msg="[generate-ticket-uc] Ticket header and accent line rendered"
time=2025-11-03T00:33:59.481+05:30 level=INFO msg="[generate-ticket-uc] Booking details added to ticket"
time=2025-11-03T00:33:59.481+05:30 level=INFO msg="[generate-ticket-uc] Payment information added to ticket"
time=2025-11-03T00:33:59.481+05:30 level=INFO msg="[generate-ticket-uc] QR caption added below QR"
time=2025-11-03T00:33:59.481+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:33:59.481+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T00:34:02.084+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T00:34:02.085+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T00:34:03.677+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:34:03.678+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T00:34:03.680+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:34:03.681+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:34:03.685+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:34:03.687+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T00:34:03.756+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 7 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:34:03.759+05:30 level=INFO msg="[booking] Successfully retrieved 7 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:40:01.719+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T00:40:01.724+05:30 level=INFO msg="[main] program started"
time=2025-11-03T00:40:01.724+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T00:40:01.725+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T00:40:01.725+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T00:40:01.726+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T00:40:01.933+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T00:40:01.933+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T00:40:01.933+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T00:40:01.934+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T00:40:01.934+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T00:40:01.936+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T00:40:01.936+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T00:40:01.937+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T00:40:01.937+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T00:40:01.938+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T00:40:01.938+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T00:40:01.938+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T00:40:01.938+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T00:40:01.940+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T00:40:01.940+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T00:40:01.941+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T00:40:01.941+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T00:40:01.943+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T00:40:01.943+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T00:40:01.944+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T00:40:01.946+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T00:40:01.947+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T00:40:01.948+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T00:40:01.949+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T00:40:01.950+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T00:40:01.951+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T00:40:01.952+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T00:40:01.953+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T00:40:17.609+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-03T00:40:17.610+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-03T00:40:17.610+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-03T00:40:17.617+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-03T00:40:21.975+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:40:21.976+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:40:21.977+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:40:21.978+05:30 level=INFO msg="[booking-controller] Verification requested: 375b4ba6-2630-4170-8f7f-0fafc841f2dd ‚Üí approve"
time=2025-11-03T00:40:21.979+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T00:40:21.999+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 375b4ba6-2630-4170-8f7f-0fafc841f2dd marked APPROVED."
time=2025-11-03T00:40:22.000+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T00:40:22.001+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T00:40:22.002+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T00:40:22.008+05:30 level=INFO msg="[get-booking-uc] Booking 375b4ba6-2630-4170-8f7f-0fafc841f2dd retrieved successfully. Status: APPROVED."
time=2025-11-03T00:40:22.009+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:40:22.010+05:30 level=INFO msg="[generate-ticket-uc] Fetching payment details for PaymentDetailsID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T00:40:22.010+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T00:40:22.010+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T00:40:22.019+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T00:40:22.019+05:30 level=INFO msg="[generate-ticket-uc] Payment type: UPI"
time=2025-11-03T00:40:22.020+05:30 level=INFO msg="[generate-ticket-uc] Initializing PDF document"
time=2025-11-03T00:40:22.021+05:30 level=INFO msg="[generate-ticket-uc] Embedding poster banner image"
time=2025-11-03T00:40:22.026+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T00:40:22.026+05:30 level=INFO msg="[generate-ticket-uc] Generating QR for: https://bkentertainments.vercel.app/concerts/participants/?bookingID=375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T00:40:22.058+05:30 level=INFO msg="[generate-ticket-uc] QR code generated successfully"
time=2025-11-03T00:40:22.059+05:30 level=INFO msg="[generate-ticket-uc] QR image placed in poster white box"
time=2025-11-03T00:40:22.229+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T00:40:22.229+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:40:22.231+05:30 level=INFO msg="[generate-ticket-uc] Added black ticket background section"
time=2025-11-03T00:40:22.232+05:30 level=INFO msg="[generate-ticket-uc] Ticket header and accent line rendered"
time=2025-11-03T00:40:22.232+05:30 level=INFO msg="[generate-ticket-uc] Booking details added to ticket"
time=2025-11-03T00:40:22.232+05:30 level=INFO msg="[generate-ticket-uc] Payment information added to ticket"
time=2025-11-03T00:40:22.232+05:30 level=INFO msg="[generate-ticket-uc] QR caption added below QR"
time=2025-11-03T00:40:22.232+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:40:22.238+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T00:40:25.153+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T00:40:25.154+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T00:40:26.251+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:40:26.252+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T00:40:26.253+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:40:26.254+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:40:26.256+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:40:26.257+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T00:40:26.367+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 6 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:40:26.368+05:30 level=INFO msg="[booking] Successfully retrieved 6 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:47:52.314+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T00:47:52.317+05:30 level=INFO msg="[main] program started"
time=2025-11-03T00:47:52.317+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T00:47:52.318+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T00:47:52.318+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T00:47:52.318+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T00:47:52.504+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T00:47:52.504+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T00:47:52.504+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T00:47:52.504+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T00:47:52.504+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T00:47:52.505+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T00:47:52.505+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T00:47:52.506+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T00:47:52.506+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T00:47:52.506+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T00:47:52.506+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T00:47:52.506+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T00:47:52.506+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T00:47:52.507+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T00:47:52.507+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T00:47:52.508+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T00:47:52.508+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T00:47:52.508+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T00:47:52.508+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T00:47:52.509+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T00:47:52.509+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T00:47:52.509+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T00:47:52.509+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T00:47:52.509+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T00:47:52.510+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T00:47:52.510+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T00:47:52.510+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T00:47:52.511+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T00:49:16.516+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:49:16.516+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:49:16.517+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:49:16.518+05:30 level=INFO msg="[booking-controller] Verification requested: 9ae730e6-de13-4832-99ef-2ac6661f5955 ‚Üí approve"
time=2025-11-03T00:49:16.518+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T00:49:16.539+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9ae730e6-de13-4832-99ef-2ac6661f5955 marked APPROVED."
time=2025-11-03T00:49:16.540+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T00:49:16.541+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T00:49:16.542+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T00:49:16.611+05:30 level=INFO msg="[get-booking-uc] Booking 9ae730e6-de13-4832-99ef-2ac6661f5955 retrieved successfully. Status: APPROVED."
time=2025-11-03T00:49:16.612+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:49:16.612+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T00:49:16.613+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T00:49:16.619+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T00:49:16.619+05:30 level=INFO msg="[generate-ticket-uc] Payment type: UPI"
time=2025-11-03T00:49:16.621+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T00:49:16.627+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T00:49:16.647+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T00:49:16.648+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/black.jpg (JPG)"
time=2025-11-03T00:49:16.649+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:49:16.650+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T00:49:16.651+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T00:49:16.653+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T00:49:16.653+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T00:49:16.654+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:49:16.656+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T00:49:19.230+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T00:49:19.231+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T00:49:20.737+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:49:20.737+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T00:49:20.738+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:49:20.740+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:49:20.741+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:49:20.744+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T00:49:20.753+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 5 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:49:20.754+05:30 level=INFO msg="[booking] Successfully retrieved 5 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:54:40.850+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T00:54:40.851+05:30 level=INFO msg="[main] program started"
time=2025-11-03T00:54:40.851+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T00:54:40.852+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T00:54:40.852+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T00:54:40.852+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T00:54:41.135+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T00:54:41.135+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T00:54:41.135+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T00:54:41.136+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T00:54:41.136+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T00:54:41.136+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T00:54:41.136+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T00:54:41.137+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T00:54:41.137+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T00:54:41.137+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T00:54:41.138+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T00:54:41.138+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T00:54:41.138+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T00:54:41.139+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T00:54:41.139+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T00:54:41.139+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T00:54:41.139+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T00:54:41.140+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T00:54:41.140+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T00:54:41.140+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T00:54:41.141+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T00:54:41.141+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T00:54:41.141+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T00:54:41.141+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T00:54:41.142+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T00:54:41.142+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T00:54:41.143+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T00:54:41.143+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T00:55:00.844+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:55:00.845+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T00:55:00.846+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:55:00.846+05:30 level=INFO msg="[booking-controller] Verification requested: 9a0083d4-ffe3-4214-8053-4be8a2f6438d ‚Üí approve"
time=2025-11-03T00:55:00.847+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T00:55:00.872+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9a0083d4-ffe3-4214-8053-4be8a2f6438d marked APPROVED."
time=2025-11-03T00:55:00.874+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T00:55:00.875+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T00:55:00.876+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T00:55:00.885+05:30 level=INFO msg="[get-booking-uc] Booking 9a0083d4-ffe3-4214-8053-4be8a2f6438d retrieved successfully. Status: APPROVED."
time=2025-11-03T00:55:00.887+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T00:55:00.890+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T00:55:00.890+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T00:55:00.897+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T00:55:00.898+05:30 level=INFO msg="[generate-ticket-uc] Payment type: UPI"
time=2025-11-03T00:55:00.902+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T00:55:00.910+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T00:55:00.943+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T00:55:00.961+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/logo_resized.png (PNG)"
time=2025-11-03T00:55:00.962+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T00:55:00.965+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T00:55:00.966+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T00:55:00.968+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T00:55:00.970+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T00:55:00.971+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T00:55:00.977+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T00:55:03.875+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T00:55:03.876+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T00:55:05.302+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T00:55:05.303+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T00:55:05.305+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T00:55:05.306+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:55:05.308+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T00:55:05.309+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T00:55:05.317+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 4 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T00:55:05.318+05:30 level=INFO msg="[booking] Successfully retrieved 4 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:00:40.569+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:00:40.570+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:00:40.570+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:00:40.571+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:00:40.571+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:00:40.571+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:00:40.793+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:00:40.794+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:00:40.794+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:00:40.794+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:00:40.794+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:00:40.797+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:00:40.797+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:00:40.798+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:00:40.798+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:00:40.799+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:00:40.799+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:00:40.799+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:00:40.800+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:00:40.800+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:00:40.801+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:00:40.802+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:00:40.802+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:00:40.802+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:00:40.803+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:00:40.803+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:00:40.803+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:00:40.804+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:00:40.804+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:00:40.805+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:00:40.805+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:00:40.806+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:00:40.806+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:00:40.807+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:01:06.294+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:01:06.294+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:01:06.294+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:01:06.295+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:01:06.295+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:01:06.295+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:01:06.301+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 4 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:01:06.301+05:30 level=INFO msg="[booking] Successfully retrieved 4 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:01:09.243+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:01:09.244+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:01:09.244+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:01:09.244+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-03T01:01:09.245+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:01:09.257+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-03T01:01:09.258+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:01:09.259+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:01:09.260+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:01:09.264+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:01:09.265+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: tom249310@gmail.com"
time=2025-11-03T01:01:09.266+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:01:09.268+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:01:09.277+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:01:09.278+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T01:01:09.278+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:01:09.284+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:01:09.316+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:01:09.334+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/logo_resized.png (PNG)"
time=2025-11-03T01:01:09.335+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:01:09.336+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:01:09.338+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:01:09.340+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:01:09.342+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:01:09.342+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:01:09.351+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:01:12.211+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-03T01:01:12.212+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-03T01:01:12.226+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:01:12.228+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:01:12.229+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:01:12.230+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:01:12.232+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:01:12.234+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:01:12.240+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 3 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:01:12.240+05:30 level=INFO msg="[booking] Successfully retrieved 3 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:01:41.112+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:01:41.112+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:01:41.113+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:01:41.114+05:30 level=INFO msg="[booking-controller] Verification requested: 5fc2921c-2328-4105-bed3-b481f307ccbb ‚Üí approve"
time=2025-11-03T01:01:41.116+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:01:41.122+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 5fc2921c-2328-4105-bed3-b481f307ccbb marked APPROVED."
time=2025-11-03T01:01:41.123+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:01:41.124+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:01:41.124+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:01:41.128+05:30 level=INFO msg="[get-booking-uc] Booking 5fc2921c-2328-4105-bed3-b481f307ccbb retrieved successfully. Status: APPROVED."
time=2025-11-03T01:01:41.129+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: tom249310@gmail.com"
time=2025-11-03T01:01:41.129+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:01:41.131+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:01:41.134+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:01:41.135+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T01:01:41.136+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:01:41.137+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:01:41.167+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:01:41.181+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/logo_resized.png (PNG)"
time=2025-11-03T01:01:41.182+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:01:41.183+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:01:41.185+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:01:41.186+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:01:41.187+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:01:41.188+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:01:41.194+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:01:42.266+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-03T01:01:42.267+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-03T01:01:42.375+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:01:42.376+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:01:42.376+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:01:42.377+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:01:42.378+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:01:42.378+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:01:42.381+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 2 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:01:42.382+05:30 level=INFO msg="[booking] Successfully retrieved 2 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:04:22.382+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:04:22.385+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:04:22.385+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:04:22.386+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:04:22.386+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:04:22.386+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:04:22.567+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:04:22.567+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:04:22.567+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:04:22.567+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:04:22.567+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:04:22.569+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:04:22.569+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:04:22.569+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:04:22.569+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:04:22.569+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:04:22.569+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:04:22.570+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:04:22.570+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:04:22.571+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:04:22.571+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:04:22.571+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:04:22.571+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:04:22.572+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:04:22.572+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:04:22.572+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:04:22.572+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:04:22.572+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:04:22.572+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:04:22.572+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:04:22.572+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:04:22.573+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:04:22.573+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:04:22.573+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:04:38.205+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:04:38.207+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:04:38.208+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:04:38.211+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:04:38.213+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:04:38.215+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:04:38.235+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 2 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:04:38.235+05:30 level=INFO msg="[booking] Successfully retrieved 2 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:04:40.982+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:04:40.983+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:04:40.983+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:04:40.984+05:30 level=INFO msg="[booking-controller] Verification requested: 0e41b93c-092e-449a-a96c-430e0e9a2377 ‚Üí approve"
time=2025-11-03T01:04:40.985+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:04:40.997+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 marked APPROVED."
time=2025-11-03T01:04:40.999+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:04:41.002+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:04:41.002+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:04:41.006+05:30 level=INFO msg="[get-booking-uc] Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:04:41.007+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: tom249310@gmail.com"
time=2025-11-03T01:04:41.009+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:04:41.009+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:04:41.019+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T01:04:41.019+05:30 level=INFO msg="[generate-ticket-uc] Payment type: UPI"
time=2025-11-03T01:04:41.020+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:04:41.026+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:04:41.060+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:04:41.205+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T01:04:41.205+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:04:41.206+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:04:41.207+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:04:41.208+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:04:41.208+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:04:41.209+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:04:41.211+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:04:43.723+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-03T01:04:43.724+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-03T01:04:43.737+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:04:43.737+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:04:43.738+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:04:43.739+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:04:43.740+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:04:43.740+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:04:43.743+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:04:43.744+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:05:31.973+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:05:31.978+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:05:31.978+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:05:31.978+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:05:31.978+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:05:31.978+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:05:32.470+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:05:32.470+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:05:32.470+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:05:32.470+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:05:32.470+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:05:32.471+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:05:32.471+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:05:32.472+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:05:32.472+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:05:32.472+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:05:32.472+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:05:32.473+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:05:32.473+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:05:32.473+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:05:32.474+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:05:32.474+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:05:32.475+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:05:32.475+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:05:32.475+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:05:32.475+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:05:32.475+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:05:32.475+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:05:32.475+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:05:32.476+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:05:32.476+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:05:32.477+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:05:32.477+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:05:32.477+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:05:42.911+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:05:42.912+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:05:42.913+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:05:42.914+05:30 level=INFO msg="[booking-controller] Verification requested: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 ‚Üí approve"
time=2025-11-03T01:05:42.914+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:05:42.940+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 marked APPROVED."
time=2025-11-03T01:05:42.942+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:05:42.943+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:05:42.945+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:05:42.953+05:30 level=INFO msg="[get-booking-uc] Booking f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:05:42.954+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T01:05:42.955+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:05:42.955+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:05:42.966+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T01:05:42.967+05:30 level=INFO msg="[generate-ticket-uc] Payment type: UPI"
time=2025-11-03T01:05:42.968+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:05:42.980+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:05:43.010+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:05:43.130+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T01:05:43.130+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:05:43.133+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:05:43.133+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:05:43.133+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:05:43.133+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:05:43.135+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:05:43.135+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:05:45.675+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:05:45.676+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:05:45.688+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:05:45.689+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:05:45.690+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:05:45.690+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:05:45.690+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:05:45.692+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:05:45.696+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:05:45.697+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:06:34.061+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:06:34.064+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:06:34.064+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:06:34.064+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:06:34.064+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:06:34.064+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:06:34.347+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:06:34.347+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:06:34.348+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:06:34.348+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:06:34.348+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:06:34.350+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:06:34.351+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:06:34.352+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:06:34.352+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:06:34.353+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:06:34.353+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:06:34.355+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:06:34.355+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:06:34.357+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:06:34.358+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:06:34.359+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:06:34.360+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:06:34.361+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:06:34.362+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:06:34.362+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:06:34.363+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:06:34.364+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:06:34.364+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:06:34.366+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:06:34.367+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:06:34.368+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:06:34.368+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:06:34.369+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:06:49.913+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:06:49.913+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:06:49.913+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:06:49.914+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:06:49.914+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:06:49.915+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:06:50.012+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 12 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:06:50.012+05:30 level=INFO msg="[booking] Successfully retrieved 12 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:06:52.761+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:06:52.761+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:06:52.762+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:06:52.763+05:30 level=INFO msg="[booking-controller] Verification requested: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b ‚Üí approve"
time=2025-11-03T01:06:52.763+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:06:52.775+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b marked APPROVED."
time=2025-11-03T01:06:52.776+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:06:52.776+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:06:52.777+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:06:52.781+05:30 level=INFO msg="[get-booking-uc] Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b retrieved successfully. Status: APPROVED."
time=2025-11-03T01:06:52.781+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T01:06:52.782+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-03T01:06:52.782+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-03T01:06:52.791+05:30 level=INFO msg="[get-payment-details-uc] Payment 211f1803-b652-478a-8f2d-788e879512df retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:06:52.792+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T01:06:52.792+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:06:52.795+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:06:52.820+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:06:52.954+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T01:06:52.954+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:06:52.954+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:06:52.954+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:06:52.957+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:06:52.957+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:06:52.957+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:06:52.957+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:06:56.139+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:06:56.176+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:06:57.514+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:06:57.514+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:06:57.514+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:06:57.514+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:06:57.515+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:06:57.515+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:06:57.557+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 11 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:06:57.557+05:30 level=INFO msg="[booking] Successfully retrieved 11 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:08:26.980+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:08:26.984+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:08:26.985+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:08:26.985+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:08:26.986+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:08:26.986+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:08:27.245+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:08:27.245+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:08:27.245+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:08:27.246+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:08:27.246+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:08:27.246+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:08:27.246+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:08:27.246+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:08:27.246+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:08:27.247+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:08:27.247+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:08:27.247+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:08:27.247+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:08:27.247+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:08:27.247+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:08:27.247+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:08:27.248+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:08:27.248+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:08:27.248+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:08:27.248+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:08:27.248+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:08:27.248+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:08:27.248+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:08:27.248+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:08:27.249+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:08:27.249+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:08:27.249+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:08:27.249+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:08:36.677+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:08:36.677+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:08:36.678+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:08:36.681+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:08:36.683+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:08:36.684+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:08:36.758+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 11 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:08:36.758+05:30 level=INFO msg="[booking] Successfully retrieved 11 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:08:41.221+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:08:41.221+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:08:41.222+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:08:41.223+05:30 level=INFO msg="[booking-controller] Verification requested: e88a71b1-1a41-4212-8d0f-5eba5bee6843 ‚Üí approve"
time=2025-11-03T01:08:41.223+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:08:41.232+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 marked APPROVED."
time=2025-11-03T01:08:41.233+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:08:41.234+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:08:41.235+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:08:41.239+05:30 level=INFO msg="[get-booking-uc] Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:08:41.240+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T01:08:41.241+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:08:41.241+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:08:41.251+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:08:41.255+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T01:08:41.257+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:08:41.258+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:08:41.265+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:08:41.391+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T01:08:41.391+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:08:41.392+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:08:41.392+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:08:41.392+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:08:41.393+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:08:41.393+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:08:41.394+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:08:44.210+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:08:44.211+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:08:45.176+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:08:45.176+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:08:45.177+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:08:45.178+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:08:45.178+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:08:45.180+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:08:45.243+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 10 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:08:45.244+05:30 level=INFO msg="[booking] Successfully retrieved 10 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:10:14.425+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:10:14.428+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:10:14.428+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:10:14.428+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:10:14.428+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:10:14.428+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:10:14.676+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:10:14.677+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:10:14.677+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:10:14.677+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:10:14.678+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:10:14.679+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:10:14.681+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:10:14.682+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:10:14.683+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:10:14.685+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:10:14.685+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:10:14.686+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:10:14.686+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:10:14.688+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:10:14.689+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:10:14.691+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:10:14.692+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:10:14.693+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:10:14.694+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:10:14.694+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:10:14.695+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:10:14.696+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:10:14.698+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:10:14.699+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:10:14.700+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:10:14.701+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:10:14.702+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:10:14.703+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:10:47.206+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:10:47.206+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:10:47.207+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:10:47.208+05:30 level=INFO msg="[booking-controller] Verification requested: f85d1b8c-ce22-414e-b653-3838e038f402 ‚Üí approve"
time=2025-11-03T01:10:47.209+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T01:10:47.230+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking f85d1b8c-ce22-414e-b653-3838e038f402 marked APPROVED."
time=2025-11-03T01:10:47.231+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T01:10:47.231+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T01:10:47.233+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T01:10:47.239+05:30 level=INFO msg="[get-booking-uc] Booking f85d1b8c-ce22-414e-b653-3838e038f402 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:10:47.240+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T01:10:47.240+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:10:47.242+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:10:47.249+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:10:47.249+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T01:10:47.253+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:10:47.258+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:10:47.281+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:10:47.427+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T01:10:47.427+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:10:47.429+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:10:47.429+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:10:47.430+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:10:47.430+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:10:47.431+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:10:47.431+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: f85d1b8c-ce22-414e-b653-3838e038f402"
time=2025-11-03T01:10:50.384+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:10:50.385+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:10:50.918+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:10:50.919+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:10:50.923+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:10:50.925+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:10:50.927+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:10:50.929+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:10:51.018+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 9 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:10:51.019+05:30 level=INFO msg="[booking] Successfully retrieved 9 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:15:26.803+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:15:26.806+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:15:26.806+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:15:26.807+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:15:26.808+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:15:26.808+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:15:27.051+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:15:27.052+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:15:27.052+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:15:27.052+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:15:27.052+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:15:27.055+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:15:27.055+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:15:27.056+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:15:27.056+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:15:27.057+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:15:27.057+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:15:27.058+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:15:27.059+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:15:27.060+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:15:27.061+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:15:27.062+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:15:27.063+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:15:27.064+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:15:27.065+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:15:27.065+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:15:27.067+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:15:27.068+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:15:27.068+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:15:27.069+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:15:27.069+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:15:27.070+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:15:27.073+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:15:27.074+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:16:21.113+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:16:21.113+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:16:21.114+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:16:21.115+05:30 level=INFO msg="[booking-controller] Verification requested: 8635fd54-6e44-46f5-aa67-6e0ba719aadc ‚Üí approve"
time=2025-11-03T01:16:21.117+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:16:21.137+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 8635fd54-6e44-46f5-aa67-6e0ba719aadc marked APPROVED."
time=2025-11-03T01:16:21.139+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:16:21.141+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:16:21.142+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:16:21.152+05:30 level=INFO msg="[get-booking-uc] Booking 8635fd54-6e44-46f5-aa67-6e0ba719aadc retrieved successfully. Status: APPROVED."
time=2025-11-03T01:16:21.153+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T01:16:21.154+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-03T01:16:21.155+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-03T01:16:21.164+05:30 level=INFO msg="[get-payment-details-uc] Payment 8a87b53e-2782-41bb-a86c-77a4a9954575 retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:16:21.164+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T01:16:21.167+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:16:21.172+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:16:21.198+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:16:21.319+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T01:16:21.320+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:16:21.321+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:16:21.321+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:16:21.321+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:16:21.322+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:16:21.322+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:16:21.324+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:16:24.182+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:16:24.183+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:16:24.212+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:16:24.215+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:16:24.217+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:16:24.218+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:16:24.220+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:16:24.220+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:16:24.269+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 8 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:16:24.270+05:30 level=INFO msg="[booking] Successfully retrieved 8 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:16:38.819+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:16:38.820+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:16:38.820+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:16:38.820+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:16:38.820+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:16:38.820+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:16:38.846+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 8 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:16:38.846+05:30 level=INFO msg="[booking] Successfully retrieved 8 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:17:02.099+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:17:02.100+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:17:02.100+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:17:02.100+05:30 level=INFO msg="[booking-controller] Verification requested: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 ‚Üí approve"
time=2025-11-03T01:17:02.100+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:17:02.103+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 marked APPROVED."
time=2025-11-03T01:17:02.104+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:17:02.106+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:17:02.106+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:17:02.111+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:17:02.112+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T01:17:02.113+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:17:02.113+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:17:02.117+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:17:02.119+05:30 level=INFO msg="[generate-ticket-uc] Payment type: Bank Transfer"
time=2025-11-03T01:17:02.120+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:17:02.122+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:17:02.155+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:17:02.312+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T01:17:02.312+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:17:02.313+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:17:02.314+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:17:02.315+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:17:02.315+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:17:02.315+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:17:02.318+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:17:03.618+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:17:03.618+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:17:06.839+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:17:06.839+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:17:06.840+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:17:06.840+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:17:06.841+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:17:06.842+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:17:06.891+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 7 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:17:06.892+05:30 level=INFO msg="[booking] Successfully retrieved 7 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:18:01.007+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:18:01.007+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:18:01.008+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:18:01.008+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:18:01.008+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:18:01.009+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:18:01.037+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 7 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:18:01.037+05:30 level=INFO msg="[booking] Successfully retrieved 7 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:18:06.290+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:18:06.290+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:18:06.292+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:18:06.292+05:30 level=INFO msg="[booking-controller] Verification requested: 9ae730e6-de13-4832-99ef-2ac6661f5955 ‚Üí approve"
time=2025-11-03T01:18:06.292+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T01:18:06.299+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9ae730e6-de13-4832-99ef-2ac6661f5955 marked APPROVED."
time=2025-11-03T01:18:06.300+05:30 level=INFO msg="[generate-ticket-uc] Starting ticket generation for bookingID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T01:18:06.300+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T01:18:06.301+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T01:18:06.349+05:30 level=INFO msg="[get-booking-uc] Booking 9ae730e6-de13-4832-99ef-2ac6661f5955 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:18:06.349+05:30 level=INFO msg="[generate-ticket-uc] Booking fetched successfully for email: kalaiselvan7834@gmail.com"
time=2025-11-03T01:18:06.350+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:18:06.351+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:18:06.353+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T01:18:06.353+05:30 level=INFO msg="[generate-ticket-uc] Payment type: UPI"
time=2025-11-03T01:18:06.354+05:30 level=INFO msg="[generate-ticket-uc] Adding poster banner"
time=2025-11-03T01:18:06.356+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg (JPG)"
time=2025-11-03T01:18:06.376+05:30 level=INFO msg="[generate-ticket-uc] QR placed at tuned coordinates"
time=2025-11-03T01:18:06.526+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png (PNG)"
time=2025-11-03T01:18:06.526+05:30 level=INFO msg="[generate-ticket-uc] Logo overlay applied at QR center"
time=2025-11-03T01:18:06.527+05:30 level=INFO msg="[generate-ticket-uc] QR caption refined and added"
time=2025-11-03T01:18:06.527+05:30 level=INFO msg="[generate-ticket-uc] Header adjusted and gap removed"
time=2025-11-03T01:18:06.529+05:30 level=INFO msg="[generate-ticket-uc] Booking details adjusted for compact spacing"
time=2025-11-03T01:18:06.529+05:30 level=INFO msg="[generate-ticket-uc] Payment info added neatly"
time=2025-11-03T01:18:06.529+05:30 level=INFO msg="[generate-ticket-uc] Footer rendered"
time=2025-11-03T01:18:06.529+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 9ae730e6-de13-4832-99ef-2ac6661f5955"
time=2025-11-03T01:18:08.507+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:18:08.508+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:18:09.814+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:18:09.814+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:18:09.814+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:18:09.815+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:18:09.817+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:18:09.819+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:18:09.822+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 6 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:18:09.822+05:30 level=INFO msg="[booking] Successfully retrieved 6 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:21:19.056+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:21:19.064+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:21:19.064+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:21:19.066+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:21:19.066+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:21:19.067+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:21:19.435+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:21:19.435+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:21:19.436+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:21:19.436+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:21:19.437+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:21:19.441+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:21:19.441+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:21:19.443+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:21:19.443+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:21:19.445+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:21:19.445+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:21:19.448+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:21:19.448+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:21:19.449+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:21:19.450+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:21:19.452+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:21:19.452+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:21:19.453+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:21:19.453+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:21:19.454+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:21:19.455+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:21:19.455+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:21:19.456+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:21:19.457+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:21:19.457+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:21:19.458+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:21:19.458+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:21:19.459+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:21:26.712+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:21:26.712+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:21:26.712+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:21:26.712+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:21:26.713+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:21:26.713+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:21:26.722+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 6 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:21:26.722+05:30 level=INFO msg="[booking] Successfully retrieved 6 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:21:29.066+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:21:29.066+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:21:29.067+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:21:29.068+05:30 level=INFO msg="[booking-controller] Verification requested: 375b4ba6-2630-4170-8f7f-0fafc841f2dd ‚Üí approve"
time=2025-11-03T01:21:29.068+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T01:21:29.078+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 375b4ba6-2630-4170-8f7f-0fafc841f2dd marked APPROVED."
time=2025-11-03T01:21:29.079+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T01:21:29.080+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T01:21:29.081+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T01:21:29.085+05:30 level=INFO msg="[get-booking-uc] Booking 375b4ba6-2630-4170-8f7f-0fafc841f2dd retrieved successfully. Status: APPROVED."
time=2025-11-03T01:21:29.086+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:21:29.086+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:21:29.098+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T01:21:29.100+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 19934274-14d0-485f-a45c-fc86a3a03dc1"
time=2025-11-03T01:21:29.102+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 19934274-14d0-485f-a45c-fc86a3a03dc1"
time=2025-11-03T01:21:29.115+05:30 level=INFO msg="[get-participant-uc] Participant 19934274-14d0-485f-a45c-fc86a3a03dc1 retrieved successfully. Name: dsfsfa"
time=2025-11-03T01:21:29.115+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 6540270e-9792-4c65-bc6b-2b78bcf686fc"
time=2025-11-03T01:21:29.117+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 6540270e-9792-4c65-bc6b-2b78bcf686fc"
time=2025-11-03T01:21:29.120+05:30 level=INFO msg="[get-participant-uc] Participant 6540270e-9792-4c65-bc6b-2b78bcf686fc retrieved successfully. Name: adfasdfadsf"
time=2025-11-03T01:21:29.125+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg"
time=2025-11-03T01:21:29.155+05:30 level=INFO msg="[generate-ticket-uc] QR placed"
time=2025-11-03T01:21:29.298+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png"
time=2025-11-03T01:21:29.298+05:30 level=INFO msg="[generate-ticket-uc] Logo added on right side of booking details"
time=2025-11-03T01:21:29.298+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 375b4ba6-2630-4170-8f7f-0fafc841f2dd"
time=2025-11-03T01:21:32.301+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:21:32.302+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:21:34.074+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:21:34.075+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:21:34.075+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:21:34.076+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:21:34.080+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:21:34.082+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:21:34.087+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 5 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:21:34.089+05:30 level=INFO msg="[booking] Successfully retrieved 5 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:21:54.634+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:21:54.634+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:21:54.635+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:21:54.636+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-03T01:21:54.636+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:21:54.642+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-03T01:21:54.643+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:21:54.643+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:21:54.643+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:21:54.648+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:21:54.651+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:21:54.652+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:21:54.655+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:21:54.656+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-03T01:21:54.657+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-03T01:21:54.660+05:30 level=INFO msg="[get-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 retrieved successfully. Name: fdadfa"
time=2025-11-03T01:21:54.664+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg"
time=2025-11-03T01:21:54.694+05:30 level=INFO msg="[generate-ticket-uc] QR placed"
time=2025-11-03T01:21:54.862+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png"
time=2025-11-03T01:21:54.863+05:30 level=INFO msg="[generate-ticket-uc] Logo added on right side of booking details"
time=2025-11-03T01:21:54.864+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:21:56.274+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-03T01:21:56.275+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-03T01:21:58.130+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:21:58.136+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:21:58.137+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:21:58.138+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:21:58.139+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:21:58.139+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:21:58.146+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 4 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:21:58.151+05:30 level=INFO msg="[booking] Successfully retrieved 4 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:25:35.032+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:25:35.035+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:25:35.035+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:25:35.036+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:25:35.036+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:25:35.036+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:25:35.360+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:25:35.361+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:25:35.361+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:25:35.361+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:25:35.361+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:25:35.363+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:25:35.363+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:25:35.364+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:25:35.364+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:25:35.364+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:25:35.364+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:25:35.365+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:25:35.365+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:25:35.366+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:25:35.366+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:25:35.366+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:25:35.366+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:25:35.367+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:25:35.367+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:25:35.367+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:25:35.368+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:25:35.368+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:25:35.369+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:25:35.369+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:25:35.370+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:25:35.370+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:25:35.370+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:25:35.372+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:25:51.267+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:25:51.267+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:25:51.268+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:25:51.268+05:30 level=INFO msg="[booking-controller] Verification requested: 5fc2921c-2328-4105-bed3-b481f307ccbb ‚Üí approve"
time=2025-11-03T01:25:51.268+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:25:51.276+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 5fc2921c-2328-4105-bed3-b481f307ccbb marked APPROVED."
time=2025-11-03T01:25:51.276+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:25:51.277+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:25:51.278+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:25:51.282+05:30 level=INFO msg="[get-booking-uc] Booking 5fc2921c-2328-4105-bed3-b481f307ccbb retrieved successfully. Status: APPROVED."
time=2025-11-03T01:25:51.283+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:25:51.283+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:25:51.291+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:25:51.291+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-03T01:25:51.292+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 66a4cd8d-b434-470b-ab7f-5c331a5643df"
time=2025-11-03T01:25:51.300+05:30 level=INFO msg="[get-participant-uc] Participant 66a4cd8d-b434-470b-ab7f-5c331a5643df retrieved successfully. Name: kalai"
time=2025-11-03T01:25:51.307+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg"
time=2025-11-03T01:25:51.330+05:30 level=INFO msg="[generate-ticket-uc] QR placed"
time=2025-11-03T01:25:51.478+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png"
time=2025-11-03T01:25:51.478+05:30 level=INFO msg="[generate-ticket-uc] Logo added on right side of booking details"
time=2025-11-03T01:25:51.480+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 5fc2921c-2328-4105-bed3-b481f307ccbb"
time=2025-11-03T01:25:54.469+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-03T01:25:54.470+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-03T01:25:55.630+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:25:55.632+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:25:55.633+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:25:55.634+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:25:55.634+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:25:55.635+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:25:55.642+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 3 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:25:55.643+05:30 level=INFO msg="[booking] Successfully retrieved 3 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:26:50.641+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:26:50.647+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:26:50.648+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:26:50.648+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:26:50.649+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:26:50.649+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:26:50.945+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:26:50.945+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:26:50.945+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:26:50.946+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:26:50.946+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:26:50.948+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:26:50.948+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:26:50.948+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:26:50.948+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:26:50.949+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:26:50.950+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:26:50.950+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:26:50.950+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:26:50.950+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:26:50.951+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:26:50.952+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:26:50.952+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:26:50.952+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:26:50.954+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:26:50.954+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:26:50.954+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:26:50.954+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:26:50.955+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:26:50.955+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:26:50.955+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:26:50.955+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:26:50.955+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:26:50.956+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:27:02.574+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:27:02.575+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:27:02.577+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:27:02.584+05:30 level=INFO msg="[booking-controller] Verification requested: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 ‚Üí approve"
time=2025-11-03T01:27:02.594+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:27:02.667+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 marked APPROVED."
time=2025-11-03T01:27:02.672+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:27:02.676+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:27:02.680+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:27:02.684+05:30 level=INFO msg="[get-booking-uc] Booking f07db260-9a9c-4f1e-94ff-80fe3e5b86a2 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:27:02.685+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:27:02.685+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:27:02.689+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T01:27:02.689+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 3b7d297b-7393-4515-b7b7-af34dc44ab57"
time=2025-11-03T01:27:02.689+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 3b7d297b-7393-4515-b7b7-af34dc44ab57"
time=2025-11-03T01:27:02.691+05:30 level=INFO msg="[get-participant-uc] Participant 3b7d297b-7393-4515-b7b7-af34dc44ab57 retrieved successfully. Name: adsfa"
time=2025-11-03T01:27:02.694+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg"
time=2025-11-03T01:27:02.706+05:30 level=INFO msg="[generate-ticket-uc] QR placed"
time=2025-11-03T01:27:02.870+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png"
time=2025-11-03T01:27:02.872+05:30 level=INFO msg="[generate-ticket-uc] Logo added on right side of booking details"
time=2025-11-03T01:27:02.875+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: f07db260-9a9c-4f1e-94ff-80fe3e5b86a2"
time=2025-11-03T01:27:05.359+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:27:05.361+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:27:08.656+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:27:08.657+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:27:08.658+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:27:08.659+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:27:08.661+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:27:08.663+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:27:08.675+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 2 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:27:08.675+05:30 level=INFO msg="[booking] Successfully retrieved 2 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:27:30.989+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:27:30.990+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:27:30.990+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:27:30.991+05:30 level=INFO msg="[booking-controller] Verification requested: 0e41b93c-092e-449a-a96c-430e0e9a2377 ‚Üí approve"
time=2025-11-03T01:27:30.991+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:27:30.999+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 marked APPROVED."
time=2025-11-03T01:27:31.000+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:27:31.001+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:27:31.001+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:27:31.005+05:30 level=INFO msg="[get-booking-uc] Booking 0e41b93c-092e-449a-a96c-430e0e9a2377 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:27:31.006+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:27:31.006+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:27:31.008+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T01:27:31.009+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7"
time=2025-11-03T01:27:31.010+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: fe77d03d-b9e3-46f8-918b-d27dcdcd70d7"
time=2025-11-03T01:27:31.012+05:30 level=INFO msg="[get-participant-uc] Participant fe77d03d-b9e3-46f8-918b-d27dcdcd70d7 retrieved successfully. Name: kalai"
time=2025-11-03T01:27:31.016+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg"
time=2025-11-03T01:27:31.037+05:30 level=INFO msg="[generate-ticket-uc] QR placed"
time=2025-11-03T01:27:31.170+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png"
time=2025-11-03T01:27:31.176+05:30 level=INFO msg="[generate-ticket-uc] Logo added on right side of booking details"
time=2025-11-03T01:27:31.180+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 0e41b93c-092e-449a-a96c-430e0e9a2377"
time=2025-11-03T01:27:32.439+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-03T01:27:32.439+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-03T01:27:33.301+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:27:33.302+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:27:33.303+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:27:33.303+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:27:33.305+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:27:33.306+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:27:33.310+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 1 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:27:33.311+05:30 level=INFO msg="[booking] Successfully retrieved 1 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:28:00.875+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:28:00.875+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:28:00.875+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:28:00.876+05:30 level=INFO msg="[booking-controller] Verification requested: 9a0083d4-ffe3-4214-8053-4be8a2f6438d ‚Üí approve"
time=2025-11-03T01:28:00.878+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T01:28:00.886+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9a0083d4-ffe3-4214-8053-4be8a2f6438d marked APPROVED."
time=2025-11-03T01:28:00.887+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T01:28:00.888+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T01:28:00.888+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T01:28:00.892+05:30 level=INFO msg="[get-booking-uc] Booking 9a0083d4-ffe3-4214-8053-4be8a2f6438d retrieved successfully. Status: APPROVED."
time=2025-11-03T01:28:00.893+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:28:00.894+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T01:28:00.898+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T01:28:00.898+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 8ffd7724-02ca-4ed5-b647-8ec1cb2bb5bb"
time=2025-11-03T01:28:00.899+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 8ffd7724-02ca-4ed5-b647-8ec1cb2bb5bb"
time=2025-11-03T01:28:00.901+05:30 level=INFO msg="[get-participant-uc] Participant 8ffd7724-02ca-4ed5-b647-8ec1cb2bb5bb retrieved successfully. Name: ewraewr"
time=2025-11-03T01:28:00.904+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg"
time=2025-11-03T01:28:00.926+05:30 level=INFO msg="[generate-ticket-uc] QR placed"
time=2025-11-03T01:28:01.041+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png"
time=2025-11-03T01:28:01.042+05:30 level=INFO msg="[generate-ticket-uc] Logo added on right side of booking details"
time=2025-11-03T01:28:01.045+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 9a0083d4-ffe3-4214-8053-4be8a2f6438d"
time=2025-11-03T01:28:02.717+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:28:02.718+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:28:05.520+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:28:05.520+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:28:05.521+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:28:05.521+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:28:05.521+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:28:05.522+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:28:05.524+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 0 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:28:05.524+05:30 level=INFO msg="[booking] Successfully retrieved 0 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:29:52.030+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:29:52.036+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:29:52.036+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:29:52.036+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:29:52.037+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:29:52.037+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:29:52.261+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:29:52.261+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:29:52.261+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:29:52.261+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:29:52.262+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:29:52.262+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:29:52.262+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:29:52.263+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:29:52.263+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:29:52.264+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:29:52.264+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:29:52.265+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:29:52.265+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:29:52.266+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:29:52.267+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:29:52.267+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:29:52.267+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:29:52.268+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:29:52.268+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:29:52.268+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:29:52.269+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:29:52.269+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:29:52.269+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:29:52.270+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:29:52.270+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:29:52.270+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:29:52.270+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:29:52.271+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:30:20.260+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:30:20.261+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:30:20.261+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:30:20.261+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:30:20.261+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:30:20.262+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:30:20.324+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 12 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:30:20.325+05:30 level=INFO msg="[booking] Successfully retrieved 12 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:30:27.168+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:30:27.169+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:30:27.169+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:30:27.170+05:30 level=INFO msg="[booking-controller] Verification requested: e88a71b1-1a41-4212-8d0f-5eba5bee6843 ‚Üí approve"
time=2025-11-03T01:30:27.171+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:30:27.184+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 marked APPROVED."
time=2025-11-03T01:30:27.185+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:30:27.187+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:30:27.188+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:30:27.194+05:30 level=INFO msg="[get-booking-uc] Booking e88a71b1-1a41-4212-8d0f-5eba5bee6843 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:30:27.196+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:30:27.200+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:30:27.211+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:30:27.212+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 645b232f-423d-40c2-8016-38a9a49fa47c"
time=2025-11-03T01:30:27.212+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 645b232f-423d-40c2-8016-38a9a49fa47c"
time=2025-11-03T01:30:27.220+05:30 level=INFO msg="[get-participant-uc] Participant 645b232f-423d-40c2-8016-38a9a49fa47c retrieved successfully. Name: sdfas"
time=2025-11-03T01:30:27.221+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 1652a4d2-8588-40a7-b2d1-5756f813d5e6"
time=2025-11-03T01:30:27.224+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 1652a4d2-8588-40a7-b2d1-5756f813d5e6"
time=2025-11-03T01:30:27.227+05:30 level=INFO msg="[get-participant-uc] Participant 1652a4d2-8588-40a7-b2d1-5756f813d5e6 retrieved successfully. Name: adfasfasdf"
time=2025-11-03T01:30:27.228+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 1aeabe6d-f0c2-4309-9e06-8a8b06abf191"
time=2025-11-03T01:30:27.229+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 1aeabe6d-f0c2-4309-9e06-8a8b06abf191"
time=2025-11-03T01:30:27.232+05:30 level=INFO msg="[get-participant-uc] Participant 1aeabe6d-f0c2-4309-9e06-8a8b06abf191 retrieved successfully. Name: asdfasdfa"
time=2025-11-03T01:30:27.232+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 635dc283-f2f5-4a5f-acb1-500958dfa74f"
time=2025-11-03T01:30:27.233+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 635dc283-f2f5-4a5f-acb1-500958dfa74f"
time=2025-11-03T01:30:27.236+05:30 level=INFO msg="[get-participant-uc] Participant 635dc283-f2f5-4a5f-acb1-500958dfa74f retrieved successfully. Name: asdfasadfas"
time=2025-11-03T01:30:27.241+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/asal.jpg"
time=2025-11-03T01:30:27.264+05:30 level=INFO msg="[generate-ticket-uc] QR placed"
time=2025-11-03T01:30:27.395+05:30 level=INFO msg="[generate-ticket-uc] Added image: resources/whitelogo.png"
time=2025-11-03T01:30:27.396+05:30 level=INFO msg="[generate-ticket-uc] Logo added on right side of booking details"
time=2025-11-03T01:30:27.396+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: e88a71b1-1a41-4212-8d0f-5eba5bee6843"
time=2025-11-03T01:30:30.277+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:30:30.278+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:30:31.594+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:30:31.595+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:30:31.595+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:30:31.596+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:30:31.597+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:30:31.599+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:30:31.667+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 11 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:30:31.667+05:30 level=INFO msg="[booking] Successfully retrieved 11 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:34:38.164+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:34:38.170+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:34:38.170+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:34:38.172+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:34:38.172+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:34:38.172+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:34:38.495+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:34:38.495+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:34:38.496+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:34:38.496+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:34:38.497+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:34:38.499+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:34:38.499+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:34:38.500+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:34:38.501+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:34:38.502+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:34:38.502+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:34:38.504+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:34:38.504+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:34:38.505+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:34:38.505+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:34:38.507+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:34:38.507+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:34:38.508+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:34:38.508+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:34:38.509+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:34:38.510+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:34:38.510+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:34:38.510+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:34:38.511+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:34:38.511+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:34:38.511+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:34:38.512+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:34:38.512+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:34:57.812+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:34:57.813+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:34:57.815+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:34:57.816+05:30 level=INFO msg="[booking-controller] Verification requested: 8635fd54-6e44-46f5-aa67-6e0ba719aadc ‚Üí approve"
time=2025-11-03T01:34:57.818+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:34:57.840+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 8635fd54-6e44-46f5-aa67-6e0ba719aadc marked APPROVED."
time=2025-11-03T01:34:57.843+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:34:57.846+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:34:57.849+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:34:57.855+05:30 level=INFO msg="[get-booking-uc] Booking 8635fd54-6e44-46f5-aa67-6e0ba719aadc retrieved successfully. Status: APPROVED."
time=2025-11-03T01:34:57.857+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-03T01:34:57.857+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 8a87b53e-2782-41bb-a86c-77a4a9954575"
time=2025-11-03T01:34:57.867+05:30 level=INFO msg="[get-payment-details-uc] Payment 8a87b53e-2782-41bb-a86c-77a4a9954575 retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:34:57.871+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: ebd35594-a413-49e4-b898-9f06247871c0"
time=2025-11-03T01:34:57.873+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: ebd35594-a413-49e4-b898-9f06247871c0"
time=2025-11-03T01:34:57.882+05:30 level=INFO msg="[get-participant-uc] Participant ebd35594-a413-49e4-b898-9f06247871c0 retrieved successfully. Name: afsfasda"
time=2025-11-03T01:34:57.883+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: a7a4203a-38a7-4ac5-b76a-9ea6e154fb83"
time=2025-11-03T01:34:57.884+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: a7a4203a-38a7-4ac5-b76a-9ea6e154fb83"
time=2025-11-03T01:34:57.888+05:30 level=INFO msg="[get-participant-uc] Participant a7a4203a-38a7-4ac5-b76a-9ea6e154fb83 retrieved successfully. Name: asdfasdadfa"
time=2025-11-03T01:34:58.081+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 8635fd54-6e44-46f5-aa67-6e0ba719aadc"
time=2025-11-03T01:35:01.208+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:35:01.208+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:35:02.967+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:35:02.968+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:35:02.969+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:35:02.969+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:35:02.971+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:35:02.972+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:35:03.036+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 10 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:35:03.036+05:30 level=INFO msg="[booking] Successfully retrieved 10 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:38:48.835+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:38:48.839+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:38:48.839+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:38:48.841+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:38:48.842+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:38:48.842+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:38:49.153+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:38:49.154+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:38:49.154+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:38:49.154+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:38:49.154+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:38:49.155+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:38:49.155+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:38:49.155+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:38:49.156+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:38:49.156+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:38:49.156+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:38:49.156+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:38:49.156+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:38:49.157+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:38:49.157+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:38:49.158+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:38:49.158+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:38:49.158+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:38:49.158+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:38:49.158+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:38:57.111+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:38:57.111+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:38:57.112+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:38:57.112+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:38:57.112+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:38:57.112+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:38:57.141+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 10 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:38:57.141+05:30 level=INFO msg="[booking] Successfully retrieved 10 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:39:01.829+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:39:01.830+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:39:01.831+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:39:01.833+05:30 level=INFO msg="[booking-controller] Verification requested: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 ‚Üí approve"
time=2025-11-03T01:39:01.834+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:39:01.845+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 marked APPROVED."
time=2025-11-03T01:39:01.846+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:39:01.846+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:39:01.848+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:39:01.852+05:30 level=INFO msg="[get-booking-uc] Booking 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:39:01.853+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:39:01.853+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:39:01.860+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:39:01.861+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-03T01:39:01.861+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c02c84e9-ebd0-43bc-8549-75b8b0280670"
time=2025-11-03T01:39:01.870+05:30 level=INFO msg="[get-participant-uc] Participant c02c84e9-ebd0-43bc-8549-75b8b0280670 retrieved successfully. Name: ewqwerq"
time=2025-11-03T01:39:01.870+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-03T01:39:01.871+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 40efb66c-6ffc-4118-9164-870a3305a6d9"
time=2025-11-03T01:39:01.874+05:30 level=INFO msg="[get-participant-uc] Participant 40efb66c-6ffc-4118-9164-870a3305a6d9 retrieved successfully. Name: ewerw"
time=2025-11-03T01:39:02.074+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 6aeacab1-1bd2-49b8-a493-99d3b1f2f4f3"
time=2025-11-03T01:39:05.019+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:39:05.019+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:39:05.239+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:39:05.239+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:39:05.240+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:39:05.240+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:39:05.241+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:39:05.241+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:39:05.288+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 9 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:39:05.289+05:30 level=INFO msg="[booking] Successfully retrieved 9 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:42:03.987+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:42:03.990+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:42:03.990+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:42:03.990+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:42:03.990+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:42:03.991+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:42:04.245+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:42:04.245+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:42:04.245+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:42:04.245+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:42:04.245+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:42:04.247+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:42:04.247+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:42:04.248+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:42:04.248+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:42:04.248+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:42:04.248+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:42:04.249+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:42:04.249+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:42:04.250+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:42:04.250+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:42:04.250+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:42:04.250+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:42:04.250+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:42:04.251+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:42:04.251+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:42:04.251+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:42:04.251+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:42:04.251+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:42:04.251+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:42:04.252+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:42:04.252+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:42:04.252+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:42:04.252+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:42:12.767+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:42:12.768+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:42:12.768+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:42:12.769+05:30 level=INFO msg="[booking-controller] Verification requested: 4d346cac-b48b-4a4e-ba52-3544c96fa095 ‚Üí approve"
time=2025-11-03T01:42:12.770+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:42:12.786+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 marked APPROVED."
time=2025-11-03T01:42:12.787+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:42:12.788+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:42:12.788+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:42:12.792+05:30 level=INFO msg="[get-booking-uc] Booking 4d346cac-b48b-4a4e-ba52-3544c96fa095 retrieved successfully. Status: APPROVED."
time=2025-11-03T01:42:12.792+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:42:12.793+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 5f0585b7-5f90-4076-a2e1-c1a4240aa13a"
time=2025-11-03T01:42:12.804+05:30 level=INFO msg="[get-payment-details-uc] Payment 5f0585b7-5f90-4076-a2e1-c1a4240aa13a retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:42:12.805+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-03T01:42:12.806+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 2328aea5-b782-4cb3-b9ce-d726dc7b02d3"
time=2025-11-03T01:42:12.813+05:30 level=INFO msg="[get-participant-uc] Participant 2328aea5-b782-4cb3-b9ce-d726dc7b02d3 retrieved successfully. Name: fdadfa"
time=2025-11-03T01:42:12.994+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 4d346cac-b48b-4a4e-ba52-3544c96fa095"
time=2025-11-03T01:42:15.619+05:30 level=INFO msg="[auth] ‚úÖ Email sent to tom249310@gmail.com via Resend."
time=2025-11-03T01:42:15.619+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to tom249310@gmail.com"
time=2025-11-03T01:42:17.172+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:42:17.173+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:42:17.173+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:42:17.174+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:42:17.176+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:42:17.178+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:42:17.250+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 8 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:42:17.250+05:30 level=INFO msg="[booking] Successfully retrieved 8 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:46:03.563+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T01:46:03.565+05:30 level=INFO msg="[main] program started"
time=2025-11-03T01:46:03.566+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T01:46:03.566+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T01:46:03.566+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T01:46:03.566+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T01:46:03.746+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T01:46:03.746+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T01:46:03.746+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T01:46:03.747+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T01:46:03.747+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T01:46:03.749+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T01:46:03.749+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T01:46:03.750+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T01:46:03.750+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T01:46:03.750+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T01:46:03.750+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T01:46:03.751+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T01:46:03.751+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T01:46:03.751+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T01:46:03.752+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T01:46:03.753+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T01:46:03.753+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T01:46:03.754+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T01:46:03.754+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T01:46:03.755+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T01:46:03.755+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T01:46:03.755+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T01:46:03.756+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T01:46:03.757+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T01:46:03.757+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T01:46:03.758+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T01:46:03.759+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T01:46:03.759+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T01:46:21.051+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:46:21.053+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T01:46:21.053+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:46:21.055+05:30 level=INFO msg="[booking-controller] Verification requested: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b ‚Üí approve"
time=2025-11-03T01:46:21.057+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:46:21.075+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b marked APPROVED."
time=2025-11-03T01:46:21.076+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:46:21.078+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:46:21.082+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:46:21.089+05:30 level=INFO msg="[get-booking-uc] Booking 9475dda0-ed29-4b55-b5cd-fe7cd535c58b retrieved successfully. Status: APPROVED."
time=2025-11-03T01:46:21.090+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-03T01:46:21.091+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 211f1803-b652-478a-8f2d-788e879512df"
time=2025-11-03T01:46:21.098+05:30 level=INFO msg="[get-payment-details-uc] Payment 211f1803-b652-478a-8f2d-788e879512df retrieved successfully. Type: Bank Transfer."
time=2025-11-03T01:46:21.098+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 3b5ae1f4-63ed-475a-9a31-a057a4f0f4aa"
time=2025-11-03T01:46:21.099+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 3b5ae1f4-63ed-475a-9a31-a057a4f0f4aa"
time=2025-11-03T01:46:21.108+05:30 level=INFO msg="[get-participant-uc] Participant 3b5ae1f4-63ed-475a-9a31-a057a4f0f4aa retrieved successfully. Name: kalai"
time=2025-11-03T01:46:21.251+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 9475dda0-ed29-4b55-b5cd-fe7cd535c58b"
time=2025-11-03T01:46:24.078+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T01:46:24.079+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T01:46:26.763+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:46:26.764+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:46:26.765+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:46:26.766+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:46:26.768+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:46:26.768+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:46:26.843+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 7 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:46:26.844+05:30 level=INFO msg="[booking] Successfully retrieved 7 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:57:26.964+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T01:57:26.964+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T01:57:26.964+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T01:57:26.965+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:57:26.965+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T01:57:26.965+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T01:57:26.997+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 7 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T01:57:26.997+05:30 level=INFO msg="[booking] Successfully retrieved 7 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T02:23:01.500+05:30 level=INFO msg="[auth] JWT configuration loaded and signing key initialized."
time=2025-11-03T02:23:01.503+05:30 level=INFO msg="[main] program started"
time=2025-11-03T02:23:01.503+05:30 level=INFO msg="[main] Configuring global middleware and database connection."
time=2025-11-03T02:23:01.504+05:30 level=INFO msg="[main] Attempting to connect to PostgreSQL..."
time=2025-11-03T02:23:01.504+05:30 level=INFO msg="[db] Attempting to open database connection..."
time=2025-11-03T02:23:01.504+05:30 level=INFO msg="[db] Pinging database to verify connection..."
time=2025-11-03T02:23:01.892+05:30 level=INFO msg="[db] Successfully connected to PostgreSQL!"
time=2025-11-03T02:23:01.893+05:30 level=INFO msg="[main] Database connection successful."
time=2025-11-03T02:23:01.893+05:30 level=INFO msg="[main] Running database migrations..."
time=2025-11-03T02:23:01.893+05:30 level=INFO msg="[db] Starting database migrations..."
time=2025-11-03T02:23:01.893+05:30 level=INFO msg="[db] Running migration for table: Users"
time=2025-11-03T02:23:01.900+05:30 level=INFO msg="[db] Successfully migrated table: Users"
time=2025-11-03T02:23:01.900+05:30 level=INFO msg="[db] Running migration for table: OTP Codes"
time=2025-11-03T02:23:01.902+05:30 level=INFO msg="[db] Successfully migrated table: OTP Codes"
time=2025-11-03T02:23:01.903+05:30 level=INFO msg="[db] Running migration for table: Seats"
time=2025-11-03T02:23:01.905+05:30 level=INFO msg="[db] Successfully migrated table: Seats"
time=2025-11-03T02:23:01.905+05:30 level=INFO msg="[db] Running migration for table: Concerts"
time=2025-11-03T02:23:01.907+05:30 level=INFO msg="[db] Successfully migrated table: Concerts"
time=2025-11-03T02:23:01.908+05:30 level=INFO msg="[db] Running migration for table: Participants"
time=2025-11-03T02:23:01.910+05:30 level=INFO msg="[db] Successfully migrated table: Participants"
time=2025-11-03T02:23:01.910+05:30 level=INFO msg="[db] Running migration for table: Payments"
time=2025-11-03T02:23:01.912+05:30 level=INFO msg="[db] Successfully migrated table: Payments"
time=2025-11-03T02:23:01.913+05:30 level=INFO msg="[db] Running migration for table: Bookings"
time=2025-11-03T02:23:01.914+05:30 level=INFO msg="[db] Successfully migrated table: Bookings"
time=2025-11-03T02:23:01.914+05:30 level=INFO msg="[db] All migrations completed successfully."
time=2025-11-03T02:23:01.915+05:30 level=INFO msg="[main] Database migrations completed successfully."
time=2025-11-03T02:23:01.915+05:30 level=INFO msg="[router] Registering public authentication and read-only routes."
time=2025-11-03T02:23:01.917+05:30 level=INFO msg="[router] Configuring '/api/v1' protected group (JWT Required)."
time=2025-11-03T02:23:01.917+05:30 level=WARN msg="[router] Configuring '/api/v1/admin' group (Admin Role Required)."
time=2025-11-03T02:23:01.919+05:30 level=INFO msg="[router] Admin: Seats CRUD configured."
time=2025-11-03T02:23:01.919+05:30 level=INFO msg="[router] Admin: Concerts CRUD configured."
time=2025-11-03T02:23:01.920+05:30 level=INFO msg="[router] Admin: Participants CRUD configured."
time=2025-11-03T02:23:01.920+05:30 level=INFO msg="[router] Admin: Payments CRUD configured."
time=2025-11-03T02:23:01.920+05:30 level=INFO msg="[router] Admin: Booking Update/Delete configured."
time=2025-11-03T02:23:15.844+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-03T02:23:15.845+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-03T02:23:15.846+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-03T02:23:15.859+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-03T02:23:15.861+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-03T02:23:15.861+05:30 level=INFO msg="[get-all-seat-uc] Starting retrieval of all seat records."
time=2025-11-03T02:23:15.861+05:30 level=INFO msg="[get-all-seat-uc] Executing SELECT all query."
time=2025-11-03T02:23:15.863+05:30 level=INFO msg="[get-all-seat-uc] Successfully retrieved 4 seat records."
time=2025-11-03T02:23:44.213+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-03T02:23:44.213+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-03T02:23:44.214+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-03T02:23:44.219+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-03T02:23:44.223+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-03T02:23:44.224+05:30 level=INFO msg="[get-all-payment-details-uc] Starting retrieval of all payment records."
time=2025-11-03T02:23:44.224+05:30 level=INFO msg="[get-all-payment-details-uc] Executing SELECT all query."
time=2025-11-03T02:23:44.225+05:30 level=INFO msg="[get-all-payment-details-uc] Successfully retrieved 4 payment records."
time=2025-11-03T02:23:54.786+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-03T02:23:54.788+05:30 level=INFO msg="[create-booking-uc] üü¢ Starting booking process"
time=2025-11-03T02:23:54.794+05:30 level=INFO msg="[get-seat-uc] Starting transactional lock (FOR UPDATE) for SeatID: 0a9480da-6021-48a5-8d88-85a995a37110"
time=2025-11-03T02:23:54.821+05:30 level=INFO msg="[get-seat-uc] Seat 0a9480da-6021-48a5-8d88-85a995a37110 successfully locked for update. Current Available: 12"
time=2025-11-03T02:23:54.822+05:30 level=INFO msg="[update-seat-uc] Starting transactional availability update for ID: 0a9480da-6021-48a5-8d88-85a995a37110. New count: 7"
time=2025-11-03T02:23:54.839+05:30 level=INFO msg="[update-seat-uc] Seat 0a9480da-6021-48a5-8d88-85a995a37110 availability updated to 7 within transaction."
time=2025-11-03T02:23:54.840+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-03T02:23:54.841+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 41f4accd-53c1-435c-bf60-2472fff02c07 for Name: asdfas"
time=2025-11-03T02:23:54.854+05:30 level=INFO msg="[create-participant-uc] Participant 41f4accd-53c1-435c-bf60-2472fff02c07 inserted successfully within transaction."
time=2025-11-03T02:23:54.855+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-03T02:23:54.857+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: c49cd1b6-072d-4c64-8abb-4792266bf5f7 for Name: adfadf"
time=2025-11-03T02:23:54.862+05:30 level=INFO msg="[create-participant-uc] Participant c49cd1b6-072d-4c64-8abb-4792266bf5f7 inserted successfully within transaction."
time=2025-11-03T02:23:54.863+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-03T02:23:54.863+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: f5bd8b1b-e49b-459e-bffe-237d9d6fa464 for Name: dfadsfafadfa"
time=2025-11-03T02:23:54.870+05:30 level=INFO msg="[create-participant-uc] Participant f5bd8b1b-e49b-459e-bffe-237d9d6fa464 inserted successfully within transaction."
time=2025-11-03T02:23:54.872+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-03T02:23:54.874+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 4661ca59-7682-4fbd-8e71-cc03093c82ee for Name: adfasfadf"
time=2025-11-03T02:23:54.875+05:30 level=INFO msg="[create-participant-uc] Participant 4661ca59-7682-4fbd-8e71-cc03093c82ee inserted successfully within transaction."
time=2025-11-03T02:23:54.876+05:30 level=INFO msg="[create-participant-uc] Starting transactional participant creation."
time=2025-11-03T02:23:54.877+05:30 level=INFO msg="[create-participant-uc] Generated Transactional UserID: 6ca3f359-4423-42d3-a14d-09788ae85833 for Name: adfasfasfdas"
time=2025-11-03T02:23:54.879+05:30 level=INFO msg="[create-participant-uc] Participant 6ca3f359-4423-42d3-a14d-09788ae85833 inserted successfully within transaction."
time=2025-11-03T02:23:54.918+05:30 level=INFO msg="[create-booking-uc] ‚úÖ Booking committed successfully: 8245cd3b-c082-4ac4-b657-33ec040bcaf3"
time=2025-11-03T02:23:54.919+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin email: selvanunofficial@gmail.com"
time=2025-11-03T02:23:57.777+05:30 level=INFO msg="[auth] ‚úÖ Email sent to selvanunofficial@gmail.com via Resend."
time=2025-11-03T02:23:57.778+05:30 level=INFO msg="[create-booking-uc] ‚úâÔ∏è Admin notified of new booking: 8245cd3b-c082-4ac4-b657-33ec040bcaf3"
time=2025-11-03T02:23:58.162+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-03T02:23:58.162+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-03T02:23:58.163+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-03T02:23:58.172+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-03T02:23:58.177+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 5d9b57e4-bcd9-4df2-9aa9-08b18e59307c, Role: user"
time=2025-11-03T02:23:58.177+05:30 level=INFO msg="[get-all-concert-uc] Starting retrieval of all concerts."
time=2025-11-03T02:23:58.177+05:30 level=INFO msg="[get-all-concert-uc] Executing SELECT all query."
time=2025-11-03T02:23:58.179+05:30 level=INFO msg="[get-all-concert-uc] Successfully retrieved 1 concerts."
time=2025-11-03T02:24:08.254+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T02:24:08.254+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T02:24:08.255+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T02:24:08.255+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T02:24:08.255+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T02:24:08.255+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T02:24:08.328+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 8 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T02:24:08.329+05:30 level=INFO msg="[booking] Successfully retrieved 8 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T02:24:11.413+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T02:24:11.413+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:bookingID/verify. Required role: Admin. User role: admin"
time=2025-11-03T02:24:11.414+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T02:24:11.415+05:30 level=INFO msg="[booking-controller] Verification requested: 8245cd3b-c082-4ac4-b657-33ec040bcaf3 ‚Üí approve"
time=2025-11-03T02:24:11.416+05:30 level=INFO msg="[approve-booking-uc] Processing booking approval for: 8245cd3b-c082-4ac4-b657-33ec040bcaf3"
time=2025-11-03T02:24:11.425+05:30 level=INFO msg="[approve-booking-uc] ‚úÖ Booking 8245cd3b-c082-4ac4-b657-33ec040bcaf3 marked APPROVED."
time=2025-11-03T02:24:11.426+05:30 level=INFO msg="[generate-ticket-uc] Generating ticket for bookingID: 8245cd3b-c082-4ac4-b657-33ec040bcaf3"
time=2025-11-03T02:24:11.427+05:30 level=INFO msg="[get-booking-uc] Starting standard read for BookingID: 8245cd3b-c082-4ac4-b657-33ec040bcaf3"
time=2025-11-03T02:24:11.429+05:30 level=INFO msg="[get-booking-uc] Executing standard DB query for ID: 8245cd3b-c082-4ac4-b657-33ec040bcaf3"
time=2025-11-03T02:24:11.435+05:30 level=INFO msg="[get-booking-uc] Booking 8245cd3b-c082-4ac4-b657-33ec040bcaf3 retrieved successfully. Status: APPROVED."
time=2025-11-03T02:24:11.438+05:30 level=INFO msg="[get-seat-uc] Starting GET read operation for ID: 0a9480da-6021-48a5-8d88-85a995a37110"
time=2025-11-03T02:24:11.438+05:30 level=INFO msg="[get-seat-uc] Executing standard read query for ID: 0a9480da-6021-48a5-8d88-85a995a37110"
time=2025-11-03T02:24:11.441+05:30 level=INFO msg="[get-seat-uc] Seat 0a9480da-6021-48a5-8d88-85a995a37110 retrieved successfully. Available: 7"
time=2025-11-03T02:24:11.442+05:30 level=INFO msg="[get-payment-details-uc] Starting retrieval for PaymentID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T02:24:11.444+05:30 level=INFO msg="[get-payment-details-uc] Executing SELECT query for ID: 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6"
time=2025-11-03T02:24:11.453+05:30 level=INFO msg="[get-payment-details-uc] Payment 2141c1aa-a6e7-4ebd-b3fb-6c481bca25f6 retrieved successfully. Type: UPI."
time=2025-11-03T02:24:11.456+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 41f4accd-53c1-435c-bf60-2472fff02c07"
time=2025-11-03T02:24:11.458+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 41f4accd-53c1-435c-bf60-2472fff02c07"
time=2025-11-03T02:24:11.466+05:30 level=INFO msg="[get-participant-uc] Participant 41f4accd-53c1-435c-bf60-2472fff02c07 retrieved successfully. Name: asdfas"
time=2025-11-03T02:24:11.467+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: c49cd1b6-072d-4c64-8abb-4792266bf5f7"
time=2025-11-03T02:24:11.468+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: c49cd1b6-072d-4c64-8abb-4792266bf5f7"
time=2025-11-03T02:24:11.471+05:30 level=INFO msg="[get-participant-uc] Participant c49cd1b6-072d-4c64-8abb-4792266bf5f7 retrieved successfully. Name: adfadf"
time=2025-11-03T02:24:11.472+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: f5bd8b1b-e49b-459e-bffe-237d9d6fa464"
time=2025-11-03T02:24:11.473+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: f5bd8b1b-e49b-459e-bffe-237d9d6fa464"
time=2025-11-03T02:24:11.476+05:30 level=INFO msg="[get-participant-uc] Participant f5bd8b1b-e49b-459e-bffe-237d9d6fa464 retrieved successfully. Name: dfadsfafadfa"
time=2025-11-03T02:24:11.478+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 4661ca59-7682-4fbd-8e71-cc03093c82ee"
time=2025-11-03T02:24:11.479+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 4661ca59-7682-4fbd-8e71-cc03093c82ee"
time=2025-11-03T02:24:11.481+05:30 level=INFO msg="[get-participant-uc] Participant 4661ca59-7682-4fbd-8e71-cc03093c82ee retrieved successfully. Name: adfasfadf"
time=2025-11-03T02:24:11.482+05:30 level=INFO msg="[get-participant-uc] Starting retrieval for UserID: 6ca3f359-4423-42d3-a14d-09788ae85833"
time=2025-11-03T02:24:11.482+05:30 level=INFO msg="[get-participant-uc] Executing SELECT query for ID: 6ca3f359-4423-42d3-a14d-09788ae85833"
time=2025-11-03T02:24:11.486+05:30 level=INFO msg="[get-participant-uc] Participant 6ca3f359-4423-42d3-a14d-09788ae85833 retrieved successfully. Name: adfasfasfdas"
time=2025-11-03T02:24:11.670+05:30 level=INFO msg="[generate-ticket-uc] ‚úÖ PDF generated successfully for bookingID: 8245cd3b-c082-4ac4-b657-33ec040bcaf3"
time=2025-11-03T02:24:13.837+05:30 level=INFO msg="[auth] ‚úÖ Email sent to kalaiselvan7834@gmail.com via Resend."
time=2025-11-03T02:24:13.840+05:30 level=INFO msg="[approve-booking-uc] ‚úâÔ∏è Approval email sent to kalaiselvan7834@gmail.com"
time=2025-11-03T02:24:14.172+05:30 level=INFO msg="[auth] ‚úÖ JWT validated. UserID: 157f8d03-770e-455a-8576-82108f2833e4, Role: admin"
time=2025-11-03T02:24:14.172+05:30 level=INFO msg="[auth] RBAC check for path /api/v1/admin/bookings/:concertID/:status. Required role: Admin. User role: admin"
time=2025-11-03T02:24:14.174+05:30 level=INFO msg="[auth] RBAC PASSED for Admin UserID: 157f8d03-770e-455a-8576-82108f2833e4"
time=2025-11-03T02:24:14.175+05:30 level=INFO msg="[booking] Fetching booking history for concertID: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T02:24:14.176+05:30 level=INFO msg="[get-all-booking-concertID-uc] Retrieving bookings for concert: 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db"
time=2025-11-03T02:24:14.177+05:30 level=INFO msg="[get-all-booking-concertID-uc] Executing SELECT all query (filtered)."
time=2025-11-03T02:24:14.228+05:30 level=INFO msg="[get-all-booking-concertID-uc] Successfully retrieved 7 booking records for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
time=2025-11-03T02:24:14.229+05:30 level=INFO msg="[booking] Successfully retrieved 7 bookings for 0bc70b25-b1ba-4d53-b955-b54ac0ebe0db."
